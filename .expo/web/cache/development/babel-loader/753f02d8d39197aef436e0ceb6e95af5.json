{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Projets\\\\Acadys\\\\best4sante\\\\SanteV2\\\\assets\\\\Screens\\\\DiagResult.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { connect } from 'react-redux';\nimport * as Permissions from 'expo-permissions';\nimport * as Location from 'expo-location';\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    Idquestion: state.Idquestion,\n    point: state.point,\n    age: state.age,\n    taille: state.taille,\n    poids: state.poids\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(_dispatch) {\n  return {\n    dispatch: function dispatch(action) {\n      _dispatch(action);\n    }\n  };\n};\n\nvar DiagResult = function (_React$Component) {\n  _inherits(DiagResult, _React$Component);\n\n  var _super = _createSuper(DiagResult);\n\n  function DiagResult(props) {\n    var _this;\n\n    _classCallCheck(this, DiagResult);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(_this._getCountryCodeByLocation());\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._getCountryCodeByLocation = function _callee3() {\n      var _await$Permissions$as, status, location;\n\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.LOCATION));\n\n            case 2:\n              _await$Permissions$as = _context3.sent;\n              status = _await$Permissions$as.status;\n\n              if (!(status !== 'granted')) {\n                _context3.next = 8;\n                break;\n              }\n\n              _this.setState({\n                errorMessage: 'Permission to access location was denied'\n              });\n\n              _context3.next = 12;\n              break;\n\n            case 8:\n              _context3.next = 10;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 10:\n              location = _context3.sent;\n              axios.get(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=46.5286307,6.5124095&key=\" + API_KEY).then(function _callee2(response) {\n                var globalRes, resObj, local, res;\n                return _regeneratorRuntime.async(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        globalRes = response.data.results[0].address_components;\n                        _context2.next = 3;\n                        return _regeneratorRuntime.awrap(globalRes.filter(function (el) {\n                          return el.types.includes(\"country\");\n                        }));\n\n                      case 3:\n                        resObj = _context2.sent;\n                        _context2.next = 6;\n                        return _regeneratorRuntime.awrap(resObj[0].short_name);\n\n                      case 6:\n                        local = _context2.sent;\n                        res = emergency.data.filter(function (el) {\n                          return el.Country.ISOCode == local;\n                        });\n\n                        _this.setState({\n                          urgence: res\n                        });\n\n                      case 9:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.callUrgence = function _callee4() {\n      var num;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(_this.findNumber());\n\n            case 2:\n              num = _context4.sent;\n\n              _this.callPerson(num.ambulance);\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.findNumber = function _callee5() {\n      var urgence, num;\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              urgence = _this.state.urgence;\n              num = {\n                ambulance: urgence[0].Ambulance.All[0],\n                fire: urgence[0].Fire.All[0],\n                police: urgence[0].Police.All[0]\n              };\n              return _context5.abrupt(\"return\", num);\n\n            case 3:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      index: 1,\n      error: null,\n      isLoading: false,\n      urgence: {}\n    };\n    _this.imc = 0;\n    return _this;\n  }\n\n  _createClass(DiagResult, [{\n    key: \"callPerson\",\n    value: function callPerson(phone) {\n      var url;\n\n      if (Platform.OS === 'ios') {\n        url = 'tel://' + phone;\n      } else if (Platform.OS === 'android') {\n        url = 'tel:' + phone;\n      }\n\n      Linking.canOpenURL(url).then(function (supported) {\n        if (supported) {\n          return Linking.openURL(url).catch(function () {\n            return null;\n          });\n        }\n      });\n    }\n  }, {\n    key: \"calculIMC\",\n    value: function calculIMC() {\n      var taille = this.props.Idquestion.taille / 100;\n      var poids = this.props.Idquestion.poids;\n      return poids / (taille * taille);\n    }\n  }, {\n    key: \"interpretation\",\n    value: function interpretation() {\n      var point = this.props.Idquestion.point / 2;\n\n      if (this.props.Idquestion.point >= 40) {\n        return \"Appelez le 144, vos symptômes ou antécédents nécessitent un avis rapide.\";\n      } else {\n        if (this.props.Idquestion.point >= 15 && this.props.Idquestion.point <= 39) {\n          return \"Votre situation peut relever d’un COVID 19 qu’il faut surveiller.\";\n        }\n\n        if (this.props.Idquestion.point >= 0 && this.props.Idquestion.point < 15) {\n          return \"Votre situation ne relève probablement pas du Covid-19  . N’hésitez pas à contacter votre médecin  en cas de doute. Vous pouvez refaire le test en cas de nouveau symptôme pour réévaluer la situation.\";\n        }\n      }\n    }\n  }, {\n    key: \"testGrave\",\n    value: function testGrave() {\n      var _this2 = this;\n\n      if (this.props.Idquestion.point >= 40) {\n        return React.createElement(View, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }\n        }, React.createElement(View, {\n          style: styles.seConnecterFacebook,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 18\n          }\n        }, React.createElement(TouchableOpacity, {\n          style: {\n            alignSelf: 'center',\n            flexDirection: 'row'\n          },\n          onPress: function onPress() {\n            return _this2.callPerson('144');\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 20\n          }\n        }, React.createElement(Image, {\n          style: styles.imageFacebook,\n          source: require(\"../images/malaise.png\"),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 24\n          }\n        }), React.createElement(Text, {\n          style: styles.textFacebook,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 24\n          }\n        }, \"Appel le  144 \"))));\n      }\n    }\n  }, {\n    key: \"callPerson\",\n    value: function callPerson(phone) {\n      var url;\n\n      if (Platform.OS === 'ios') {\n        url = 'tel://' + phone;\n      } else if (Platform.OS === 'android') {\n        url = 'tel:' + phone;\n      }\n\n      Linking.canOpenURL(url).then(function (supported) {\n        if (supported) {\n          return Linking.openURL(url).catch(function () {\n            return null;\n          });\n        }\n      });\n    }\n  }, {\n    key: \"goHome\",\n    value: function goHome() {\n      var ques = {\n        Id: 1,\n        point: 0,\n        age: 0,\n        taille: 0,\n        poids: 0\n      };\n      var action = {\n        type: \"Next\",\n        value: ques\n      };\n      this.props.dispatch(action);\n      this.props.navigation.navigate(\"Menu\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(this.props);\n      return React.createElement(ScrollView, {\n        style: styles.main_contenair,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.main_contenair,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.main,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.question,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }\n      }, this.interpretation()), React.createElement(View, {\n        style: styles.divQuestion,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 17\n        }\n      }, this.testGrave()), React.createElement(View, {\n        style: styles.seConnecterFacebook,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 18\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          alignSelf: 'center',\n          flexDirection: 'row'\n        },\n        onPress: function onPress() {\n          return _this3.goHome();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 20\n        }\n      }, React.createElement(Image, {\n        style: styles.imageFacebook,\n        source: require(\"../images/Splash(FondBlanc).png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 24\n        }\n      }), React.createElement(Text, {\n        style: styles.textMen,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 24\n        }\n      }, \"Terminer\"))))));\n    }\n  }]);\n\n  return DiagResult;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  main_contenair: {\n    backgroundColor: \"#00C1B4\",\n    flex: 1\n  },\n  main: {\n    alignContent: 'center',\n    alignItems: 'center',\n    marginTop: 200\n  },\n  seConnecterFacebook: {\n    height: 70,\n    backgroundColor: '#00C1BC',\n    textAlign: 'center',\n    alignContent: 'center',\n    marginTop: 10,\n    borderWidth: 0.2,\n    borderRadius: 5,\n    paddingTop: 5,\n    paddingBottom: 5,\n    paddingLeft: 50,\n    paddingRight: 50,\n    fontSize: 15,\n    shadowColor: 'rgba(23, 149, 205, 0.5)',\n    shadowOpacity: 1.5,\n    elevation: 8,\n    shadowRadius: 20,\n    shadowOffset: {\n      width: 1,\n      height: 13\n    },\n    backgroundColor: '#FFF',\n    color: '#1795cd'\n  },\n  imageFacebook: {\n    width: 60,\n    height: 60,\n    marginLeft: -20\n  },\n  textFacebook: {\n    color: 'red',\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    alignSelf: 'center'\n  },\n  textMen: {\n    color: '#00C1BC',\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    alignSelf: 'center'\n  },\n  buttonStyle: {\n    marginTop: 20,\n    width: 150,\n    backgroundColor: \"white\",\n    paddingBottom: 10,\n    borderBottomColor: \"#008AC8\",\n    borderBottomWidth: 6,\n    alignItems: \"center\"\n  },\n  question: {\n    textAlign: 'center',\n    alignContent: 'center',\n    alignItems: 'center',\n    fontSize: 18,\n    color: '#fff',\n    fontWeight: 'bold',\n    marginLeft: 35,\n    marginRight: 35\n  },\n  text: {\n    marginTop: 200,\n    textAlign: 'center'\n  }\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(DiagResult);","map":{"version":3,"sources":["E:/Projets/Acadys/best4sante/SanteV2/assets/Screens/DiagResult.js"],"names":["React","connect","Permissions","Location","mapStateToProps","state","Idquestion","point","age","taille","poids","mapDispatchToProps","dispatch","action","DiagResult","props","componentDidMount","_getCountryCodeByLocation","askAsync","LOCATION","status","setState","errorMessage","getCurrentPositionAsync","location","axios","get","API_KEY","then","response","globalRes","data","results","address_components","filter","el","types","includes","resObj","short_name","local","res","emergency","Country","ISOCode","urgence","catch","err","console","log","callUrgence","findNumber","num","callPerson","ambulance","Ambulance","All","fire","Fire","police","Police","index","error","isLoading","imc","phone","url","Platform","OS","Linking","canOpenURL","supported","openURL","styles","seConnecterFacebook","alignSelf","flexDirection","imageFacebook","require","textFacebook","ques","Id","type","value","navigation","navigate","main_contenair","main","question","interpretation","divQuestion","testGrave","goHome","textMen","Component","StyleSheet","create","backgroundColor","flex","alignContent","alignItems","marginTop","height","textAlign","borderWidth","borderRadius","paddingTop","paddingBottom","paddingLeft","paddingRight","fontSize","shadowColor","shadowOpacity","elevation","shadowRadius","shadowOffset","width","color","marginLeft","fontWeight","buttonStyle","borderBottomColor","borderBottomWidth","marginRight","text"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {View,Text,StyleSheet,Image,TextInput,Button,Linking, Alert,TouchableOpacity,ScrollView } from 'react-native'\r\nimport { connect } from 'react-redux'\r\nimport * as Permissions from 'expo-permissions';\r\nimport * as Location from 'expo-location';\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Idquestion : state.Idquestion,\r\n        point :state.point,\r\n        age:state.age,\r\n        taille:state.taille,\r\n        poids:state.poids,\r\n        \r\n    }\r\n  }\r\n  const mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      dispatch: (action) => { dispatch(action) }\r\n    }\r\n  }\r\nclass DiagResult extends React.Component{\r\n    constructor(props){\r\n        super(props) \r\n        this.state = {\r\n            index:1,\r\n            error: null,\r\n            isLoading: false,\r\n\r\n            urgence : {}\r\n          }   \r\n          this.imc=0     \r\n    }\r\n\r\n    componentDidMount = async() =>{\r\n        await this._getCountryCodeByLocation()\r\n    }\r\n\r\n    _getCountryCodeByLocation = async () => {\r\n        let { status } = await Permissions.askAsync(Permissions.LOCATION);\r\n        if (status !== 'granted') {\r\n            this.setState({\r\n                errorMessage: 'Permission to access location was denied',\r\n            });\r\n        }else{\r\n            let location = await Location.getCurrentPositionAsync({});\r\n        \r\n\r\n            axios.get(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=46.5286307,6.5124095&key=\" + API_KEY)\r\n\r\n      //  axios.get(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\" + location.coords.latitude + \",\" + location.coords.longitude + \"&key=\" + API_KEY)\r\n            .then(async response => {\r\n                const globalRes = response.data.results[0].address_components\r\n               \r\n                let resObj = await globalRes.filter(el => {\r\n                    return el.types.includes(\"country\")\r\n                })\r\n                const local = await resObj[0].short_name\r\n               let res= emergency.data.filter(el =>{\r\n                   return el.Country.ISOCode == local\r\n               })\r\n\r\n               this.setState({\r\n                   urgence : res\r\n               })\r\n\r\n\r\n\r\n            })\r\n            .catch(err =>{\r\n                console.log(err)\r\n            })\r\n        }\r\n\r\n        \r\n\r\n    };\r\n\r\n    callUrgence = async () =>{\r\n      \r\n      \r\n        let num = await   this.findNumber()\r\n           this.callPerson(num.ambulance)  \r\n\r\n\r\n    }\r\n\r\n    callPerson(phone){\r\n        let url;\r\n        if(Platform.OS === 'ios') {\r\n          url  = 'tel://'+phone\r\n        }\r\n        else if(Platform.OS === 'android') {\r\n            url = 'tel:'+phone\r\n            \r\n        }\r\n    \r\n        Linking.canOpenURL(url)\r\n          .then((supported) => {\r\n            if (supported) {\r\n              return Linking.openURL(url)\r\n                .catch(() => null);\r\n            }\r\n          });\r\n        \r\n    }\r\n\r\n    findNumber = async  () =>{\r\n        let urgence = this.state.urgence\r\n\r\n\r\n        const num = {\r\n            ambulance : urgence[0].Ambulance.All[0],\r\n            fire : urgence[0].Fire.All[0],\r\n            police : urgence[0].Police.All[0]\r\n        }\r\n        return num\r\n    }\r\n\r\n    calculIMC(){\r\n       const taille= this.props.Idquestion.taille/100\r\n       const poids=this.props.Idquestion.poids\r\n       return poids/(taille*taille)\r\n    }\r\n    interpretation(){\r\n        const point=this.props.Idquestion.point/2;\r\n        if(this.props.Idquestion.point>=40){\r\n            return \"Appelez le 144, vos symptômes ou antécédents nécessitent un avis rapide.\"\r\n            \r\n        }\r\n        else{\r\n            if(this.props.Idquestion.point>=15 && this.props.Idquestion.point<=39){\r\n                return \"Votre situation peut relever d’un COVID 19 qu’il faut surveiller.\" \r\n            }\r\n            if(this.props.Idquestion.point>=0 && this.props.Idquestion.point<15){\r\n                return \"Votre situation ne relève probablement pas du Covid-19  . N’hésitez pas à contacter votre médecin  en cas de doute. Vous pouvez refaire le test en cas de nouveau symptôme pour réévaluer la situation.\"\r\n            }\r\n        }\r\n    }\r\n    testGrave(){\r\n        if(this.props.Idquestion.point>=40){\r\n            return(\r\n            <View>\r\n                 <View style={styles.seConnecterFacebook}>\r\n                   <TouchableOpacity style={{alignSelf:'center',flexDirection:'row'}}  onPress={() =>this.callPerson('144')}>\r\n                       <Image style={styles.imageFacebook} source={require('../images/malaise.png')}/>\r\n                       <Text style={styles.textFacebook}>Appel le  144 </Text>\r\n                     </TouchableOpacity>\r\n                   </View>\r\n            </View>\r\n            )\r\n        }\r\n    }\r\n    callPerson(phone){\r\n        let url;\r\n        if(Platform.OS === 'ios') {\r\n          url  = 'tel://'+phone\r\n        }\r\n        else if(Platform.OS === 'android') {\r\n            url = 'tel:'+phone\r\n            \r\n        }\r\n        Linking.canOpenURL(url)\r\n        .then((supported) => {\r\n          if (supported) {\r\n            return Linking.openURL(url)\r\n              .catch(() => null);\r\n          }\r\n        });\r\n    }\r\n    goHome(){\r\n        const ques={Id:1,point:0,age:0,taille:0,poids:0}\r\n        const action = { type: \"Next\", value: ques}\r\n        this.props.dispatch(action)\r\n        this.props.navigation.navigate(\"Menu\")\r\n    }\r\n    render(){\r\n        console.log(this.props)\r\n        return(\r\n            <ScrollView  style={styles.main_contenair}>\r\n                \r\n            <View style={styles.main_contenair}>\r\n                <View style={styles.main}>\r\n                <Text style={styles.question}>{this.interpretation()}</Text>\r\n                <View style={styles.divQuestion}>\r\n                    {this.testGrave()}\r\n                 </View>  \r\n                 <View style={styles.seConnecterFacebook}>\r\n                   <TouchableOpacity style={{alignSelf:'center',flexDirection:'row'}}  onPress={() =>this.goHome() }>\r\n                       <Image style={styles.imageFacebook} source={require('../images/Splash(FondBlanc).png')}/>\r\n                       <Text style={styles.textMen}>Terminer</Text>\r\n                     </TouchableOpacity>\r\n                   </View>  \r\n                  \r\n                   \r\n                </View>\r\n                \r\n            </View>\r\n            </ScrollView>\r\n        );\r\n    }\r\n}\r\nconst styles=StyleSheet.create(\r\n    {\r\n        main_contenair:{\r\n            backgroundColor:\"#00C1B4\",\r\n            flex:1\r\n        },\r\n        main:{\r\n            alignContent:'center',\r\n            alignItems:'center',\r\n            marginTop:200\r\n        },\r\n        seConnecterFacebook:{\r\n            height:70,\r\n            backgroundColor:'#00C1BC',\r\n            textAlign:'center',\r\n            alignContent:'center',\r\n            marginTop:10,\r\n            borderWidth:0.2,\r\n            borderRadius:5,\r\n            paddingTop: 5,\r\n            paddingBottom: 5,\r\n            paddingLeft: 50,\r\n            paddingRight: 50,\r\n            fontSize:15,\r\n            shadowColor: 'rgba(23, 149, 205, 0.5)',\r\n            shadowOpacity: 1.5,\r\n            elevation: 8,\r\n            shadowRadius: 20 ,\r\n            shadowOffset : { width: 1, height: 13},\r\n            backgroundColor: '#FFF',\r\n            color: '#1795cd',\r\n        },\r\n        imageFacebook:{\r\n            width:60,\r\n            height:60,\r\n            marginLeft:-20\r\n        },\r\n        textFacebook:{\r\n            color: 'red',\r\n            fontSize:18,\r\n            fontWeight:'bold',\r\n            textAlign:'center',\r\n           alignSelf:'center'\r\n        },\r\n        textMen:{\r\n            color: '#00C1BC',\r\n            fontSize:18,\r\n            fontWeight:'bold',\r\n            textAlign:'center',\r\n           alignSelf:'center'\r\n        },\r\n        buttonStyle: {\r\n            marginTop: 20, \r\n            width: 150, \r\n            backgroundColor: \"white\",\r\n            //paddingTop: hp('1%'),\r\n            paddingBottom: 10,\r\n            //marginBottom: hp(\"2%\"),\r\n            borderBottomColor: \"#008AC8\",\r\n            borderBottomWidth: 6,\r\n            alignItems: \"center\"\r\n          },\r\n        question:{\r\n            textAlign:'center',\r\n            alignContent:'center',\r\n            alignItems:'center',\r\n            fontSize:18,\r\n            color:'#fff',\r\n            fontWeight:'bold',\r\n            marginLeft:35,\r\n            marginRight:35\r\n            \r\n        },\r\n        text:{\r\n           marginTop:200,\r\n           textAlign:'center'\r\n        }\r\n    }\r\n)\r\nexport default connect(mapStateToProps,mapDispatchToProps) (DiagResult);"]},"metadata":{},"sourceType":"module"}