{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Projets\\\\Acadys\\\\best4sante\\\\SanteV2\\\\assets\\\\component\\\\DetailCard.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport { withNavigation } from 'react-navigation';\nimport { faAngleUp, faAngleDown, faPhoneSquareAlt, faDirections, faStar, faTimes, faHeart } from '@fortawesome/free-solid-svg-icons';\nimport { connect } from 'react-redux';\nimport { addFavorite, deleteFavorite } from \"../Action\";\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\nimport axios from \"axios\";\nimport Bdd from \"../API/Bdd\";\nvar CARD_INITIAL_POSITION_Y = hp('78%');\nvar CARD_INITIAL_POSITION_X = wp('5%');\nvar CARD_OPEN_POSITION = hp('35%');\n\nvar DetailCard = function (_React$Component) {\n  _inherits(DetailCard, _React$Component);\n\n  var _super = _createSuper(DetailCard);\n\n  function DetailCard(props) {\n    var _this;\n\n    _classCallCheck(this, DetailCard);\n\n    _this = _super.call(this, props);\n\n    _this.resetOpenPosition = function () {\n      Animated.spring(_this.position, {\n        toValue: {\n          x: CARD_INITIAL_POSITION_X,\n          y: CARD_INITIAL_POSITION_Y\n        }\n      }).start(_this.setState({\n        isOpen: false\n      }));\n    };\n\n    _this.setOpenPosition = function () {\n      Animated.spring(_this.position, {\n        toValue: {\n          x: CARD_INITIAL_POSITION_X,\n          y: CARD_OPEN_POSITION\n        }\n      }).start(_this.setState({\n        isOpen: true\n      }));\n    };\n\n    _this.createCalendar = function (dates) {\n      var now = new Date();\n      var days = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'];\n      var calendars = [[], [], [], [], [], [], []];\n      dates.map(function (date, index) {\n        if (date.close.day !== undefined) {\n          calendars[date.close.day].push({\n            close: date.close\n          });\n          calendars[date.close.day].push({\n            open: date.open\n          });\n        }\n      });\n      return React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          marginLeft: wp('2%'),\n          marginRight: wp('2%'),\n          marginTop: hp('3%')\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.title3,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 21\n        }\n      }, \"Lundi :\", calendars[1].length === 0 && 'Fermé', calendars[1].length === 2 && calendars[1][1].open.time.substring(0, 2) + \"h\" + calendars[1][1].open.time.substring(2) + ' - ' + calendars[1][0].close.time.substring(0, 2) + \"h\" + calendars[1][0].close.time.substring(2), calendars[1].length === 4 && 'Fermé'), React.createElement(Text, {\n        style: styles.title3,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 21\n        }\n      }, \"Mardi :\", calendars[2].length === 0 && 'Fermé', calendars[2].length === 2 && calendars[2][1].open.time.substring(0, 2) + \"h\" + calendars[2][1].open.time.substring(2) + ' - ' + calendars[2][0].close.time.substring(0, 2) + \"h\" + calendars[2][0].close.time.substring(2), calendars[2].length === 4 && 'Fermé'), React.createElement(Text, {\n        style: styles.title3,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }\n      }, \"Mercredi :\", calendars[3].length === 0 && 'Fermé', calendars[3].length === 2 && calendars[3][1].open.time.substring(0, 2) + \"h\" + calendars[3][1].open.time.substring(2) + ' - ' + calendars[3][0].close.time.substring(0, 2) + \"h\" + calendars[3][0].close.time.substring(2), calendars[3].length === 4 && 'Fermé')), React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.title3,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 21\n        }\n      }, \"Jeudi :\", calendars[4].length === 0 && 'Fermé', calendars[4].length === 2 && calendars[4][1].open.time.substring(0, 2) + \"h\" + calendars[4][1].open.time.substring(2) + ' - ' + calendars[4][0].close.time.substring(0, 2) + \"h\" + calendars[4][0].close.time.substring(2), calendars[4].length === 4 && 'Fermé'), React.createElement(Text, {\n        style: styles.title3,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }\n      }, \"Vendredi :\", calendars[5].length === 0 && 'Fermé', calendars[5].length === 2 && calendars[5][1].open.time.substring(0, 2) + \"h\" + calendars[5][1].open.time.substring(2) + ' - ' + calendars[5][0].close.time.substring(0, 2) + \"h\" + calendars[5][0].close.time.substring(2), calendars[5].length === 4 && 'Fermé'), React.createElement(Text, {\n        style: styles.title3,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }\n      }, \"Samedi :\", calendars[6].length === 0 && 'Fermé', calendars[6].length === 2 && calendars[6][1].open.time.substring(0, 2) + \"h\" + calendars[6][1].open.time.substring(2) + ' - ' + calendars[6][0].close.time.substring(0, 2) + \"h\" + calendars[6][0].close.time.substring(2), calendars[6].length === 4 && 'Fermé')));\n    };\n\n    _this.callPerson = function (phone) {\n      if (Platform.OS === 'ios') {\n        Linking.openURL('tel://' + phone);\n      } else if (Platform.OS === 'android') {\n        Linking.openURL('tel:' + phone);\n      }\n    };\n\n    _this.isFavoriteToggle = function () {\n      if (_this.props.isFavo === false) {\n        return React.createElement(TouchableOpacity, {\n          style: {\n            flex: 1,\n            textAlign: 'center',\n            zIndex: 2,\n            alignItems: \"center\",\n            marginTop: wp('8%')\n          },\n          onPress: function onPress(e) {\n            _this.onClickAddFavorite();\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 17\n          }\n        }, React.createElement(FontAwesomeIcon, {\n          icon: faHeart,\n          size: 40,\n          color: \"#00C1B4\",\n          style: {\n            width: wp('25%'),\n            height: wp('25%'),\n            marginBottom: 30\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 25\n          }\n        }), React.createElement(Text, {\n          style: styles.title2,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 25\n          }\n        }, \"Ajouter aux favoris\"));\n      } else {\n        return React.createElement(TouchableOpacity, {\n          style: {\n            flex: 1,\n            textAlign: 'center',\n            zIndex: 2,\n            alignItems: \"center\",\n            marginTop: wp('8%')\n          },\n          onPress: function onPress(e) {\n            _this.onClickDeleteFavorite();\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 17\n          }\n        }, React.createElement(FontAwesomeIcon, {\n          icon: faStar,\n          size: 40,\n          color: \"#00C1B4\",\n          style: {\n            width: wp('25%'),\n            height: wp('25%'),\n            marginBottom: 30\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 17\n          }\n        }), React.createElement(Text, {\n          style: styles.title2,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 17\n          }\n        }, \"Retirer\"));\n      }\n    };\n\n    _this.onClickAddFavorite = function _callee2() {\n      var favorite;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              favorite = {\n                geoIdFavoris: _this.props.detail.place_id,\n                idUser: _this.props.user.user.idUser\n              };\n              console.log(favorite);\n\n              if (!(_this.props.isFavo === false)) {\n                _context2.next = 5;\n                break;\n              }\n\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(axios.post(Bdd.api_url + \"/favoris\", favorite).then(function _callee(_) {\n                return _regeneratorRuntime.async(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _this.props.onChangeFavo();\n\n                      case 1:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              }));\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.position = new Animated.ValueXY();\n    _this.state = {\n      panResponder: undefined,\n      isOpen: false,\n      isFavorite: false,\n      favoriteId: false\n    };\n    return _this;\n  }\n\n  _createClass(DetailCard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._onFocusListener = this.props.navigation.addListener(\"willFocus\", function (payload) {\n        _this2.setState({\n          isCardOpen: false\n        });\n\n        _this2.resetOpenPosition();\n      });\n      this.position.setValue({\n        x: CARD_INITIAL_POSITION_X,\n        y: CARD_INITIAL_POSITION_Y\n      });\n      var panResponder = PanResponder.create({\n        onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n          return true;\n        }\n      });\n      this.setState({\n        panResponder: panResponder\n      }, function () {});\n    }\n  }, {\n    key: \"getCardStyle\",\n    value: function getCardStyle() {\n      return _objectSpread({\n        width: wp('90%'),\n        height: hp(\"110%\"),\n        zIndex: 90,\n        backgroundColor: \"white\",\n        color: 'black',\n        borderColor: \"white\",\n        borderWidth: 2,\n        elevation: 1,\n        shadowColor: \"black\",\n        shadowOpacity: 0.2,\n        shadowOffset: {\n          height: 2,\n          width: 2\n        },\n        position: \"absolute\",\n        left: CARD_INITIAL_POSITION_X,\n        padding: wp(\"2%\")\n      }, this.position.getLayout());\n    }\n  }, {\n    key: \"createRate\",\n    value: function createRate(rate) {\n      var _this3 = this;\n\n      var num = Math.round(parseFloat(rate));\n      var stars = [];\n\n      for (var i = 0; i < 5; i++) {\n        if (i < num) {\n          stars.push('black');\n        } else {\n          stars.push('blue');\n        }\n      }\n\n      return stars.map(function (star, index) {\n        if (star == \"black\") {\n          return React.createElement(FontAwesomeIcon, {\n            size: 15,\n            icon: faStar,\n            color: \"#ffcb0f\",\n            style: {\n              marginLeft: 5,\n              marginTop: 2\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 21\n            }\n          });\n        } else {\n          return React.createElement(FontAwesomeIcon, {\n            size: 15,\n            icon: faStar,\n            color: \"#d6d6d6\",\n            style: {\n              marginLeft: 5,\n              marginTop: 2\n            },\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 25\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"onClickDeleteFavorite\",\n    value: function onClickDeleteFavorite() {\n      if (this.props.favoriteId !== null) {\n        var favorite_obj = {\n          g_id: this.props.favoriteId,\n          user_id: this.props.user.user.idUser\n        };\n\n        if (this.props.isFavo === true) {\n          this.props.deleteFavorite(favorite_obj);\n          this.props.onChangeFavo();\n        }\n      }\n    }\n  }, {\n    key: \"openWeb\",\n    value: function openWeb() {\n      var link = this.props.detail.website;\n      Alert.alert('Site web', 'Best4Santé souhaite ouvrir votre navigateur', [{\n        text: 'Accepter',\n        onPress: function onPress() {\n          Linking.openURL(link).catch(function (err) {\n            return console.error('An error occurred while opening website', err);\n          });\n        }\n      }, {\n        text: 'Annuler',\n        onPress: function onPress() {}\n      }]);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      return this.state.panResponder ? React.createElement(Animated.View, _extends({}, this.state.panResponder.panHandlers, {\n        style: this.getCardStyle(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }\n      }), React.createElement(View, {\n        style: styles.buttons,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 17\n        }\n      }, this.state.isOpen === false && React.createElement(TouchableOpacity, {\n        style: {\n          flex: 3,\n          marginTop: hp(\"4%\"),\n          width: wp(\"14%\"),\n          height: hp(\"5%\"),\n          marginBottom: hp(\"0%\"),\n          marginLeft: wp('35%'),\n          marginRight: wp('30%'),\n          zIndex: 2\n        },\n        onPress: function onPress(e) {\n          _this4.setOpenPosition();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 25\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faAngleUp,\n        size: 35,\n        color: \"#5e5e5e\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 29\n        }\n      })), this.state.isOpen === true && React.createElement(TouchableOpacity, {\n        style: {\n          flex: 3,\n          marginTop: hp(\"4%\"),\n          width: wp(\"14%\"),\n          marginBottom: hp('1%'),\n          marginLeft: wp('35%'),\n          marginRight: wp('30%'),\n          zIndex: 2\n        },\n        onPress: function onPress(e) {\n          _this4.resetOpenPosition();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 25\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        size: 35,\n        icon: faAngleDown,\n        color: \"#5e5e5e\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 29\n        }\n      })), React.createElement(TouchableOpacity, {\n        onPress: function onPress(e) {\n          _this4.props.onClickClose();\n        },\n        style: {\n          marginTop: hp('1%'),\n          marginRight: wp('2%'),\n          backgroundColor: \"#00C1B4\",\n          height: hp(\"4%\"),\n          width: hp('4%'),\n          borderRadius: 400 / 2,\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: 'center',\n          color: \"#008AC8\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 21\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faTimes,\n        size: 20,\n        color: \"#FFFFFF\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 21\n        }\n      }))), React.createElement(Text, {\n        style: styles.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 17\n        }\n      }, this.props.detail.name), React.createElement(Text, {\n        style: styles.title2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 17\n        }\n      }, this.props.detail.formatted_address), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 17\n        }\n      }, this.props.detail.opening_hours && this.createCalendar(this.props.detail.opening_hours.periods)), React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n          marginTop: hp(\"4%\")\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"black\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 21\n        }\n      }, \"Note :\"), this.createRate(this.props.detail.rating)), this.props.detail.website && React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n          marginTop: hp(\"1%\")\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 21\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this4.openWeb();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"#008ac8\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 29\n        }\n      }, \"Visitez le site web\"))), React.createElement(View, {\n        style: styles.direction,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          flex: 1,\n          textAlign: \"center\",\n          zIndex: 2,\n          alignItems: \"center\"\n        },\n        onPress: function onPress(e) {\n          return _this4.callPerson(_this4.props.detail.international_phone_number);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: wp(\"25%\"),\n          height: wp(\"25%\")\n        },\n        source: require(\"../images/apeller_icon.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        style: styles.title2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 25\n        }\n      }, \"Appeler\")), React.createElement(TouchableOpacity, {\n        style: {\n          flex: 1,\n          textAlign: \"center\",\n          zIndex: 2,\n          alignItems: \"center\"\n        },\n        onPress: function onPress(e) {\n          _this4.props.onClickDirection();\n\n          _this4.resetOpenPosition();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: wp('25%'),\n          height: wp('25%')\n        },\n        source: require(\"../images/itineraire_full.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        style: styles.title2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 25\n        }\n      }, \"Itin\\xE9raire GPS\")), this.isFavoriteToggle())) : React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }\n      });\n    }\n  }]);\n\n  return DetailCard;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  title: {\n    fontSize: 20,\n    textAlign: 'center',\n    marginBottom: hp('1%'),\n    color: \"#00C1B4\",\n    fontWeight: 'bold'\n  },\n  title2: {\n    textAlign: 'center',\n    color: \"black\",\n    marginBottom: hp(\"2%\")\n  },\n  title3: {\n    color: \"black\"\n  },\n  buttons: {\n    flexDirection: 'row'\n  },\n  direction: {\n    flexDirection: 'row',\n    width: wp('85%'),\n    justifyContent: 'space-around'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    favorite: store.favorite,\n    user: store.user\n  };\n};\n\nvar mapDispatchToProps = {\n  addFavorite: addFavorite,\n  deleteFavorite: deleteFavorite\n};\nexport default withNavigation(connect(mapStateToProps, mapDispatchToProps)(DetailCard));","map":{"version":3,"sources":["E:/Projets/Acadys/best4sante/SanteV2/assets/component/DetailCard.js"],"names":["React","widthPercentageToDP","wp","heightPercentageToDP","hp","withNavigation","faAngleUp","faAngleDown","faPhoneSquareAlt","faDirections","faStar","faTimes","faHeart","connect","addFavorite","deleteFavorite","FontAwesomeIcon","axios","Bdd","CARD_INITIAL_POSITION_Y","CARD_INITIAL_POSITION_X","CARD_OPEN_POSITION","DetailCard","props","resetOpenPosition","Animated","spring","position","toValue","x","y","start","setState","isOpen","setOpenPosition","createCalendar","dates","now","Date","days","calendars","map","date","index","close","day","undefined","push","open","flexDirection","marginLeft","marginRight","marginTop","flex","styles","title3","length","time","substring","callPerson","phone","Platform","OS","Linking","openURL","isFavoriteToggle","isFavo","textAlign","zIndex","alignItems","e","onClickAddFavorite","width","height","marginBottom","title2","onClickDeleteFavorite","favorite","geoIdFavoris","detail","place_id","idUser","user","console","log","post","api_url","then","_","onChangeFavo","ValueXY","state","panResponder","isFavorite","favoriteId","_onFocusListener","navigation","addListener","payload","isCardOpen","setValue","PanResponder","create","onStartShouldSetPanResponder","backgroundColor","color","borderColor","borderWidth","elevation","shadowColor","shadowOpacity","shadowOffset","left","padding","getLayout","rate","num","Math","round","parseFloat","stars","i","star","favorite_obj","g_id","user_id","link","website","Alert","alert","text","onPress","catch","err","error","panHandlers","getCardStyle","buttons","onClickClose","borderRadius","display","justifyContent","title","name","formatted_address","opening_hours","periods","createRate","rating","openWeb","direction","international_phone_number","require","onClickDirection","Component","StyleSheet","fontSize","fontWeight","mapStateToProps","store","mapDispatchToProps"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;;;;AAEA,SACIC,mBAAmB,IAAIC,EAD3B,EAEIC,oBAAoB,IAAIC,EAF5B,QAGS,gCAHT;AAIE,SAAQC,cAAR,QAA6B,kBAA7B;AACF,SAASC,SAAT,EAAoBC,WAApB,EAAiCC,gBAAjC,EAAmDC,YAAnD,EAAkEC,MAAlE,EAA0EC,OAA1E,EAAmFC,OAAnF,QAAkG,mCAAlG;AAEE,SAASC,OAAT,QAAwB,aAAxB;AACF,SAAQC,WAAR,EAAqBC,cAArB;AACA,SAASC,eAAT,QAAgC,uCAAhC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP;AACA,IAAMC,uBAAuB,GAAGf,EAAE,CAAC,KAAD,CAAlC;AACA,IAAMgB,uBAAuB,GAAGlB,EAAE,CAAC,IAAD,CAAlC;AAEA,IAAMmB,kBAAkB,GAAGjB,EAAE,CAAC,KAAD,CAA7B;;IAGMkB,U;;;;;AACF,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8BAAMA,KAAN;;AADe,UAiCnBC,iBAjCmB,GAiCC,YAAK;AACrBC,MAAAA,QAAQ,CAACC,MAAT,CAAgB,MAAKC,QAArB,EAA+B;AAC3BC,QAAAA,OAAO,EAAG;AACNC,UAAAA,CAAC,EAAGT,uBADE;AAENU,UAAAA,CAAC,EAAGX;AAFE;AADiB,OAA/B,EAKGY,KALH,CAKS,MAAKC,QAAL,CAAc;AACnBC,QAAAA,MAAM,EAAG;AADU,OAAd,CALT;AAQH,KA1CkB;;AAAA,UA4CnBC,eA5CmB,GA4CD,YAAM;AACpBT,MAAAA,QAAQ,CAACC,MAAT,CAAgB,MAAKC,QAArB,EAA+B;AACpCC,QAAAA,OAAO,EAAE;AAACC,UAAAA,CAAC,EAAET,uBAAJ;AAA6BU,UAAAA,CAAC,EAAET;AAAhC;AAD2B,OAA/B,EAEGU,KAFH,CAES,MAAKC,QAAL,CAAc;AAACC,QAAAA,MAAM,EAAE;AAAT,OAAd,CAFT;AAGH,KAhDkB;;AAAA,UAiGnBE,cAjGmB,GAiGF,UAACC,KAAD,EAAU;AACvB,UAAIC,GAAG,GAAG,IAAIC,IAAJ,EAAV;AACA,UAAIC,IAAI,GAAG,CAAC,UAAD,EAAa,OAAb,EAAsB,OAAtB,EAA+B,UAA/B,EAA2C,OAA3C,EAAoD,UAApD,EAAgE,QAAhE,CAAX;AAEA,UAAIC,SAAS,GAAG,CACI,EADJ,EAEI,EAFJ,EAGI,EAHJ,EAII,EAJJ,EAKI,EALJ,EAMI,EANJ,EAOI,EAPJ,CAAhB;AAUAJ,MAAAA,KAAK,CAACK,GAAN,CAAU,UAACC,IAAD,EAAOC,KAAP,EAAe;AACtB,YAAMD,IAAI,CAACE,KAAL,CAAWC,GAAX,KAAmBC,SAAzB,EAAoC;AAC/BN,UAAAA,SAAS,CAACE,IAAI,CAACE,KAAL,CAAWC,GAAZ,CAAT,CAA0BE,IAA1B,CAA+B;AAACH,YAAAA,KAAK,EAAEF,IAAI,CAACE;AAAb,WAA/B;AACAJ,UAAAA,SAAS,CAACE,IAAI,CAACE,KAAL,CAAWC,GAAZ,CAAT,CAA0BE,IAA1B,CAA+B;AAACC,YAAAA,IAAI,EAAEN,IAAI,CAACM;AAAZ,WAA/B;AACJ;AAEH,OAND;AASA,aACI,oBAAC,IAAD;AACI,QAAA,KAAK,EAAE;AAACC,UAAAA,aAAa,EAAE,KAAhB;AAAuBC,UAAAA,UAAU,EAAEhD,EAAE,CAAC,IAAD,CAArC;AAA6CiD,UAAAA,WAAW,EAAEjD,EAAE,CAAC,IAAD,CAA5D;AAAoEkD,UAAAA,SAAS,EAAEhD,EAAE,CAAC,IAAD;AAAjF,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAII,oBAAC,IAAD;AACI,QAAA,KAAK,EAAE;AAACiD,UAAAA,IAAI,EAAC;AAAN,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEC,MAAM,CAACC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACKf,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6B,OADlC,EAEMhB,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6BhB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBQ,IAAhB,CAAqBS,IAArB,CAA0BC,SAA1B,CAAoC,CAApC,EAAsC,CAAtC,IAAyC,GAAzC,GAA6ClB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBQ,IAAhB,CAAqBS,IAArB,CAA0BC,SAA1B,CAAoC,CAApC,CAA7C,GAAoF,KAApF,GAA0FlB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBI,KAAhB,CAAsBa,IAAtB,CAA2BC,SAA3B,CAAqC,CAArC,EAAuC,CAAvC,CAA1F,GAAoI,GAApI,GAAwIlB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBI,KAAhB,CAAsBa,IAAtB,CAA2BC,SAA3B,CAAqC,CAArC,CAF3K,EAGKlB,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6B,OAHlC,CAHJ,EAQI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,MAAM,CAACC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACKf,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6B,OADlC,EAEMhB,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6BhB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBQ,IAAhB,CAAqBS,IAArB,CAA0BC,SAA1B,CAAoC,CAApC,EAAsC,CAAtC,IAAyC,GAAzC,GAA6ClB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBQ,IAAhB,CAAqBS,IAArB,CAA0BC,SAA1B,CAAoC,CAApC,CAA7C,GAAoF,KAApF,GAA0FlB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBI,KAAhB,CAAsBa,IAAtB,CAA2BC,SAA3B,CAAqC,CAArC,EAAuC,CAAvC,CAA1F,GAAoI,GAApI,GAAwIlB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBI,KAAhB,CAAsBa,IAAtB,CAA2BC,SAA3B,CAAqC,CAArC,CAF3K,EAGKlB,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6B,OAHlC,CARJ,EAaI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,MAAM,CAACC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACKf,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6B,OADlC,EAEMhB,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6BhB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBQ,IAAhB,CAAqBS,IAArB,CAA0BC,SAA1B,CAAoC,CAApC,EAAsC,CAAtC,IAAyC,GAAzC,GAA6ClB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBQ,IAAhB,CAAqBS,IAArB,CAA0BC,SAA1B,CAAoC,CAApC,CAA7C,GAAoF,KAApF,GAA0FlB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBI,KAAhB,CAAsBa,IAAtB,CAA2BC,SAA3B,CAAqC,CAArC,EAAuC,CAAvC,CAA1F,GAAoI,GAApI,GAAwIlB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBI,KAAhB,CAAsBa,IAAtB,CAA2BC,SAA3B,CAAqC,CAArC,CAF3K,EAGKlB,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6B,OAHlC,CAbJ,CAJJ,EAwBI,oBAAC,IAAD;AACI,QAAA,KAAK,EAAE;AAACH,UAAAA,IAAI,EAAC;AAAN,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEC,MAAM,CAACC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACKf,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6B,OADlC,EAEMhB,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6BhB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBQ,IAAhB,CAAqBS,IAArB,CAA0BC,SAA1B,CAAoC,CAApC,EAAsC,CAAtC,IAAyC,GAAzC,GAA6ClB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBQ,IAAhB,CAAqBS,IAArB,CAA0BC,SAA1B,CAAoC,CAApC,CAA7C,GAAoF,KAApF,GAA0FlB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBI,KAAhB,CAAsBa,IAAtB,CAA2BC,SAA3B,CAAqC,CAArC,EAAuC,CAAvC,CAA1F,GAAoI,GAApI,GAAwIlB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBI,KAAhB,CAAsBa,IAAtB,CAA2BC,SAA3B,CAAqC,CAArC,CAF3K,EAGKlB,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6B,OAHlC,CAHJ,EAQI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,MAAM,CAACC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACKf,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6B,OADlC,EAEMhB,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6BhB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBQ,IAAhB,CAAqBS,IAArB,CAA0BC,SAA1B,CAAoC,CAApC,EAAsC,CAAtC,IAAyC,GAAzC,GAA6ClB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBQ,IAAhB,CAAqBS,IAArB,CAA0BC,SAA1B,CAAoC,CAApC,CAA7C,GAAoF,KAApF,GAA0FlB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBI,KAAhB,CAAsBa,IAAtB,CAA2BC,SAA3B,CAAqC,CAArC,EAAuC,CAAvC,CAA1F,GAAoI,GAApI,GAAwIlB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBI,KAAhB,CAAsBa,IAAtB,CAA2BC,SAA3B,CAAqC,CAArC,CAF3K,EAGKlB,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6B,OAHlC,CARJ,EAaI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,MAAM,CAACC,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACKf,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6B,OADlC,EAEMhB,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6BhB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBQ,IAAhB,CAAqBS,IAArB,CAA0BC,SAA1B,CAAoC,CAApC,EAAsC,CAAtC,IAAyC,GAAzC,GAA6ClB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBQ,IAAhB,CAAqBS,IAArB,CAA0BC,SAA1B,CAAoC,CAApC,CAA7C,GAAoF,KAApF,GAA0FlB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBI,KAAhB,CAAsBa,IAAtB,CAA2BC,SAA3B,CAAqC,CAArC,EAAuC,CAAvC,CAA1F,GAAoI,GAApI,GAAwIlB,SAAS,CAAC,CAAD,CAAT,CAAa,CAAb,EAAgBI,KAAhB,CAAsBa,IAAtB,CAA2BC,SAA3B,CAAqC,CAArC,CAF3K,EAGKlB,SAAS,CAAC,CAAD,CAAT,CAAagB,MAAb,KAAwB,CAAxB,IAA6B,OAHlC,CAbJ,CAxBJ,CADJ;AAgDH,KAxKkB;;AAAA,UA0KnBG,UA1KmB,GA0KN,UAACC,KAAD,EAAU;AACnB,UAAGC,QAAQ,CAACC,EAAT,KAAgB,KAAnB,EAA0B;AACtBC,QAAAA,OAAO,CAACC,OAAR,CAAgB,WAASJ,KAAzB;AACH,OAFD,MAGK,IAAGC,QAAQ,CAACC,EAAT,KAAgB,SAAnB,EAA8B;AAC/BC,QAAAA,OAAO,CAACC,OAAR,CAAgB,SAAOJ,KAAvB;AACH;AACJ,KAjLkB;;AAAA,UAmLnBK,gBAnLmB,GAmLA,YAAK;AAEpB,UAAG,MAAK1C,KAAL,CAAW2C,MAAX,KAAsB,KAAzB,EAAgC;AAC5B,eACI,oBAAC,gBAAD;AACI,UAAA,KAAK,EAAE;AAACb,YAAAA,IAAI,EAAC,CAAN;AAASc,YAAAA,SAAS,EAAE,QAApB;AAA8BC,YAAAA,MAAM,EAAE,CAAtC;AAAyCC,YAAAA,UAAU,EAAE,QAArD;AAA+DjB,YAAAA,SAAS,EAAElD,EAAE,CAAC,IAAD;AAA5E,WADX;AAEI,UAAA,OAAO,EAAE,iBAACoE,CAAD,EAAM;AACX,kBAAKC,kBAAL;AACH,WAJL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAaQ,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAE3D,OAAvB;AAAgC,UAAA,IAAI,EAAE,EAAtC;AAA0C,UAAA,KAAK,EAAE,SAAjD;AACA,UAAA,KAAK,EAAE;AAAC4D,YAAAA,KAAK,EAAEtE,EAAE,CAAC,KAAD,CAAV;AAAmBuE,YAAAA,MAAM,EAAEvE,EAAE,CAAC,KAAD,CAA7B;AAAsCwE,YAAAA,YAAY,EAAE;AAApD,WADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAbR,EAeQ,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAEpB,MAAM,CAACqB,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAfR,CADJ;AAoBH,OArBD,MAqBK;AACD,eACI,oBAAC,gBAAD;AACI,UAAA,KAAK,EAAE;AAACtB,YAAAA,IAAI,EAAC,CAAN;AAASc,YAAAA,SAAS,EAAE,QAApB;AAA8BC,YAAAA,MAAM,EAAE,CAAtC;AAAyCC,YAAAA,UAAU,EAAE,QAArD;AAA+DjB,YAAAA,SAAS,EAAElD,EAAE,CAAC,IAAD;AAA5E,WADX;AAEI,UAAA,OAAO,EAAE,iBAACoE,CAAD,EAAK;AACV,kBAAKM,qBAAL;AACH,WAJL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAeA,oBAAC,eAAD;AAAiB,UAAA,IAAI,EAAElE,MAAvB;AAA+B,UAAA,IAAI,EAAE,EAArC;AAAyC,UAAA,KAAK,EAAE,SAAhD;AACA,UAAA,KAAK,EAAE;AAAC8D,YAAAA,KAAK,EAAEtE,EAAE,CAAC,KAAD,CAAV;AAAmBuE,YAAAA,MAAM,EAAEvE,EAAE,CAAC,KAAD,CAA7B;AAAsCwE,YAAAA,YAAY,EAAE;AAApD,WADP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAfA,EAiBA,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAEpB,MAAM,CAACqB,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAjBA,CADJ;AAsBH;AACJ,KAlOkB;;AAAA,UAoOnBJ,kBApOmB,GAoOC;AAAA;AAAA;AAAA;AAAA;AAAA;AACZM,cAAAA,QADY,GACD;AACXC,gBAAAA,YAAY,EAAG,MAAKvD,KAAL,CAAWwD,MAAX,CAAkBC,QADtB;AAEXC,gBAAAA,MAAM,EAAG,MAAK1D,KAAL,CAAW2D,IAAX,CAAgBA,IAAhB,CAAqBD;AAFnB,eADC;AAMhBE,cAAAA,OAAO,CAACC,GAAR,CAAYP,QAAZ;;AANgB,oBAQb,MAAKtD,KAAL,CAAW2C,MAAX,KAAsB,KART;AAAA;AAAA;AAAA;;AAAA;AAAA,+CAULjD,KAAK,CAACoE,IAAN,CAAcnE,GAAG,CAACoE,OAAlB,eAAoCT,QAApC,EACFU,IADE,CACG,iBAAMC,CAAN;AAAA;AAAA;AAAA;AAAA;AACF,8BAAKjE,KAAL,CAAWkE,YAAX;;AADE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADH,CAVK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KApOD;;AAEf,UAAK9D,QAAL,GAAgB,IAAIF,QAAQ,CAACiE,OAAb,EAAhB;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,YAAY,EAAG9C,SADN;AAETb,MAAAA,MAAM,EAAG,KAFA;AAGT4D,MAAAA,UAAU,EAAG,KAHJ;AAITC,MAAAA,UAAU,EAAG;AAJJ,KAAb;AAHe;AASlB;;;;wCAEkB;AAAA;;AACd,WAAKC,gBAAL,GAAwB,KAAKxE,KAAL,CAAWyE,UAAX,CAAsBC,WAAtB,CACrB,WADqB,EAErB,UAAAC,OAAO,EAAG;AACN,QAAA,MAAI,CAAClE,QAAL,CAAc;AAACmE,UAAAA,UAAU,EAAG;AAAd,SAAd;;AACA,QAAA,MAAI,CAAC3E,iBAAL;AACH,OALoB,CAAxB;AAQD,WAAKG,QAAL,CAAcyE,QAAd,CAAuB;AACnBvE,QAAAA,CAAC,EAAGT,uBADe;AAEnBU,QAAAA,CAAC,EAAGX;AAFe,OAAvB;AAIA,UAAMyE,YAAY,GAAGS,YAAY,CAACC,MAAb,CAAoB;AACrCC,QAAAA,4BAA4B,EAAG;AAAA,iBAAM,IAAN;AAAA;AADM,OAApB,CAArB;AAIA,WAAKvE,QAAL,CAAc;AAAC4D,QAAAA,YAAY,EAAGA;AAAhB,OAAd,EAA6C,YAAM,CAAE,CAArD;AAGH;;;mCAmBc;AACjB;AACCpB,QAAAA,KAAK,EAAEtE,EAAE,CAAC,KAAD,CADV;AAECuE,QAAAA,MAAM,EAAErE,EAAE,CAAC,MAAD,CAFX;AAGCgE,QAAAA,MAAM,EAAE,EAHT;AAIUoC,QAAAA,eAAe,EAAE,OAJ3B;AAKUC,QAAAA,KAAK,EAAE,OALjB;AAMUC,QAAAA,WAAW,EAAE,OANvB;AAOUC,QAAAA,WAAW,EAAE,CAPvB;AAQCC,QAAAA,SAAS,EAAE,CARZ;AASCC,QAAAA,WAAW,EAAE,OATd;AAUCC,QAAAA,aAAa,EAAE,GAVhB;AAWCC,QAAAA,YAAY,EAAE;AAACtC,UAAAA,MAAM,EAAE,CAAT;AAAYD,UAAAA,KAAK,EAAE;AAAnB,SAXf;AAYC7C,QAAAA,QAAQ,EAAE,UAZX;AAaCqF,QAAAA,IAAI,EAAE5F,uBAbP;AAcC6F,QAAAA,OAAO,EAAE/G,EAAE,CAAC,IAAD;AAdZ,SAeI,KAAKyB,QAAL,CAAcuF,SAAd,EAfJ;AAiBG;;;+BAEUC,I,EAAK;AAAA;;AACZ,UAAIC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWC,UAAU,CAACJ,IAAD,CAArB,CAAV;AAEA,UAAIK,KAAK,GAAG,EAAZ;;AAEA,WAAI,IAAIC,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAG,CAAnB,EAAsBA,CAAC,EAAvB,EAA2B;AACvB,YAAIA,CAAC,GAAGL,GAAR,EAAc;AACVI,UAAAA,KAAK,CAACzE,IAAN,CAAW,OAAX;AACH,SAFD,MAEO;AACHyE,UAAAA,KAAK,CAACzE,IAAN,CAAW,MAAX;AACH;AACJ;;AAED,aAAOyE,KAAK,CAAC/E,GAAN,CAAU,UAACiF,IAAD,EAAO/E,KAAP,EAAe;AAE5B,YAAG+E,IAAI,IAAI,OAAX,EAAoB;AAChB,iBACI,oBAAC,eAAD;AAAiB,YAAA,IAAI,EAAE,EAAvB;AAA4B,YAAA,IAAI,EAAGhH,MAAnC;AACA,YAAA,KAAK,EAAC,SADN;AACgB,YAAA,KAAK,EAAE;AAACwC,cAAAA,UAAU,EAAE,CAAb;AAAgBE,cAAAA,SAAS,EAAE;AAA3B,aADvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAGH,SAJD,MAIO;AACH,iBAAQ,oBAAC,eAAD;AAAiB,YAAA,IAAI,EAAE,EAAvB;AAA4B,YAAA,IAAI,EAAG1C,MAAnC;AACR,YAAA,KAAK,EAAC,SADE;AACQ,YAAA,KAAK,EAAE;AAACwC,cAAAA,UAAU,EAAE,CAAb;AAAgBE,cAAAA,SAAS,EAAE;AAA3B,aADf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAR;AAEH;AACJ,OAVM,CAAP;AAYH;;;4CAsJuB;AAEnB,UAAG,KAAK7B,KAAL,CAAWuE,UAAX,KAA0B,IAA7B,EAAmC;AAC/B,YAAI6B,YAAY,GAAG;AACfC,UAAAA,IAAI,EAAE,KAAKrG,KAAL,CAAWuE,UADF;AAEf+B,UAAAA,OAAO,EAAE,KAAKtG,KAAL,CAAW2D,IAAX,CAAgBA,IAAhB,CAAqBD;AAFf,SAAnB;;AAOA,YAAI,KAAK1D,KAAL,CAAW2C,MAAX,KAAsB,IAA1B,EAAgC;AAC5B,eAAK3C,KAAL,CAAWR,cAAX,CAA0B4G,YAA1B;AACA,eAAKpG,KAAL,CAAWkE,YAAX;AACH;AACL;AAEJ;;;8BAES;AACN,UAAMqC,IAAI,GAAG,KAAKvG,KAAL,CAAWwD,MAAX,CAAkBgD,OAA/B;AAEEC,MAAAA,KAAK,CAACC,KAAN,CAAY,UAAZ,EAAwB,6CAAxB,EAAuE,CACrE;AACIC,QAAAA,IAAI,EAAE,UADV;AAEIC,QAAAA,OAAO,EAAE,mBAAM;AACXpE,UAAAA,OAAO,CAACC,OAAR,CAAgB8D,IAAhB,EAAsBM,KAAtB,CACA,UAACC,GAAD;AAAA,mBAASlD,OAAO,CAACmD,KAAR,CAAc,yCAAd,EAAyDD,GAAzD,CAAT;AAAA,WADA;AAEH;AALL,OADqE,EAQrE;AACIH,QAAAA,IAAI,EAAE,SADV;AAEIC,QAAAA,OAAO,EAAE,mBAAM,CAEd;AAJL,OARqE,CAAvE;AAeL;;;6BAEO;AAAA;;AAGH,aAAO,KAAKxC,KAAL,CAAWC,YAAX,GACJ,oBAAC,QAAD,CAAU,IAAV,eACQ,KAAKD,KAAL,CAAWC,YAAX,CAAwB2C,WADhC;AAEI,QAAA,KAAK,EAAE,KAAKC,YAAL,EAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAII,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAElF,MAAM,CAACmF,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAK9C,KAAL,CAAW1D,MAAX,KAAoB,KAApB,IACG,oBAAC,gBAAD;AACI,QAAA,KAAK,EAAE;AAACoB,UAAAA,IAAI,EAAG,CAAR;AAAWD,UAAAA,SAAS,EAAGhD,EAAE,CAAC,IAAD,CAAzB;AAAgCoE,UAAAA,KAAK,EAAGtE,EAAE,CAAC,KAAD,CAA1C;AAAkDuE,UAAAA,MAAM,EAAGrE,EAAE,CAAC,IAAD,CAA7D;AAAoEsE,UAAAA,YAAY,EAAGtE,EAAE,CAAC,IAAD,CAArF;AAA4F8C,UAAAA,UAAU,EAAEhD,EAAE,CAAC,KAAD,CAA1G;AAAmHiD,UAAAA,WAAW,EAAEjD,EAAE,CAAC,KAAD,CAAlI;AAA2IkE,UAAAA,MAAM,EAAE;AAAnJ,SADX;AAEI,QAAA,OAAO,EAAE,iBAACE,CAAD,EAAO;AAAC,UAAA,MAAI,CAACpC,eAAL;AAAuB,SAF5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAII,oBAAC,eAAD;AAAiB,QAAA,IAAI,EAAE5B,SAAvB;AAAkC,QAAA,IAAI,EAAE,EAAxC;AAA4C,QAAA,KAAK,EAAE,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CAFR,EAUK,KAAKqF,KAAL,CAAW1D,MAAX,KAAsB,IAAtB,IACG,oBAAC,gBAAD;AACI,QAAA,KAAK,EAAE;AAAEoB,UAAAA,IAAI,EAAC,CAAP;AAAUD,UAAAA,SAAS,EAAEhD,EAAE,CAAC,IAAD,CAAvB;AAA+BoE,UAAAA,KAAK,EAAEtE,EAAE,CAAC,KAAD,CAAxC;AAAiDwE,UAAAA,YAAY,EAAEtE,EAAE,CAAC,IAAD,CAAjE;AAAyE8C,UAAAA,UAAU,EAAEhD,EAAE,CAAC,KAAD,CAAvF;AAAgGiD,UAAAA,WAAW,EAAEjD,EAAE,CAAC,KAAD,CAA/G;AAAwHkE,UAAAA,MAAM,EAAE;AAAhI,SADX;AAEI,QAAA,OAAO,EAAE,iBAACE,CAAD,EAAM;AAAC,UAAA,MAAI,CAAC9C,iBAAL;AAAyB,SAF7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAII,oBAAC,eAAD;AAAiB,QAAA,IAAI,EAAE,EAAvB;AAA4B,QAAA,IAAI,EAAGjB,WAAnC;AAAiD,QAAA,KAAK,EAAC,SAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,CAXR,EAkBI,oBAAC,gBAAD;AACQ,QAAA,OAAO,EAAE,iBAAC+D,CAAD,EAAK;AAAC,UAAA,MAAI,CAAC/C,KAAL,CAAWmH,YAAX;AAA0B,SADjD;AAEQ,QAAA,KAAK,EAAE;AAACtF,UAAAA,SAAS,EAAEhD,EAAE,CAAC,IAAD,CAAd;AAAsB+C,UAAAA,WAAW,EAAEjD,EAAE,CAAC,IAAD,CAArC;AAA6CsG,UAAAA,eAAe,EAAE,SAA9D;AAAyE/B,UAAAA,MAAM,EAAErE,EAAE,CAAC,IAAD,CAAnF;AAA0FoE,UAAAA,KAAK,EAAEpE,EAAE,CAAC,IAAD,CAAnG;AAA2GuI,UAAAA,YAAY,EAAE,MAAI,CAA7H;AAAgIC,UAAAA,OAAO,EAAE,MAAzI;AAAiJC,UAAAA,cAAc,EAAE,QAAjK;AAA2KxE,UAAAA,UAAU,EAAE,QAAvL;AAAiMoC,UAAAA,KAAK,EAAE;AAAxM,SAFf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKA,oBAAC,eAAD;AAAiB,QAAA,IAAI,EAAE9F,OAAvB;AAAgC,QAAA,IAAI,EAAE,EAAtC;AAA0C,QAAA,KAAK,EAAE,SAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALA,CAlBJ,CAJJ,EA+BI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE2C,MAAM,CAACwF,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA4B,KAAKvH,KAAL,CAAWwD,MAAX,CAAkBgE,IAA9C,CA/BJ,EAgCI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEzF,MAAM,CAACqB,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6B,KAAKpD,KAAL,CAAWwD,MAAX,CAAkBiE,iBAA/C,CAhCJ,EAkCI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKzH,KAAL,CAAWwD,MAAX,CAAkBkE,aAAlB,IAAmC,KAAK9G,cAAL,CAAoB,KAAKZ,KAAL,CAAWwD,MAAX,CAAkBkE,aAAlB,CAAgCC,OAApD,CADxC,CAlCJ,EAsCI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACjG,UAAAA,aAAa,EAAG,KAAjB;AAAwB4F,UAAAA,cAAc,EAAG,QAAzC;AAAkDzF,UAAAA,SAAS,EAAGhD,EAAE,CAAC,IAAD;AAAhE,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACqG,UAAAA,KAAK,EAAG;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAEK,KAAK0C,UAAL,CAAgB,KAAK5H,KAAL,CAAWwD,MAAX,CAAkBqE,MAAlC,CAFL,CAtCJ,EA4CQ,KAAK7H,KAAL,CAAWwD,MAAX,CAAkBgD,OAAlB,IACA,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAC9E,UAAAA,aAAa,EAAG,KAAjB;AAAwB4F,UAAAA,cAAc,EAAG,QAAzC;AAAkDzF,UAAAA,SAAS,EAAGhD,EAAE,CAAC,IAAD;AAAhE,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACiJ,OAAL,EAAN;AAAA,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQ,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAC5C,UAAAA,KAAK,EAAG;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADR,CADA,CA7CR,EAsDI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEnD,MAAM,CAACgG,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI,oBAAC,gBAAD;AACI,QAAA,KAAK,EAAE;AAACjG,UAAAA,IAAI,EAAG,CAAR;AAAWc,UAAAA,SAAS,EAAG,QAAvB;AAAgCC,UAAAA,MAAM,EAAG,CAAzC;AAA4CC,UAAAA,UAAU,EAAE;AAAxD,SADX;AAEI,QAAA,OAAO,EAAE,iBAACC,CAAD;AAAA,iBAAM,MAAI,CAACX,UAAL,CAAgB,MAAI,CAACpC,KAAL,CAAWwD,MAAX,CAAkBwE,0BAAlC,CAAN;AAAA,SAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAII,oBAAC,KAAD;AACI,QAAA,KAAK,EAAG;AAAC/E,UAAAA,KAAK,EAAGtE,EAAE,CAAC,KAAD,CAAX;AAAoBuE,UAAAA,MAAM,EAAGvE,EAAE,CAAC,KAAD;AAA/B,SADZ;AAEI,QAAA,MAAM,EAAEsJ,OAAO,8BAFnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJJ,EAQI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAElG,MAAM,CAACqB,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBARJ,CAFJ,EAaI,oBAAC,gBAAD;AACI,QAAA,KAAK,EAAE;AAACtB,UAAAA,IAAI,EAAG,CAAR;AAAWc,UAAAA,SAAS,EAAG,QAAvB;AAAiCC,UAAAA,MAAM,EAAG,CAA1C;AAA4CC,UAAAA,UAAU,EAAG;AAAzD,SADX;AAEI,QAAA,OAAO,EAAI,iBAACC,CAAD,EAAO;AACd,UAAA,MAAI,CAAC/C,KAAL,CAAWkI,gBAAX;;AACA,UAAA,MAAI,CAACjI,iBAAL;AACH,SALL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOI,oBAAC,KAAD;AACK,QAAA,KAAK,EAAE;AAACgD,UAAAA,KAAK,EAAEtE,EAAE,CAAC,KAAD,CAAV;AAAmBuE,UAAAA,MAAM,EAAEvE,EAAE,CAAC,KAAD;AAA7B,SADZ;AAEK,QAAA,MAAM,EAAEsJ,OAAO,iCAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPJ,EAYI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAElG,MAAM,CAACqB,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAZJ,CAbJ,EA2BI,KAAKV,gBAAL,EA3BJ,CAtDJ,CADI,GAuFJ,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvFH;AAwFJ;;;;EAvXoBjE,KAAK,CAAC0J,S;;AA2X/B,IAAMpG,MAAM,GAAGqG,UAAU,CAACrD,MAAX,CAAkB;AAC7BwC,EAAAA,KAAK,EAAE;AACHc,IAAAA,QAAQ,EAAE,EADP;AAEHzF,IAAAA,SAAS,EAAE,QAFR;AAGHO,IAAAA,YAAY,EAAEtE,EAAE,CAAC,IAAD,CAHb;AAIHqG,IAAAA,KAAK,EAAC,SAJH;AAKHoD,IAAAA,UAAU,EAAE;AALT,GADsB;AAQ7BlF,EAAAA,MAAM,EAAE;AACJR,IAAAA,SAAS,EAAE,QADP;AAEJsC,IAAAA,KAAK,EAAC,OAFF;AAGJ/B,IAAAA,YAAY,EAAEtE,EAAE,CAAC,IAAD;AAHZ,GARqB;AAa7BmD,EAAAA,MAAM,EAAE;AACJkD,IAAAA,KAAK,EAAC;AADF,GAbqB;AAgB7BgC,EAAAA,OAAO,EAAE;AACLxF,IAAAA,aAAa,EAAE;AADV,GAhBoB;AAmB7BqG,EAAAA,SAAS,EAAE;AACPrG,IAAAA,aAAa,EAAE,KADR;AAEPuB,IAAAA,KAAK,EAAEtE,EAAE,CAAC,KAAD,CAFF;AAIP2I,IAAAA,cAAc,EAAE;AAJT;AAnBkB,CAAlB,CAAf;;AA4BA,IAAMiB,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAC/B,SAAO;AACHlF,IAAAA,QAAQ,EAAEkF,KAAK,CAAClF,QADb;AAEHK,IAAAA,IAAI,EAAE6E,KAAK,CAAC7E;AAFT,GAAP;AAID,CALH;;AAOA,IAAM8E,kBAAkB,GAAG;AACvBlJ,EAAAA,WAAW,EAAXA,WADuB;AAEvBC,EAAAA,cAAc,EAAdA;AAFuB,CAA3B;AAKA,eAAeV,cAAc,CAACQ,OAAO,CAACiJ,eAAD,EAAiBE,kBAAjB,CAAP,CAA4C1I,UAA5C,CAAD,CAA7B","sourcesContent":["import React from 'react'\r\nimport {Animated, PanResponder, View, Text ,Image, Linking, StyleSheet, TouchableOpacity, Alert} from 'react-native'\r\nimport {\r\n    widthPercentageToDP as wp,\r\n    heightPercentageToDP as hp,\r\n  } from 'react-native-responsive-screen'\r\n  import {withNavigation} from 'react-navigation'\r\nimport { faAngleUp, faAngleDown, faPhoneSquareAlt, faDirections,  faStar, faTimes, faHeart } from '@fortawesome/free-solid-svg-icons'\r\n\r\n  import { connect } from 'react-redux'\r\nimport {addFavorite, deleteFavorite} from '../Action'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome'\r\nimport axios from \"axios\"\r\nimport Bdd from \"../API/Bdd\"\r\nconst CARD_INITIAL_POSITION_Y = hp('78%')\r\nconst CARD_INITIAL_POSITION_X = wp('5%')\r\n\r\nconst CARD_OPEN_POSITION = hp('35%')\r\n\r\n\r\nclass DetailCard extends React.Component{\r\n    constructor(props) {\r\n        super(props)\r\n        this.position = new Animated.ValueXY\r\n        this.state = {\r\n            panResponder : undefined,\r\n            isOpen : false,\r\n            isFavorite : false,\r\n            favoriteId : false\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n         this._onFocusListener = this.props.navigation.addListener(\r\n            \"willFocus\",\r\n            payload =>{\r\n                this.setState({isCardOpen : false})\r\n                this.resetOpenPosition()\r\n            }\r\n        ) \r\n\r\n        this.position.setValue({\r\n            x : CARD_INITIAL_POSITION_X,\r\n            y : CARD_INITIAL_POSITION_Y\r\n        })\r\n        const panResponder = PanResponder.create({\r\n            onStartShouldSetPanResponder : () => true\r\n        })\r\n\r\n        this.setState({panResponder : panResponder}, () => {})\r\n\r\n        \r\n    }\r\n\r\n    resetOpenPosition = () =>{\r\n        Animated.spring(this.position, {\r\n            toValue : {\r\n                x : CARD_INITIAL_POSITION_X,\r\n                y : CARD_INITIAL_POSITION_Y\r\n            }\r\n        }).start(this.setState({\r\n            isOpen : false\r\n        }))\r\n    }\r\n\r\n    setOpenPosition = () => {\r\n        Animated.spring(this.position, {\r\n\t\t\ttoValue: {x: CARD_INITIAL_POSITION_X, y: CARD_OPEN_POSITION}\r\n        }).start(this.setState({isOpen: true}));\r\n    }\r\n\r\n    getCardStyle() {\r\n\t\treturn {\r\n\t\t\twidth: wp('90%'),\r\n\t\t\theight: hp(\"110%\"),\r\n\t\t\tzIndex: 90,\r\n            backgroundColor: \"white\",\r\n            color: 'black',\r\n            borderColor: \"white\",\r\n            borderWidth: 2,\r\n\t\t\televation: 1,\r\n\t\t\tshadowColor: \"black\",\r\n\t\t\tshadowOpacity: 0.2,\r\n\t\t\tshadowOffset: {height: 2, width: 2},\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: CARD_INITIAL_POSITION_X,\r\n\t\t\tpadding: wp(\"2%\"),\r\n\t\t\t...this.position.getLayout()\r\n\t\t}\r\n    }\r\n\r\n    createRate(rate){\r\n        let num = Math.round(parseFloat(rate))\r\n\r\n        let stars = [] \r\n        \r\n        for(let i = 0; i < 5; i++) {\r\n            if (i < num ) {\r\n                stars.push('black');\r\n            } else {\r\n                stars.push('blue');\r\n            }\r\n        }\r\n\r\n        return stars.map((star, index)=>{\r\n            \r\n            if(star == \"black\") {\r\n                return ( \r\n                    <FontAwesomeIcon size={15}  icon={ faStar } \r\n                    color=\"#ffcb0f\" style={{marginLeft: 5, marginTop: 2}}/>)\r\n            } else {\r\n                return (<FontAwesomeIcon size={15}  icon={ faStar } \r\n                color=\"#d6d6d6\" style={{marginLeft: 5, marginTop: 2}}/>)\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    createCalendar = (dates) =>{\r\n        let now = new Date();\r\n        let days = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'];\r\n        //.log('lesdates',dates);\r\n        let calendars = [\r\n                            [],\r\n                            [],\r\n                            [],\r\n                            [],\r\n                            [],\r\n                            [],\r\n                            []\r\n                        ]\r\n\r\n        dates.map((date, index)=>{\r\n           if(   date.close.day !== undefined) {\r\n                calendars[date.close.day].push({close: date.close});\r\n                calendars[date.close.day].push({open: date.open});\r\n           }\r\n           \r\n        });\r\n\r\n\r\n        return (\r\n            <View\r\n                style={{flexDirection: \"row\", marginLeft: wp('2%'), marginRight: wp('2%'), marginTop: hp('3%')}}\r\n            >\r\n                \r\n                <View\r\n                    style={{flex:1}}\r\n                >\r\n                    <Text style={styles.title3}>Lundi :  \r\n                        {calendars[1].length === 0 && 'Fermé'}\r\n                         {calendars[1].length === 2 && calendars[1][1].open.time.substring(0,2)+\"h\"+calendars[1][1].open.time.substring(2)+' - '+calendars[1][0].close.time.substring(0,2)+\"h\"+calendars[1][0].close.time.substring(2)}\r\n                        {calendars[1].length === 4 && 'Fermé'}\r\n                    </Text>\r\n                    <Text style={styles.title3}>Mardi :  \r\n                        {calendars[2].length === 0 && 'Fermé'}\r\n                         {calendars[2].length === 2 && calendars[2][1].open.time.substring(0,2)+\"h\"+calendars[2][1].open.time.substring(2)+' - '+calendars[2][0].close.time.substring(0,2)+\"h\"+calendars[2][0].close.time.substring(2)}\r\n                        {calendars[2].length === 4 && 'Fermé'}\r\n                    </Text>\r\n                    <Text style={styles.title3}>Mercredi :  \r\n                        {calendars[3].length === 0 && 'Fermé'}\r\n                         {calendars[3].length === 2 && calendars[3][1].open.time.substring(0,2)+\"h\"+calendars[3][1].open.time.substring(2)+' - '+calendars[3][0].close.time.substring(0,2)+\"h\"+calendars[3][0].close.time.substring(2)}\r\n                        {calendars[3].length === 4 && 'Fermé'}\r\n                    </Text>\r\n                </View>\r\n\r\n                <View\r\n                    style={{flex:1}}\r\n                >\r\n                    <Text style={styles.title3}>Jeudi :  \r\n                        {calendars[4].length === 0 && 'Fermé'}\r\n                         {calendars[4].length === 2 && calendars[4][1].open.time.substring(0,2)+\"h\"+calendars[4][1].open.time.substring(2)+' - '+calendars[4][0].close.time.substring(0,2)+\"h\"+calendars[4][0].close.time.substring(2)}\r\n                        {calendars[4].length === 4 && 'Fermé'}\r\n                    </Text>\r\n                    <Text style={styles.title3}>Vendredi :  \r\n                        {calendars[5].length === 0 && 'Fermé'}\r\n                         {calendars[5].length === 2 && calendars[5][1].open.time.substring(0,2)+\"h\"+calendars[5][1].open.time.substring(2)+' - '+calendars[5][0].close.time.substring(0,2)+\"h\"+calendars[5][0].close.time.substring(2)}\r\n                        {calendars[5].length === 4 && 'Fermé'}\r\n                    </Text>\r\n                    <Text style={styles.title3}>Samedi :  \r\n                        {calendars[6].length === 0 && 'Fermé'}\r\n                         {calendars[6].length === 2 && calendars[6][1].open.time.substring(0,2)+\"h\"+calendars[6][1].open.time.substring(2)+' - '+calendars[6][0].close.time.substring(0,2)+\"h\"+calendars[6][0].close.time.substring(2)}\r\n                        {calendars[6].length === 4 && 'Fermé'}\r\n                    </Text>\r\n                </View>\r\n\r\n            </View>\r\n        )\r\n\r\n    }\r\n\r\n    callPerson = (phone) =>{\r\n        if(Platform.OS === 'ios') {\r\n            Linking.openURL('tel://'+phone)\r\n        }\r\n        else if(Platform.OS === 'android') {\r\n            Linking.openURL('tel:'+phone)\r\n        }\r\n    }\r\n\r\n    isFavoriteToggle = () =>{\r\n        //.log(this.props.isFavo)\r\n        if(this.props.isFavo === false) {\r\n            return (\r\n                <TouchableOpacity\r\n                    style={{flex:1, textAlign: 'center', zIndex: 2, alignItems: \"center\", marginTop: wp('8%')}}\r\n                    onPress={(e) =>{\r\n                        this.onClickAddFavorite()\r\n                    }}\r\n                >\r\n                {/**\r\n                <Image\r\n                            style={{width: wp('25%'), height: wp('25%')}}\r\n                            source={require('../images/favoris.png')}     \r\n                        />\r\n                 */}\r\n                        \r\n                        <FontAwesomeIcon icon={faHeart} size={40} color =\"#00C1B4\" \r\n                        style={{width: wp('25%'), height: wp('25%'), marginBottom: 30}}/>\r\n                        <Text style={styles.title2}>Ajouter aux favoris</Text>\r\n\r\n                </TouchableOpacity>\r\n            )\r\n        }else{\r\n            return (\r\n                <TouchableOpacity\r\n                    style={{flex:1, textAlign: 'center', zIndex: 2, alignItems: \"center\", marginTop: wp('8%')}}\r\n                    onPress={(e)=>{\r\n                        this.onClickDeleteFavorite();\r\n                    }}\r\n                >\r\n\r\n                {/**\r\n                                <Image\r\n                    style={{width: wp('25%'), height: wp('25%')}}\r\n                    source={require('../images/Icone_Star_full.png')}\r\n                /> \r\n                 */}\r\n\r\n\r\n                <FontAwesomeIcon icon={faStar} size={40} color =\"#00C1B4\" \r\n                style={{width: wp('25%'), height: wp('25%'), marginBottom: 30}}/>\r\n                <Text style={styles.title2}>Retirer</Text>\r\n\r\n                </TouchableOpacity>\r\n            )\r\n        }\r\n    }\r\n    \r\n    onClickAddFavorite =async  () =>{\r\n        let favorite = {\r\n            geoIdFavoris : this.props.detail.place_id,\r\n            idUser : this.props.user.user.idUser\r\n        }\r\n\r\n        console.log(favorite)\r\n\r\n        if(this.props.isFavo === false) {\r\n           \r\n            await  axios.post(`${Bdd.api_url}/favoris`,favorite)\r\n                .then(async _=>{\r\n                    this.props.onChangeFavo()\r\n                })  \r\n        }\r\n    }\r\n\r\n    onClickDeleteFavorite() {\r\n        //.log(\"fav id \"+this.props.favoriteId)\r\n         if(this.props.favoriteId !== null) {\r\n             let favorite_obj = {\r\n                 g_id: this.props.favoriteId,\r\n                 user_id: this.props.user.user.idUser\r\n             }\r\n \r\n             //.log('props favo dans delete',this.props.isFavo)\r\n             //.log('favoriteId', favorite_obj)\r\n             if (this.props.isFavo === true) {\r\n                 this.props.deleteFavorite(favorite_obj);\r\n                 this.props.onChangeFavo();\r\n             }\r\n        }\r\n      \r\n    }\r\n\r\n    openWeb() {\r\n        const link = this.props.detail.website\r\n\r\n          Alert.alert('Site web', 'Best4Santé souhaite ouvrir votre navigateur', [\r\n            {\r\n                text: 'Accepter',\r\n                onPress: () => { \r\n                    Linking.openURL(link).catch(\r\n                    (err) => console.error('An error occurred while opening website', err));\r\n                }\r\n            },\r\n            {\r\n                text: 'Annuler',\r\n                onPress: () => { \r\n                   \r\n                }\r\n            }\r\n        ])\r\n    }\r\n\r\n    render(){\r\n\r\n        //.log(\"render details\")\r\n         return this.state.panResponder ? \r\n            <Animated.View\r\n                {...this.state.panResponder.panHandlers}\r\n                style={this.getCardStyle()}\r\n            >\r\n                <View style={styles.buttons}>\r\n                    {this.state.isOpen===false && \r\n                        <TouchableOpacity\r\n                            style={{flex : 3, marginTop : hp(\"4%\"),width : wp(\"14%\"),height : hp(\"5%\"),marginBottom : hp(\"0%\"),marginLeft: wp('35%'), marginRight: wp('30%'), zIndex: 2}}\r\n                            onPress={(e) => {this.setOpenPosition()}}\r\n                        >\r\n                            <FontAwesomeIcon icon={faAngleUp} size={35} color =\"#5e5e5e\" />\r\n\r\n                        </TouchableOpacity>\r\n                    }\r\n                    {this.state.isOpen === true && \r\n                        <TouchableOpacity \r\n                            style={{ flex:3, marginTop: hp(\"4%\"), width: wp(\"14%\"), marginBottom: hp('1%'), marginLeft: wp('35%'), marginRight: wp('30%'), zIndex: 2 }}\r\n                            onPress={(e) =>{this.resetOpenPosition()}}\r\n                        >\r\n                            <FontAwesomeIcon size={35}  icon={ faAngleDown } color=\"#5e5e5e\"/>\r\n                        </TouchableOpacity>\r\n                    }\r\n                    <TouchableOpacity\r\n                            onPress={(e)=>{this.props.onClickClose()}}\r\n                            style={{marginTop: hp('1%'), marginRight: wp('2%'), backgroundColor: \"#00C1B4\", height: hp(\"4%\"),width: hp('4%'), borderRadius: 400/2, display: \"flex\", justifyContent: \"center\", alignItems: 'center', color: \"#008AC8\" }}\r\n                        \r\n                    >\r\n                    <FontAwesomeIcon icon={faTimes} size={20} color =\"#FFFFFF\" />\r\n                    </TouchableOpacity>\r\n                   \r\n                </View>\r\n                <Text style={styles.title}>{this.props.detail.name}</Text>\r\n                <Text style={styles.title2}>{this.props.detail.formatted_address}</Text>\r\n                \r\n                <View>\r\n                    {this.props.detail.opening_hours && this.createCalendar(this.props.detail.opening_hours.periods)}\r\n                </View>\r\n\r\n                <View style={{flexDirection : \"row\", justifyContent : \"center\",marginTop : hp(\"4%\")}}>\r\n                    <Text style={{color : \"black\"}}>Note :</Text>\r\n                    {this.createRate(this.props.detail.rating)}\r\n                </View>\r\n\r\n                {\r\n                    this.props.detail.website && (\r\n                    <View style={{flexDirection : \"row\", justifyContent : \"center\",marginTop : hp(\"1%\")}}>\r\n                    <TouchableOpacity onPress={() => this.openWeb()}>\r\n                            <Text style={{color : \"#008ac8\"}}>Visitez le site web</Text>\r\n                    </TouchableOpacity>\r\n                    </View>\r\n                    )\r\n                }\r\n\r\n\r\n                <View style={styles.direction}>\r\n\r\n                    <TouchableOpacity\r\n                        style={{flex : 1, textAlign : \"center\",zIndex : 2 ,alignItems :\"center\"}}\r\n                        onPress={(e) =>this.callPerson(this.props.detail.international_phone_number)}\r\n                        >\r\n                        <Image \r\n                            style ={{width : wp(\"25%\"), height : wp(\"25%\")}}\r\n                            source={require(\"../images/apeller_icon.png\")}\r\n                        />\r\n                        <Text style={styles.title2}>Appeler</Text>\r\n                    </TouchableOpacity>\r\n\r\n                    <TouchableOpacity\r\n                        style={{flex : 1, textAlign : \"center\", zIndex : 2,alignItems : \"center\"}}\r\n                        onPress = {(e) => {\r\n                            this.props.onClickDirection()\r\n                            this.resetOpenPosition()\r\n                        }}\r\n                    >\r\n                        <Image \r\n                             style={{width: wp('25%'), height: wp('25%')}}\r\n                             source={require('../images/itineraire_full.png')}\r\n                            \r\n                        />\r\n                        <Text style={styles.title2}>Itinéraire GPS</Text>\r\n                    </TouchableOpacity>\r\n                   {this.isFavoriteToggle()}\r\n                </View>\r\n\r\n            </Animated.View>\r\n            :\r\n            <View /> \r\n    }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    title: {\r\n        fontSize: 20,\r\n        textAlign: 'center',\r\n        marginBottom: hp('1%'),\r\n        color:\"#00C1B4\",\r\n        fontWeight: 'bold'\r\n    },\r\n    title2: {\r\n        textAlign: 'center',\r\n        color:\"black\",\r\n        marginBottom: hp(\"2%\")\r\n    },\r\n    title3: {\r\n        color:\"black\"\r\n    },\r\n    buttons: {\r\n        flexDirection: 'row'\r\n    },\r\n    direction: {\r\n        flexDirection: 'row',\r\n        width: wp('85%'),\r\n      \r\n        justifyContent: 'space-around'\r\n    }\r\n})\r\n\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        favorite: store.favorite,\r\n        user: store.user\r\n    }\r\n  }\r\n\r\nconst mapDispatchToProps = {\r\n    addFavorite,\r\n    deleteFavorite\r\n}\r\n\r\nexport default withNavigation(connect(mapStateToProps,mapDispatchToProps)(DetailCard))"]},"metadata":{},"sourceType":"module"}