{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport socketIOClient from \"socket.io-client\";\nimport Bdd from \"../API/Bdd\";\nimport io from \"socket.io-client\";\nexport var SocketService = function SocketService(namespace) {\n  var _this = this;\n\n  _classCallCheck(this, SocketService);\n\n  this.emitEvent = function (event, data) {\n    _this.socket.emit(event, data);\n  };\n\n  this.onSamaritainListChange = function (callback) {\n    _this.socket.on(\"samaritain_list_changed\", function (data) {\n      return callback(data);\n    });\n  };\n\n  this.onNewSamaritainRequest = function (callback) {\n    _this.socket.on(\"samaritain_request\", function (data) {\n      return callback(data);\n    });\n  };\n\n  var server = Bdd.socket_url + \"/\" + namespace;\n  this.socket = io(server);\n};","map":{"version":3,"sources":["E:/Projets/Acadys/best4sante/SanteV2/assets/services/socket.js"],"names":["socketIOClient","Bdd","io","SocketService","namespace","emitEvent","event","data","socket","emit","onSamaritainListChange","callback","on","onNewSamaritainRequest","server","socket_url"],"mappings":";AAAA,OAAOA,cAAP,MAA2B,kBAA3B;AACA,OAAOC,GAAP;AACA,OAAOC,EAAP,MAAe,kBAAf;AAGA,WAAaC,aAAb,GAGI,uBAAYC,SAAZ,EAAsB;AAAA;;AAAA;;AAAA,OAMtBC,SANsB,GAMV,UAACC,KAAD,EAAQC,IAAR,EAAiB;AACzB,IAAA,KAAI,CAACC,MAAL,CAAYC,IAAZ,CAAiBH,KAAjB,EAAuBC,IAAvB;AACH,GARqB;;AAAA,OAWtBG,sBAXsB,GAWI,UAACC,QAAD,EAAa;AACnC,IAAA,KAAI,CAACH,MAAL,CAAYI,EAAZ,CAAe,yBAAf,EAA0C,UAACL,IAAD;AAAA,aAASI,QAAQ,CAACJ,IAAD,CAAjB;AAAA,KAA1C;AACH,GAbqB;;AAAA,OAetBM,sBAfsB,GAeG,UAACF,QAAD,EAAa;AAClC,IAAA,KAAI,CAACH,MAAL,CAAYI,EAAZ,CAAe,oBAAf,EAAoC,UAACL,IAAD;AAAA,aAASI,QAAQ,CAACJ,IAAD,CAAjB;AAAA,KAApC;AACH,GAjBqB;;AAClB,MAAIO,MAAM,GAAOb,GAAG,CAACc,UAAX,SAAyBX,SAAnC;AACA,OAAKI,MAAL,GAAcN,EAAE,CAACY,MAAD,CAAhB;AACH,CANL","sourcesContent":["import socketIOClient from \"socket.io-client\"\r\nimport Bdd from '../API/Bdd'\r\nimport io from \"socket.io-client\"\r\n\r\n\r\nexport class SocketService{\r\n    socket\r\n\r\n    constructor(namespace){\r\n        let server  = `${Bdd.socket_url}/${namespace}`\r\n        this.socket = io(server)\r\n    }\r\n\r\n\r\n    emitEvent = (event, data) => {\r\n        this.socket.emit(event,data)\r\n    }\r\n\r\n   \r\n    onSamaritainListChange =  (callback) =>{\r\n        this.socket.on(\"samaritain_list_changed\", (data)=> callback(data))\r\n    }\r\n\r\n    onNewSamaritainRequest = (callback) =>{\r\n        this.socket.on(\"samaritain_request\",(data) =>callback(data))\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n// export const _setSocket = (namespace) =>{\r\n//     socket = socketIOClient(`${Bdd.socket_url}/${namespace}`)\r\n// }\r\n\r\n// export const _emitEvent = (event, data) => {\r\n//     socket.emit(event, data)\r\n// }\r\n\r\n// export const onSamaritainListChange =  (callback) =>{\r\n//     socket.on(\"samaritain_list_changed\", (data) => callback(data))\r\n// }"]},"metadata":{},"sourceType":"module"}