{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Stenny Gabriel\\\\best4sante\\\\Best4Sante\\\\assets\\\\Screens\\\\Profiles\\\\Switch.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Card, Icon, Input } from 'react-native-elements';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport ListView from \"react-native-web/dist/exports/ListView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport PropTypes from 'prop-types';\nimport { FlatList, TouchableOpacity } from 'react-native-gesture-handler';\nimport { connect } from 'react-redux';\nimport { deleteContact, modifyUserInfo, setIndexSelected, setSecondInfo } from \"../../Action\";\nimport { Avatar } from 'react-native-elements';\nimport TopMenu from \"../../component/Menu/TopMenu\";\nimport * as firebase from 'firebase';\nimport firestore from 'firebase/firestore';\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\nimport { faEdit } from '@fortawesome/free-solid-svg-icons';\nimport * as Permissions from 'expo-permissions';\nimport * as ImagePicker from 'expo-image-picker';\nvar DEFAUTL_USER = \"https://www.nehome-groupe.fr/wp-content/uploads/2015/09/image-de-profil-2.jpg\";\n\nvar Switch = function (_Component) {\n  _inherits(Switch, _Component);\n\n  var _super = _createSuper(Switch);\n\n  function Switch(props) {\n    var _this;\n\n    _classCallCheck(this, Switch);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(_this.getCameraPermissions());\n\n            case 2:\n              _this.setState({\n                isLoading: true\n              });\n\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(_this.fetchImage());\n\n            case 5:\n              _this.setState({\n                isLoading: false\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.fetchImage = function _callee2() {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(firebase.firestore().collection('profile').where(\"idUser\", \"==\", _this.state.id).get().then(function (querySnapshot) {\n                querySnapshot.forEach(function (doc) {\n                  _this.setState({\n                    photoUri: doc.data().photoUri\n                  });\n                });\n              }).catch(function (err) {\n                console.log(err);\n              }));\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderHeader = function () {\n      console.log(\"this.state.photoUri\");\n      console.log(_this.state.photoUri);\n      return React.createElement(View, {\n        style: styles.headerContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: Platform.OS === 'ios' ? styles.under_ios : styles.under,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }, React.createElement(TopMenu, {\n        navigation: _this.props.navigation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }\n      })), React.createElement(ImageBackground, {\n        style: styles.headerBackgroundImage,\n        blurRadius: 10,\n        source: {\n          uri: _this.state.photoUri == \"\" ? DEFAUTL_USER : _this.state.photoUri\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.headerColumn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }\n      }, React.createElement(Image, {\n        style: styles.userImage,\n        source: {\n          uri: _this.state.photoUri == \"\" ? DEFAUTL_USER : _this.state.photoUri\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        style: styles.userNameText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }\n      }, _this.props.second.second_users[_this.props.second.indexSelected].firstName, \" \", _this.props.second.second_users[_this.props.second.indexSelected].lastName, \" \"), React.createElement(View, {\n        style: styles.userAddressRow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.actionBtn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this.props.navigation.navigat(\"MySante\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'share',\n          type: 'font-awesome'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 19\n        }\n      }))), _this.state.isModifbegin === false && React.createElement(View, {\n        style: styles.actionBtn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this.setState({\n            isModifbegin: !_this.state.isModifbegin\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 19\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'pencil',\n          type: 'font-awesome'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }\n      }))), _this.state.isModifbegin === true && React.createElement(View, {\n        style: styles.actionBtn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          if (_this.props.second.indexSelected === 0) {\n            _this.modifInfoPerso();\n          } else {\n            _this.modifySecondInfoPerso();\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 19\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'save',\n          type: 'font-awesome'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }\n      }))), React.createElement(View, {\n        style: styles.actionBtn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 15\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this._pickImage();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 17\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'camera',\n          type: 'font-awesome'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 19\n        }\n      })))))));\n    };\n\n    _this.modifInfoPerso = function _callee3() {\n      var userModified, errorCount;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _this.setState({\n                isLoading: true\n              });\n\n              userModified = {\n                firstName: _this.props.user.user.data.user[0].firstName,\n                lastName: _this.props.user.user.data.user[0].lastName,\n                phone: _this.props.user.user.data.user[0].phone,\n                address: _this.props.user.user.data.user[0].address,\n                zip: _this.props.user.user.data.user[0].zip,\n                city: _this.props.user.user.data.user[0].city,\n                blood: _this.props.user.user.data.user[0].blood,\n                size: _this.props.user.user.data.user[0].size,\n                weight: _this.props.user.user.data.user[0].weight,\n                donate: _this.props.user.user.data.user[0].donate,\n                secu: _this.props.user.user.data.user[0].secu,\n                user_id: _this.props.user.user.data.user[0].id\n              };\n              userModified.firstName = _this.state.firstName;\n              userModified.lastName = _this.state.lastName;\n              userModified.phone = _this.state.phone;\n              userModified.address = _this.state.address;\n              userModified.city = _this.state.city;\n              userModified.zip = _this.state.zip;\n              _context3.next = 10;\n              return _regeneratorRuntime.awrap(_this.validationInfo(userModified));\n\n            case 10:\n              errorCount = _context3.sent;\n              console.log(errorCount);\n\n              if (errorCount == 0) {\n                console.log(\"ato\");\n\n                _this.props.modifyUserInfo(userModified);\n\n                _this.setState({\n                  isModifbegin: false\n                });\n              }\n\n              _this.setState({\n                isLoading: false\n              });\n\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.modifySecondInfoPerso = function _callee4() {\n      var userModified, errorCount;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _this.setState({\n                isLoading: true\n              });\n\n              userModified = {\n                firstName: _this.props.second.second_users[_this.props.second.indexSelected].firstName,\n                lastName: _this.props.second.second_users[_this.props.second.indexSelected].lastName,\n                phone: _this.props.second.second_users[_this.props.second.indexSelected].phone,\n                address: _this.props.second.second_users[_this.props.second.indexSelected].address,\n                zip: _this.props.second.second_users[_this.props.second.indexSelected].zip,\n                city: _this.props.second.second_users[_this.props.second.indexSelected].city,\n                blood: _this.props.second.second_users[_this.props.second.indexSelected].blood,\n                size: _this.props.second.second_users[_this.props.second.indexSelected].size,\n                weight: _this.props.second.second_users[_this.props.second.indexSelected].weight,\n                donate: _this.props.second.second_users[_this.props.second.indexSelected].donate,\n                secu: _this.props.second.second_users[_this.props.second.indexSelected].secu,\n                id: _this.props.second.second_users[_this.props.second.indexSelected].id\n              };\n              userModified.firstName = _this.state.firstName;\n              userModified.lastName = _this.state.lastName;\n              userModified.phone = _this.state.phone;\n              userModified.address = _this.state.address;\n              userModified.city = _this.state.city;\n              userModified.zip = _this.state.zip;\n              _context4.next = 10;\n              return _regeneratorRuntime.awrap(_this.validationInfo(userModified));\n\n            case 10:\n              errorCount = _context4.sent;\n\n              if (errorCount == 0) {\n                axios.post(Bdd.api_url + '/api/second_user/update', userModified).then(function (response) {\n                  if (response.data.status === 200) {\n                    AsyncStorage.getItem('bosToken').then(function (token) {\n                      var user_id = _this.props.user.user.data.user[0].id;\n\n                      _this.props.setSecondInfo(token, user_id);\n\n                      _this.setState({\n                        isLoading: false\n                      });\n                    });\n                  }\n                });\n              }\n\n              _this.setState({\n                isLoading: false\n              });\n\n            case 13:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getCameraPermissions = function _callee5() {\n      var _await$Permissions$as, status;\n\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n            case 2:\n              _await$Permissions$as = _context5.sent;\n              status = _await$Permissions$as.status;\n\n              if (status !== 'granted') {\n                Alert(\"permission not granteed\");\n\n                _this.setState({\n                  rollGranted: false,\n                  cameraGranted: false\n                });\n              } else {\n                _this.setState({\n                  rollGranted: true,\n                  cameraGranted: true\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._pickImage = function _callee6() {\n      var result;\n      return _regeneratorRuntime.async(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                allowsEditing: true,\n                base64: true\n              }));\n\n            case 2:\n              result = _context6.sent;\n              console.log(\"ok\");\n\n              _this._handleImagePicked(result);\n\n            case 5:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._handleImagePicked = function _callee7(pickerResult) {\n      var uploadUrl;\n      return _regeneratorRuntime.async(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              uploadUrl = \"\";\n              _context7.prev = 1;\n\n              _this.setState({\n                isLoading: true\n              });\n\n              if (pickerResult.cancelled) {\n                _context7.next = 10;\n                break;\n              }\n\n              _context7.next = 6;\n              return _regeneratorRuntime.awrap(_this.uploadImageAsync(pickerResult.uri));\n\n            case 6:\n              uploadUrl = _context7.sent;\n              console.log(uploadUrl);\n              _context7.next = 10;\n              return _regeneratorRuntime.awrap(_this.saveProfileImageInfo(_this.state.id, uploadUrl));\n\n            case 10:\n              _context7.next = 16;\n              break;\n\n            case 12:\n              _context7.prev = 12;\n              _context7.t0 = _context7[\"catch\"](1);\n              console.log(_context7.t0);\n              alert('Upload failed, sorry :(');\n\n            case 16:\n              _context7.prev = 16;\n\n              _this.setState({\n                isLoading: false\n              });\n\n              _this.setState({\n                photoUri: uploadUrl\n              });\n\n              return _context7.finish(16);\n\n            case 20:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, null, [[1, 12, 16, 20]], Promise);\n    };\n\n    _this.saveProfileImageInfo = function _callee8(id, uri) {\n      return _regeneratorRuntime.async(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.next = 2;\n              return _regeneratorRuntime.awrap(firebase.firestore().collection('profile').add({\n                idUser: id,\n                photoUri: uri\n              }));\n\n            case 2:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.uploadImageAsync = function _callee9(uri) {\n      var blob, id, ref, snapshot;\n      return _regeneratorRuntime.async(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.next = 2;\n              return _regeneratorRuntime.awrap(new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n\n                xhr.onload = function () {\n                  resolve(xhr.response);\n                };\n\n                xhr.onerror = function (e) {\n                  console.log(e);\n                  reject(new TypeError('Network request failed'));\n                };\n\n                xhr.responseType = 'blob';\n                xhr.open('GET', uri, true);\n                xhr.send(null);\n              }));\n\n            case 2:\n              blob = _context9.sent;\n              id = Math.random().toString();\n              ref = firebase.storage().ref().child(id);\n              _context9.next = 7;\n              return _regeneratorRuntime.awrap(ref.put(blob));\n\n            case 7:\n              snapshot = _context9.sent;\n              blob.close();\n              _context9.next = 11;\n              return _regeneratorRuntime.awrap(snapshot.ref.getDownloadURL());\n\n            case 11:\n              return _context9.abrupt(\"return\", _context9.sent);\n\n            case 12:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      isSelectedProfile: false,\n      photoUri: \"\",\n      id: _this.props.second.second_users[_this.props.second.indexSelected].id,\n      firstName: _this.props.second.second_users[_this.props.second.indexSelected].firstName,\n      lastName: _this.props.second.second_users[_this.props.second.indexSelected].lastName,\n      phone: _this.props.second.second_users[_this.props.second.indexSelected].phone,\n      address: _this.props.second.second_users[_this.props.second.indexSelected].address,\n      zip: _this.props.second.second_users[_this.props.second.indexSelected].zip,\n      city: _this.props.second.second_users[_this.props.second.indexSelected].city,\n      id: _this.props.second.second_users[_this.props.second.indexSelected].id,\n      rollGranted: true,\n      cameraGranted: false,\n      uri_doc: null,\n      base64Img: null,\n      photoUri: \"\",\n      errLastName: \"\",\n      errFirstName: \"\",\n      errAddress: \"\",\n      errZip: \"\",\n      errVille: \"\",\n      errPhone: \"\",\n      isLoading: false,\n      isModifbegin: false\n    };\n    _this.ref = firebase.firestore().collection('profile');\n    return _this;\n  }\n\n  _createClass(Switch, [{\n    key: \"validationInfo\",\n    value: function validationInfo(data) {\n      var numberPattern, alphaPattern, count;\n      return _regeneratorRuntime.async(function validationInfo$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              numberPattern = /^[0-9]+$/;\n              alphaPattern = /^([a-zA-Z0-9 _-]+)$/;\n              count = 0;\n\n              if (numberPattern.test(data.phone) === false || data.phone.length < 8 || data.phone.length > 12 || isNaN(data.phone)) {\n                count++;\n                this.setState({\n                  errPhone: \"Vous devez entrer un numéro de téléphone valide\"\n                });\n              } else {\n                this.setState({\n                  errPhone: null\n                });\n              }\n\n              if (numberPattern.test(this.state.zip) === false || this.state.zip == \"\" || this.state.zip.length < 3 || this.state.zip.length > 6) {\n                count++;\n                this.setState({\n                  errZip: \"Vous devez entrer un code postal valide\"\n                });\n              } else {\n                this.setState({\n                  errZip: null\n                });\n              }\n\n              if (alphaPattern.test(this.state.firstName) === false || this.state.firstName == \"\") {\n                count++;\n                this.setState({\n                  errFirstName: \"Vous devez entrer un prénom valide\"\n                });\n              } else {\n                this.setState({\n                  errFirstName: null\n                });\n              }\n\n              if (alphaPattern.test(this.state.lastName) === false || this.state.lastName == \"\") {\n                count++;\n                this.setState({\n                  errLastName: \"Vous devez entrer un nom valide\"\n                });\n              } else {\n                this.setState({\n                  errLastName: null\n                });\n              }\n\n              if (alphaPattern.test(this.state.city) === false || this.state.city == \"\") {\n                count++;\n                this.setState({\n                  errVille: \"Vous devez entrer un nom de ville valide\"\n                });\n              } else {\n                this.setState({\n                  errVille: null\n                });\n              }\n\n              return _context10.abrupt(\"return\", count);\n\n            case 9:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(\"render\");\n      return React.createElement(ScrollView, {\n        style: styles.scroll,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 9\n        }\n      }, this.state.isLoading && React.createElement(View, {\n        style: styles.loading_container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 36\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 13\n        }\n      })), React.createElement(Card, {\n        containerStyle: styles.cardContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }\n      }, this.renderHeader()), React.createElement(View, {\n        style: styles.infoContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 15\n        }\n      }, \"Pr\\xE9nom\"), this.state.isModifbegin === true && React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            firstName: text\n          });\n        },\n        value: this.state.firstName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 17\n        }\n      }, this.state.firstName)), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 15\n        }\n      }, \"Nom\"), this.state.isModifbegin === true && React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            lastName: text\n          });\n        },\n        value: this.state.lastName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 17\n        }\n      }, this.state.lastName)), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 15\n        }\n      }, \"Ville\"), this.state.isModifbegin === true && React.createElement(Input, {\n        errorMessage: this.state.errVille,\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            city: text\n          });\n        },\n        value: this.state.city,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 17\n        }\n      }, this.state.city)), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 15\n        }\n      }, \"Adresse\"), this.state.isModifbegin === true && React.createElement(Input, {\n        errorMessage: this.state.errAddress,\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            address: text\n          });\n        },\n        value: this.state.address,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 17\n        }\n      }, this.state.address)), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 15\n        }\n      }, \"Code postale\"), this.state.isModifbegin === true && React.createElement(Input, {\n        errorMessage: this.state.errZip,\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            zip: text\n          });\n        },\n        value: this.state.zip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 17\n        }\n      }, this.state.zip)), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 15\n        }\n      }, \"T\\xE9l\\xE9phone\"), this.state.isModifbegin === true && React.createElement(Input, {\n        keyboardType: \"numeric\",\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            phone: text\n          });\n        },\n        value: this.state.phone,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472,\n          columnNumber: 17\n        }\n      }, this.state.phone)))));\n    }\n  }]);\n\n  return Switch;\n}(Component);\n\nvar styles = StyleSheet.create({\n  infoContainer: {\n    padding: 20\n  },\n  labelText: {\n    fontWeight: \"bold\",\n    fontSize: 16\n  },\n  labelValue: {\n    color: \"gray\"\n  },\n  actionBtn: {\n    position: \"relative\",\n    top: -10,\n    zIndex: 99999\n  },\n  choiceItem: {\n    backgroundColor: \"white\",\n    padding: 10,\n    margin: 10,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  cardContainer: {\n    backgroundColor: '#FFF',\n    borderWidth: 0,\n    flex: 1,\n    margin: 0,\n    padding: 0\n  },\n  container: {\n    flex: 1\n  },\n  emailContainer: {\n    backgroundColor: '#FFF',\n    flex: 1,\n    paddingTop: 30\n  },\n  headerBackgroundImage: {\n    paddingBottom: 20,\n    paddingTop: 35\n  },\n  headerContainer: {},\n  headerColumn: _objectSpread({\n    backgroundColor: 'transparent'\n  }, Platform.select({\n    ios: {\n      alignItems: 'center',\n      elevation: 1,\n      marginTop: -1\n    },\n    android: {\n      alignItems: 'center'\n    }\n  })),\n  placeIcon: {\n    color: 'white',\n    fontSize: 26\n  },\n  scroll: {\n    backgroundColor: '#FFF'\n  },\n  telContainer: {\n    backgroundColor: '#FFF',\n    flex: 1,\n    paddingTop: 30\n  },\n  userAddressRow: {\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  userCityRow: {\n    backgroundColor: 'transparent'\n  },\n  userCityText: {\n    color: '#A5A5A5',\n    fontSize: 15,\n    fontWeight: '600',\n    textAlign: 'center'\n  },\n  userImage: {\n    borderColor: \"#01C89E\",\n    borderRadius: 85,\n    borderWidth: 3,\n    height: 170,\n    marginBottom: 15,\n    width: 170\n  },\n  userNameText: {\n    color: '#FFF',\n    fontSize: 22,\n    fontWeight: 'bold',\n    paddingBottom: 8,\n    textAlign: 'center'\n  },\n  loading_container: {\n    position: 'absolute',\n    zIndex: 10,\n    left: 0,\n    right: 0,\n    top: 100,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    user: store.user,\n    contact: store.contact,\n    second: store.second\n  };\n};\n\nvar mapDispatchToProps = {\n  deleteContact: deleteContact,\n  modifyUserInfo: modifyUserInfo,\n  setSecondInfo: setSecondInfo,\n  setIndexSelected: setIndexSelected\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Switch);","map":{"version":3,"sources":["C:/Users/Stenny Gabriel/best4sante/Best4Sante/assets/Screens/Profiles/Switch.js"],"names":["React","Component","Card","Icon","Input","PropTypes","FlatList","TouchableOpacity","connect","deleteContact","modifyUserInfo","setIndexSelected","setSecondInfo","Avatar","TopMenu","firebase","firestore","FontAwesomeIcon","faEdit","Permissions","ImagePicker","DEFAUTL_USER","Switch","props","componentDidMount","getCameraPermissions","setState","isLoading","fetchImage","collection","where","state","id","get","then","querySnapshot","forEach","doc","photoUri","data","catch","err","console","log","renderHeader","styles","headerContainer","Platform","OS","under_ios","under","navigation","headerBackgroundImage","uri","headerColumn","userImage","userNameText","second","second_users","indexSelected","firstName","lastName","userAddressRow","actionBtn","navigat","backgroundColor","name","type","isModifbegin","modifInfoPerso","modifySecondInfoPerso","_pickImage","userModified","user","phone","address","zip","city","blood","size","weight","donate","secu","user_id","validationInfo","errorCount","axios","post","Bdd","api_url","response","status","AsyncStorage","getItem","token","askAsync","CAMERA_ROLL","Alert","rollGranted","cameraGranted","launchImageLibraryAsync","allowsEditing","base64","result","_handleImagePicked","pickerResult","uploadUrl","cancelled","uploadImageAsync","saveProfileImageInfo","alert","add","idUser","Promise","resolve","reject","xhr","XMLHttpRequest","onload","onerror","e","TypeError","responseType","open","send","blob","Math","random","toString","ref","storage","child","put","snapshot","close","getDownloadURL","isSelectedProfile","uri_doc","base64Img","errLastName","errFirstName","errAddress","errZip","errVille","errPhone","numberPattern","alphaPattern","count","test","length","isNaN","scroll","container","loading_container","cardContainer","infoContainer","labelText","text","labelValue","StyleSheet","create","padding","fontWeight","fontSize","color","position","top","zIndex","choiceItem","margin","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","borderWidth","flex","emailContainer","paddingTop","paddingBottom","select","ios","alignItems","marginTop","android","placeIcon","telContainer","flexDirection","userCityRow","userCityText","textAlign","borderColor","borderRadius","marginBottom","left","right","bottom","justifyContent","mapStateToProps","store","contact","mapDispatchToProps"],"mappings":";;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,KAArB,QAAkC,uBAAlC;;;;;;;;;;;AAaA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,QAAT,EAAmBC,gBAAnB,QAA2C,8BAA3C;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,aAAT,EAAwBC,cAAxB,EAAwCC,gBAAxC,EAA0DC,aAA1D;AACA,SAASC,MAAT,QAAuB,uBAAvB;AACA,OAAOC,OAAP;AACA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,SAASC,eAAT,QAAgC,uCAAhC;AACA,SAASC,MAAT,QAAuB,mCAAvB;AACA,OAAO,KAAKC,WAAZ,MAA6B,kBAA7B;AACA,OAAO,KAAKC,WAAZ,MAA6B,mBAA7B;AAEA,IAAMC,YAAY,GAAG,+EAArB;;IACMC,M;;;;;AAEJ,kBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;;AADiB,UAoCnBC,iBApCmB,GAoCC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACZ,MAAKC,oBAAL,EADY;;AAAA;AAElB,oBAAKC,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AAFkB;AAAA,+CAGZ,MAAKC,UAAL,EAHY;;AAAA;AAIlB,oBAAKF,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AAJkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KApCD;;AAAA,UA2CnBC,UA3CmB,GA2CN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACLb,QAAQ,CAACC,SAAT,GAAqBa,UAArB,CAAgC,SAAhC,EACHC,KADG,CACG,QADH,EACa,IADb,EACmB,MAAKC,KAAL,CAAWC,EAD9B,EAEHC,GAFG,GAGHC,IAHG,CAGE,UAAAC,aAAa,EAAI;AACrBA,gBAAAA,aAAa,CAACC,OAAd,CAAsB,UAAAC,GAAG,EAAI;AAC3B,wBAAKX,QAAL,CAAc;AACZY,oBAAAA,QAAQ,EAAED,GAAG,CAACE,IAAJ,GAAWD;AADT,mBAAd;AAID,iBALD;AAOD,eAXG,EAYHE,KAZG,CAYG,UAAAC,GAAG,EAAI;AACZC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,eAdG,CADK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA3CM;;AAAA,UA+DnBG,YA/DmB,GA+DJ,YAAM;AACnBF,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAKZ,KAAL,CAAWO,QAAvB;AACA,aACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEO,MAAM,CAACC,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEC,QAAQ,CAACC,EAAT,KAAgB,KAAhB,GAAwBH,MAAM,CAACI,SAA/B,GAA2CJ,MAAM,CAACK,KAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAS,QAAA,UAAU,EAAE,MAAK3B,KAAL,CAAW4B,UAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAKE,oBAAC,eAAD;AACE,QAAA,KAAK,EAAEN,MAAM,CAACO,qBADhB;AAEE,QAAA,UAAU,EAAE,EAFd;AAGE,QAAA,MAAM,EAAE;AAAEC,UAAAA,GAAG,EAAE,MAAKtB,KAAL,CAAWO,QAAX,IAAuB,EAAvB,GAA4BjB,YAA5B,GAA2C,MAAKU,KAAL,CAAWO;AAA7D,SAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEO,MAAM,CAACS,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE,oBAAC,KAAD;AACE,QAAA,KAAK,EAAET,MAAM,CAACU,SADhB;AAEE,QAAA,MAAM,EAAE;AAAEF,UAAAA,GAAG,EAAE,MAAKtB,KAAL,CAAWO,QAAX,IAAuB,EAAvB,GAA4BjB,YAA5B,GAA2C,MAAKU,KAAL,CAAWO;AAA7D,SAFV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,EAME,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEO,MAAM,CAACW,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAmC,MAAKjC,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEC,SAAnG,OAA+G,MAAKrC,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEE,QAA/K,MANF,EAOE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEhB,MAAM,CAACiB,cAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEjB,MAAM,CAACkB,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAKxC,KAAL,CAAW4B,UAAX,CAAsBa,OAAtB,CAA8B,SAA9B,CAAN;AAAA,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,MAA7B;AAA8B,QAAA,qBAAqB,EAAE;AAAEC,UAAAA,eAAe,EAAE;AAAnB,SAArD;AAAqF,QAAA,IAAI,EAAE;AAAEC,UAAAA,IAAI,EAAE,OAAR;AAAiBC,UAAAA,IAAI,EAAE;AAAvB,SAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF,EAMG,MAAKpC,KAAL,CAAWqC,YAAX,KAA4B,KAA5B,IACC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEvB,MAAM,CAACkB,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAKrC,QAAL,CAAc;AAAE0C,YAAAA,YAAY,EAAE,CAAC,MAAKrC,KAAL,CAAWqC;AAA5B,WAAd,CAAN;AAAA,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,MAA7B;AAA8B,QAAA,qBAAqB,EAAE;AAAEH,UAAAA,eAAe,EAAE;AAAnB,SAArD;AAAqF,QAAA,IAAI,EAAE;AAAEC,UAAAA,IAAI,EAAE,QAAR;AAAkBC,UAAAA,IAAI,EAAE;AAAxB,SAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CAPJ,EAaG,MAAKpC,KAAL,CAAWqC,YAAX,KAA4B,IAA5B,IACC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEvB,MAAM,CAACkB,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE,mBAAM;AAC/B,cAAI,MAAKxC,KAAL,CAAWkC,MAAX,CAAkBE,aAAlB,KAAoC,CAAxC,EAA2C;AACzC,kBAAKU,cAAL;AAED,WAHD,MAGO;AACL,kBAAKC,qBAAL;AAED;AACF,SARD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SASE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,MAA7B;AAA8B,QAAA,qBAAqB,EAAE;AAAEL,UAAAA,eAAe,EAAE;AAAnB,SAArD;AAAqF,QAAA,IAAI,EAAE;AAAEC,UAAAA,IAAI,EAAE,MAAR;AAAgBC,UAAAA,IAAI,EAAE;AAAtB,SAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CADF,CAdJ,EA4BE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEtB,MAAM,CAACkB,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,gBAAD;AAAkB,QAAA,OAAO,EAAE;AAAA,iBAAK,MAAKQ,UAAL,EAAL;AAAA,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,OAAO,MAA7B;AAA8B,QAAA,qBAAqB,EAAE;AAAEN,UAAAA,eAAe,EAAE;AAAnB,SAArD;AAAqF,QAAA,IAAI,EAAE;AAAEC,UAAAA,IAAI,EAAE,QAAR;AAAkBC,UAAAA,IAAI,EAAE;AAAxB,SAA3F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CA5BF,CAPF,CALF,CALF,CADF;AAwDD,KA1HkB;;AAAA,UA4HnBE,cA5HmB,GA4HF;AAAA;AAAA;AAAA;AAAA;AAAA;AACf,oBAAK3C,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AACI6C,cAAAA,YAFW,GAEI;AACjBZ,gBAAAA,SAAS,EAAE,MAAKrC,KAAL,CAAWkD,IAAX,CAAgBA,IAAhB,CAAqBlC,IAArB,CAA0BkC,IAA1B,CAA+B,CAA/B,EAAkCb,SAD5B;AAEjBC,gBAAAA,QAAQ,EAAE,MAAKtC,KAAL,CAAWkD,IAAX,CAAgBA,IAAhB,CAAqBlC,IAArB,CAA0BkC,IAA1B,CAA+B,CAA/B,EAAkCZ,QAF3B;AAGjBa,gBAAAA,KAAK,EAAE,MAAKnD,KAAL,CAAWkD,IAAX,CAAgBA,IAAhB,CAAqBlC,IAArB,CAA0BkC,IAA1B,CAA+B,CAA/B,EAAkCC,KAHxB;AAIjBC,gBAAAA,OAAO,EAAE,MAAKpD,KAAL,CAAWkD,IAAX,CAAgBA,IAAhB,CAAqBlC,IAArB,CAA0BkC,IAA1B,CAA+B,CAA/B,EAAkCE,OAJ1B;AAKjBC,gBAAAA,GAAG,EAAE,MAAKrD,KAAL,CAAWkD,IAAX,CAAgBA,IAAhB,CAAqBlC,IAArB,CAA0BkC,IAA1B,CAA+B,CAA/B,EAAkCG,GALtB;AAMjBC,gBAAAA,IAAI,EAAE,MAAKtD,KAAL,CAAWkD,IAAX,CAAgBA,IAAhB,CAAqBlC,IAArB,CAA0BkC,IAA1B,CAA+B,CAA/B,EAAkCI,IANvB;AAOjBC,gBAAAA,KAAK,EAAE,MAAKvD,KAAL,CAAWkD,IAAX,CAAgBA,IAAhB,CAAqBlC,IAArB,CAA0BkC,IAA1B,CAA+B,CAA/B,EAAkCK,KAPxB;AAQjBC,gBAAAA,IAAI,EAAE,MAAKxD,KAAL,CAAWkD,IAAX,CAAgBA,IAAhB,CAAqBlC,IAArB,CAA0BkC,IAA1B,CAA+B,CAA/B,EAAkCM,IARvB;AASjBC,gBAAAA,MAAM,EAAE,MAAKzD,KAAL,CAAWkD,IAAX,CAAgBA,IAAhB,CAAqBlC,IAArB,CAA0BkC,IAA1B,CAA+B,CAA/B,EAAkCO,MATzB;AAUjBC,gBAAAA,MAAM,EAAE,MAAK1D,KAAL,CAAWkD,IAAX,CAAgBA,IAAhB,CAAqBlC,IAArB,CAA0BkC,IAA1B,CAA+B,CAA/B,EAAkCQ,MAVzB;AAWjBC,gBAAAA,IAAI,EAAE,MAAK3D,KAAL,CAAWkD,IAAX,CAAgBA,IAAhB,CAAqBlC,IAArB,CAA0BkC,IAA1B,CAA+B,CAA/B,EAAkCS,IAXvB;AAYjBC,gBAAAA,OAAO,EAAE,MAAK5D,KAAL,CAAWkD,IAAX,CAAgBA,IAAhB,CAAqBlC,IAArB,CAA0BkC,IAA1B,CAA+B,CAA/B,EAAkCzC;AAZ1B,eAFJ;AAmBfwC,cAAAA,YAAY,CAACZ,SAAb,GAAyB,MAAK7B,KAAL,CAAW6B,SAApC;AACAY,cAAAA,YAAY,CAACX,QAAb,GAAwB,MAAK9B,KAAL,CAAW8B,QAAnC;AACAW,cAAAA,YAAY,CAACE,KAAb,GAAqB,MAAK3C,KAAL,CAAW2C,KAAhC;AACAF,cAAAA,YAAY,CAACG,OAAb,GAAuB,MAAK5C,KAAL,CAAW4C,OAAlC;AACAH,cAAAA,YAAY,CAACK,IAAb,GAAoB,MAAK9C,KAAL,CAAW8C,IAA/B;AACAL,cAAAA,YAAY,CAACI,GAAb,GAAmB,MAAK7C,KAAL,CAAW6C,GAA9B;AAxBe;AAAA,+CA0BQ,MAAKQ,cAAL,CAAoBZ,YAApB,CA1BR;;AAAA;AA0BXa,cAAAA,UA1BW;AA2Bf3C,cAAAA,OAAO,CAACC,GAAR,CAAY0C,UAAZ;;AAEA,kBAAIA,UAAU,IAAI,CAAlB,EAAqB;AACnB3C,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;;AACA,sBAAKpB,KAAL,CAAWb,cAAX,CAA0B8D,YAA1B;;AACA,sBAAK9C,QAAL,CAAc;AAAC0C,kBAAAA,YAAY,EAAG;AAAhB,iBAAd;AACD;;AACD,oBAAK1C,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AAlCe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA5HE;;AAAA,UAoNnB2C,qBApNmB,GAoNK;AAAA;AAAA;AAAA;AAAA;AAAA;AACtB,oBAAK5C,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AACI6C,cAAAA,YAFkB,GAEH;AACjBZ,gBAAAA,SAAS,EAAE,MAAKrC,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEC,SAD1D;AAEjBC,gBAAAA,QAAQ,EAAE,MAAKtC,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEE,QAFzD;AAGjBa,gBAAAA,KAAK,EAAE,MAAKnD,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEe,KAHtD;AAIjBC,gBAAAA,OAAO,EAAE,MAAKpD,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEgB,OAJxD;AAKjBC,gBAAAA,GAAG,EAAE,MAAKrD,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEiB,GALpD;AAMjBC,gBAAAA,IAAI,EAAE,MAAKtD,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEkB,IANrD;AAOjBC,gBAAAA,KAAK,EAAE,MAAKvD,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEmB,KAPtD;AAQjBC,gBAAAA,IAAI,EAAE,MAAKxD,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEoB,IARrD;AASjBC,gBAAAA,MAAM,EAAE,MAAKzD,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEqB,MATvD;AAUjBC,gBAAAA,MAAM,EAAE,MAAK1D,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEsB,MAVvD;AAWjBC,gBAAAA,IAAI,EAAE,MAAK3D,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEuB,IAXrD;AAYjBlD,gBAAAA,EAAE,EAAE,MAAKT,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgE3B;AAZnD,eAFG;AAiBtBwC,cAAAA,YAAY,CAACZ,SAAb,GAAyB,MAAK7B,KAAL,CAAW6B,SAApC;AACAY,cAAAA,YAAY,CAACX,QAAb,GAAwB,MAAK9B,KAAL,CAAW8B,QAAnC;AACAW,cAAAA,YAAY,CAACE,KAAb,GAAqB,MAAK3C,KAAL,CAAW2C,KAAhC;AACAF,cAAAA,YAAY,CAACG,OAAb,GAAuB,MAAK5C,KAAL,CAAW4C,OAAlC;AACAH,cAAAA,YAAY,CAACK,IAAb,GAAoB,MAAK9C,KAAL,CAAW8C,IAA/B;AACAL,cAAAA,YAAY,CAACI,GAAb,GAAmB,MAAK7C,KAAL,CAAW6C,GAA9B;AAtBsB;AAAA,+CAwBC,MAAKQ,cAAL,CAAoBZ,YAApB,CAxBD;;AAAA;AAwBlBa,cAAAA,UAxBkB;;AA0BtB,kBAAIA,UAAU,IAAI,CAAlB,EAAqB;AAEnBC,gBAAAA,KAAK,CAACC,IAAN,CAAWC,GAAG,CAACC,OAAJ,GAAc,yBAAzB,EAAoDjB,YAApD,EACGtC,IADH,CACQ,UAACwD,QAAD,EAAc;AAElB,sBAAIA,QAAQ,CAACnD,IAAT,CAAcoD,MAAd,KAAyB,GAA7B,EAAkC;AAEhCC,oBAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EACG3D,IADH,CACQ,UAAC4D,KAAD,EAAW;AACf,0BAAIX,OAAO,GAAG,MAAK5D,KAAL,CAAWkD,IAAX,CAAgBA,IAAhB,CAAqBlC,IAArB,CAA0BkC,IAA1B,CAA+B,CAA/B,EAAkCzC,EAAhD;;AACA,4BAAKT,KAAL,CAAWX,aAAX,CAAyBkF,KAAzB,EAAgCX,OAAhC;;AACA,4BAAKzD,QAAL,CAAc;AAACC,wBAAAA,SAAS,EAAG;AAAb,uBAAd;AACD,qBALH;AAMD;AACF,iBAZH;AAaD;;AAGD,oBAAKD,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AA5CsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KApNL;;AAAA,UAmQnBF,oBAnQmB,GAmQI;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAEEN,WAAW,CAAC4E,QAAZ,CAAqB5E,WAAW,CAAC6E,WAAjC,CAFF;;AAAA;AAAA;AAEfL,cAAAA,MAFe,yBAEfA,MAFe;;AAGrB,kBAAIA,MAAM,KAAK,SAAf,EAA0B;AACxBM,gBAAAA,KAAK,CAAC,yBAAD,CAAL;;AACA,sBAAKvE,QAAL,CAAc;AACZwE,kBAAAA,WAAW,EAAE,KADD;AAEZC,kBAAAA,aAAa,EAAE;AAFH,iBAAd;AAID,eAND,MAMO;AACL,sBAAKzE,QAAL,CAAc;AACZwE,kBAAAA,WAAW,EAAE,IADD;AAEZC,kBAAAA,aAAa,EAAE;AAFH,iBAAd;AAID;;AAdoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAnQJ;;AAAA,UAoRnB5B,UApRmB,GAoRN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAEQnD,WAAW,CAACgF,uBAAZ,CAAoC;AACrDC,gBAAAA,aAAa,EAAG,IADqC;AAErDC,gBAAAA,MAAM,EAAE;AAF6C,eAApC,CAFR;;AAAA;AAEPC,cAAAA,MAFO;AAMX7D,cAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;;AAIA,oBAAK6D,kBAAL,CAAwBD,MAAxB;;AAVW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KApRM;;AAAA,UAiSnBC,kBAjSmB,GAiSE,kBAAMC,YAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACfC,cAAAA,SADe,GACJ,EADI;AAAA;;AAGjB,oBAAKhF,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AAHiB,kBAKZ8E,YAAY,CAACE,SALD;AAAA;AAAA;AAAA;;AAAA;AAAA,+CAMG,MAAKC,gBAAL,CAAsBH,YAAY,CAACpD,GAAnC,CANH;;AAAA;AAMfqD,cAAAA,SANe;AAOfhE,cAAAA,OAAO,CAACC,GAAR,CAAY+D,SAAZ;AAPe;AAAA,+CAQT,MAAKG,oBAAL,CAA0B,MAAK9E,KAAL,CAAWC,EAArC,EAAyC0E,SAAzC,CARS;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAYjBhE,cAAAA,OAAO,CAACC,GAAR;AACAmE,cAAAA,KAAK,CAAC,yBAAD,CAAL;;AAbiB;AAAA;;AAejB,oBAAKpF,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AAEA,oBAAKD,QAAL,CAAc;AAACY,gBAAAA,QAAQ,EAAGoE;AAAZ,eAAd;;AAjBiB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAjSF;;AAAA,UAqTnBG,oBArTmB,GAqTI,kBAAO7E,EAAP,EAAUqB,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAEhBtC,QAAQ,CAACC,SAAT,GAAqBa,UAArB,CAAgC,SAAhC,EAA2CkF,GAA3C,CAA+C;AAClDC,gBAAAA,MAAM,EAAGhF,EADyC;AAElDM,gBAAAA,QAAQ,EAAGe;AAFuC,eAA/C,CAFgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KArTJ;;AAAA,UA4TnBuD,gBA5TmB,GA4TA,kBAAOvD,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAGE,IAAI4D,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAClD,oBAAMC,GAAG,GAAG,IAAIC,cAAJ,EAAZ;;AACAD,gBAAAA,GAAG,CAACE,MAAJ,GAAa,YAAW;AACtBJ,kBAAAA,OAAO,CAACE,GAAG,CAAC1B,QAAL,CAAP;AACD,iBAFD;;AAGA0B,gBAAAA,GAAG,CAACG,OAAJ,GAAc,UAASC,CAAT,EAAY;AACxB9E,kBAAAA,OAAO,CAACC,GAAR,CAAY6E,CAAZ;AACAL,kBAAAA,MAAM,CAAC,IAAIM,SAAJ,CAAc,wBAAd,CAAD,CAAN;AACD,iBAHD;;AAIAL,gBAAAA,GAAG,CAACM,YAAJ,GAAmB,MAAnB;AACAN,gBAAAA,GAAG,CAACO,IAAJ,CAAS,KAAT,EAAgBtE,GAAhB,EAAqB,IAArB;AACA+D,gBAAAA,GAAG,CAACQ,IAAJ,CAAS,IAAT;AACD,eAZkB,CAHF;;AAAA;AAGXC,cAAAA,IAHW;AAgBX7F,cAAAA,EAhBW,GAgBN8F,IAAI,CAACC,MAAL,GAAcC,QAAd,EAhBM;AAiBXC,cAAAA,GAjBW,GAiBLlH,QAAQ,CACjBmH,OADS,GAETD,GAFS,GAGTE,KAHS,CAGHnG,EAHG,CAjBK;AAAA;AAAA,+CAqBMiG,GAAG,CAACG,GAAJ,CAAQP,IAAR,CArBN;;AAAA;AAqBXQ,cAAAA,QArBW;AAwBjBR,cAAAA,IAAI,CAACS,KAAL;AAxBiB;AAAA,+CA0BJD,QAAQ,CAACJ,GAAT,CAAaM,cAAb,EA1BI;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA5TA;;AAEjB,UAAKxG,KAAL,GAAa;AACXyG,MAAAA,iBAAiB,EAAE,KADR;AAEXlG,MAAAA,QAAQ,EAAE,EAFC;AAEGN,MAAAA,EAAE,EAAE,MAAKT,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgE3B,EAFvE;AAIX4B,MAAAA,SAAS,EAAE,MAAKrC,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEC,SAJhE;AAKXC,MAAAA,QAAQ,EAAE,MAAKtC,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEE,QAL/D;AAMXa,MAAAA,KAAK,EAAE,MAAKnD,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEe,KAN5D;AAOXC,MAAAA,OAAO,EAAE,MAAKpD,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEgB,OAP9D;AAQXC,MAAAA,GAAG,EAAE,MAAKrD,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEiB,GAR1D;AASXC,MAAAA,IAAI,EAAE,MAAKtD,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgEkB,IAT3D;AAUX7C,MAAAA,EAAE,EAAE,MAAKT,KAAL,CAAWkC,MAAX,CAAkBC,YAAlB,CAA+B,MAAKnC,KAAL,CAAWkC,MAAX,CAAkBE,aAAjD,EAAgE3B,EAVzD;AAYXkE,MAAAA,WAAW,EAAE,IAZF;AAaXC,MAAAA,aAAa,EAAE,KAbJ;AAcXsC,MAAAA,OAAO,EAAE,IAdE;AAeXC,MAAAA,SAAS,EAAE,IAfA;AAgBXpG,MAAAA,QAAQ,EAAE,EAhBC;AAkBXqG,MAAAA,WAAW,EAAE,EAlBF;AAmBXC,MAAAA,YAAY,EAAE,EAnBH;AAoBXC,MAAAA,UAAU,EAAE,EApBD;AAqBXC,MAAAA,MAAM,EAAE,EArBG;AAsBXC,MAAAA,QAAQ,EAAE,EAtBC;AAuBXC,MAAAA,QAAQ,EAAE,EAvBC;AAyBXrH,MAAAA,SAAS,EAAE,KAzBA;AA2BXyC,MAAAA,YAAY,EAAE;AA3BH,KAAb;AA8BA,UAAK6D,GAAL,GAAWlH,QAAQ,CAACC,SAAT,GAAqBa,UAArB,CAAgC,SAAhC,CAAX;AAhCiB;AAkClB;;;;mCAgIoBU,I;;;;;;AAEf0G,cAAAA,a,GAAgB,U;AAChBC,cAAAA,Y,GAAe,qB;AACfC,cAAAA,K,GAAQ,C;;AAEZ,kBAAIF,aAAa,CAACG,IAAd,CAAmB7G,IAAI,CAACmC,KAAxB,MAAmC,KAAnC,IAA4CnC,IAAI,CAACmC,KAAL,CAAW2E,MAAX,GAAoB,CAAhE,IAAqE9G,IAAI,CAACmC,KAAL,CAAW2E,MAAX,GAAoB,EAAzF,IAA+FC,KAAK,CAAC/G,IAAI,CAACmC,KAAN,CAAxG,EAAsH;AACpHyE,gBAAAA,KAAK;AACL,qBAAKzH,QAAL,CAAc;AAAEsH,kBAAAA,QAAQ,EAAE;AAAZ,iBAAd;AACD,eAHD,MAGO;AACL,qBAAKtH,QAAL,CAAc;AAAEsH,kBAAAA,QAAQ,EAAE;AAAZ,iBAAd;AACD;;AAED,kBAAIC,aAAa,CAACG,IAAd,CAAmB,KAAKrH,KAAL,CAAW6C,GAA9B,MAAuC,KAAvC,IAAgD,KAAK7C,KAAL,CAAW6C,GAAX,IAAkB,EAAlE,IAAwE,KAAK7C,KAAL,CAAW6C,GAAX,CAAeyE,MAAf,GAAwB,CAAhG,IAAqG,KAAKtH,KAAL,CAAW6C,GAAX,CAAeyE,MAAf,GAAwB,CAAjI,EAAoI;AAClIF,gBAAAA,KAAK;AACL,qBAAKzH,QAAL,CAAc;AAAEoH,kBAAAA,MAAM,EAAE;AAAV,iBAAd;AACD,eAHD,MAGO;AACL,qBAAKpH,QAAL,CAAc;AAAEoH,kBAAAA,MAAM,EAAE;AAAV,iBAAd;AACD;;AAED,kBAAII,YAAY,CAACE,IAAb,CAAkB,KAAKrH,KAAL,CAAW6B,SAA7B,MAA4C,KAA5C,IAAqD,KAAK7B,KAAL,CAAW6B,SAAX,IAAwB,EAAjF,EAAqF;AACnFuF,gBAAAA,KAAK;AACL,qBAAKzH,QAAL,CAAc;AAAEkH,kBAAAA,YAAY,EAAE;AAAhB,iBAAd;AACD,eAHD,MAGO;AACL,qBAAKlH,QAAL,CAAc;AAAEkH,kBAAAA,YAAY,EAAE;AAAhB,iBAAd;AACD;;AACD,kBAAIM,YAAY,CAACE,IAAb,CAAkB,KAAKrH,KAAL,CAAW8B,QAA7B,MAA2C,KAA3C,IAAoD,KAAK9B,KAAL,CAAW8B,QAAX,IAAuB,EAA/E,EAAmF;AACjFsF,gBAAAA,KAAK;AACL,qBAAKzH,QAAL,CAAc;AAAEiH,kBAAAA,WAAW,EAAE;AAAf,iBAAd;AACD,eAHD,MAGO;AACL,qBAAKjH,QAAL,CAAc;AAAEiH,kBAAAA,WAAW,EAAE;AAAf,iBAAd;AACD;;AAQD,kBAAIO,YAAY,CAACE,IAAb,CAAkB,KAAKrH,KAAL,CAAW8C,IAA7B,MAAuC,KAAvC,IAAgD,KAAK9C,KAAL,CAAW8C,IAAX,IAAmB,EAAvE,EAA2E;AACzEsE,gBAAAA,KAAK;AACL,qBAAKzH,QAAL,CAAc;AAAEqH,kBAAAA,QAAQ,EAAE;AAAZ,iBAAd;AACD,eAHD,MAGO;AACL,qBAAKrH,QAAL,CAAc;AAAEqH,kBAAAA,QAAQ,EAAE;AAAZ,iBAAd;AACD;;iDAEMI,K;;;;;;;;;;;6BA4IA;AAAA;;AACPzG,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACA,aACE,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAEE,MAAM,CAAC0G,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE1G,MAAM,CAAC2G,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKzH,KAAL,CAAWJ,SAAX,IAAwB,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEkB,MAAM,CAAC4G,iBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACvB,oBAAC,iBAAD;AAAmB,QAAA,IAAI,EAAC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADuB,CAD3B,EAKE,oBAAC,IAAD;AAAM,QAAA,cAAc,EAAE5G,MAAM,CAAC6G,aAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAK9G,YAAL,EADH,CALF,EAWE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEC,MAAM,CAAC8G,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE9G,MAAM,CAAC+G,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAEG,KAAK7H,KAAL,CAAWqC,YAAX,KAA4B,IAA5B,IAAoC,oBAAC,KAAD;AACnC,QAAA,YAAY,EAAE,sBAACyF,IAAD;AAAA,iBAAU,MAAI,CAACnI,QAAL,CAAc;AAAEkC,YAAAA,SAAS,EAAEiG;AAAb,WAAd,CAAV;AAAA,SADqB;AAEnC,QAAA,KAAK,EAAE,KAAK9H,KAAL,CAAW6B,SAFiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFvC,EAOG,KAAK7B,KAAL,CAAWqC,YAAX,KAA4B,KAA5B,IACC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEvB,MAAM,CAACiH,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiC,KAAK/H,KAAL,CAAW6B,SAA5C,CARJ,CAHF,EAcE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEf,MAAM,CAAC+G,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEG,KAAK7H,KAAL,CAAWqC,YAAX,KAA4B,IAA5B,IAAoC,oBAAC,KAAD;AAEnC,QAAA,YAAY,EAAE,sBAACyF,IAAD;AAAA,iBAAU,MAAI,CAACnI,QAAL,CAAc;AAAEmC,YAAAA,QAAQ,EAAEgG;AAAZ,WAAd,CAAV;AAAA,SAFqB;AAGnC,QAAA,KAAK,EAAE,KAAK9H,KAAL,CAAW8B,QAHiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFvC,EAQG,KAAK9B,KAAL,CAAWqC,YAAX,KAA4B,KAA5B,IACC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEvB,MAAM,CAACiH,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiC,KAAK/H,KAAL,CAAW8B,QAA5C,CATJ,CAdF,EA8BE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEhB,MAAM,CAAC+G,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEG,KAAK7H,KAAL,CAAWqC,YAAX,KAA4B,IAA5B,IAAoC,oBAAC,KAAD;AACrC,QAAA,YAAY,EAAE,KAAKrC,KAAL,CAAWgH,QADY;AAEnC,QAAA,YAAY,EAAE,sBAACc,IAAD;AAAA,iBAAU,MAAI,CAACnI,QAAL,CAAc;AAAEmD,YAAAA,IAAI,EAAEgF;AAAR,WAAd,CAAV;AAAA,SAFqB;AAGnC,QAAA,KAAK,EAAE,KAAK9H,KAAL,CAAW8C,IAHiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFvC,EAQG,KAAK9C,KAAL,CAAWqC,YAAX,KAA4B,KAA5B,IACC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEvB,MAAM,CAACiH,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiC,KAAK/H,KAAL,CAAW8C,IAA5C,CATJ,CA9BF,EA0CE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEhC,MAAM,CAAC+G,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEG,KAAK7H,KAAL,CAAWqC,YAAX,KAA4B,IAA5B,IAAoC,oBAAC,KAAD;AACrC,QAAA,YAAY,EAAE,KAAKrC,KAAL,CAAW8G,UADY;AAEnC,QAAA,YAAY,EAAE,sBAACgB,IAAD;AAAA,iBAAU,MAAI,CAACnI,QAAL,CAAc;AAAEiD,YAAAA,OAAO,EAAEkF;AAAX,WAAd,CAAV;AAAA,SAFqB;AAGnC,QAAA,KAAK,EAAE,KAAK9H,KAAL,CAAW4C,OAHiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFvC,EAQG,KAAK5C,KAAL,CAAWqC,YAAX,KAA4B,KAA5B,IACC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEvB,MAAM,CAACiH,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiC,KAAK/H,KAAL,CAAW4C,OAA5C,CATJ,CA1CF,EAsDE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE9B,MAAM,CAAC+G,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEG,KAAK7H,KAAL,CAAWqC,YAAX,KAA4B,IAA5B,IAAoC,oBAAC,KAAD;AACnC,QAAA,YAAY,EAAE,KAAKrC,KAAL,CAAW+G,MADU;AAEnC,QAAA,YAAY,EAAE,sBAACe,IAAD;AAAA,iBAAU,MAAI,CAACnI,QAAL,CAAc;AAAEkD,YAAAA,GAAG,EAAEiF;AAAP,WAAd,CAAV;AAAA,SAFqB;AAGnC,QAAA,KAAK,EAAE,KAAK9H,KAAL,CAAW6C,GAHiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFvC,EAQG,KAAK7C,KAAL,CAAWqC,YAAX,KAA4B,KAA5B,IACC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEvB,MAAM,CAACiH,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiC,KAAK/H,KAAL,CAAW6C,GAA5C,CATJ,CAtDF,EAqEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE/B,MAAM,CAAC+G,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEG,KAAK7H,KAAL,CAAWqC,YAAX,KAA4B,IAA5B,IAAoC,oBAAC,KAAD;AACpC,QAAA,YAAY,EAAE,SADsB;AAEnC,QAAA,YAAY,EAAE,sBAACyF,IAAD;AAAA,iBAAU,MAAI,CAACnI,QAAL,CAAc;AAAEgD,YAAAA,KAAK,EAAEmF;AAAT,WAAd,CAAV;AAAA,SAFqB;AAGnC,QAAA,KAAK,EAAE,KAAK9H,KAAL,CAAW2C,KAHiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFvC,EAQG,KAAK3C,KAAL,CAAWqC,YAAX,KAA4B,KAA5B,IACC,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEvB,MAAM,CAACiH,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAiC,KAAK/H,KAAL,CAAW2C,KAA5C,CATJ,CArEF,CAXF,CADF,CADF;AAsGD;;;;EAtckBzE,S;;AAwcrB,IAAM4C,MAAM,GAAGkH,UAAU,CAACC,MAAX,CAAkB;AAC/BL,EAAAA,aAAa,EAAE;AACbM,IAAAA,OAAO,EAAE;AADI,GADgB;AAI/BL,EAAAA,SAAS,EAAE;AACTM,IAAAA,UAAU,EAAE,MADH;AAETC,IAAAA,QAAQ,EAAE;AAFD,GAJoB;AAQ/BL,EAAAA,UAAU,EAAE;AACVM,IAAAA,KAAK,EAAE;AADG,GARmB;AAW/BrG,EAAAA,SAAS,EAAE;AACTsG,IAAAA,QAAQ,EAAE,UADD;AAETC,IAAAA,GAAG,EAAE,CAAC,EAFG;AAGTC,IAAAA,MAAM,EAAE;AAHC,GAXoB;AAgB/BC,EAAAA,UAAU,EAAE;AACVvG,IAAAA,eAAe,EAAE,OADP;AAEVgG,IAAAA,OAAO,EAAE,EAFC;AAGVQ,IAAAA,MAAM,EAAE,EAHE;AAIVC,IAAAA,WAAW,EAAE,MAJH;AAKVC,IAAAA,YAAY,EAAE;AACZC,MAAAA,KAAK,EAAE,CADK;AAEZC,MAAAA,MAAM,EAAE;AAFI,KALJ;AASVC,IAAAA,aAAa,EAAE,IATL;AAUVC,IAAAA,YAAY,EAAE,IAVJ;AAWVC,IAAAA,SAAS,EAAE;AAXD,GAhBmB;AA6B/BtB,EAAAA,aAAa,EAAE;AACbzF,IAAAA,eAAe,EAAE,MADJ;AAEbgH,IAAAA,WAAW,EAAE,CAFA;AAGbC,IAAAA,IAAI,EAAE,CAHO;AAIbT,IAAAA,MAAM,EAAE,CAJK;AAKbR,IAAAA,OAAO,EAAE;AALI,GA7BgB;AAoC/BT,EAAAA,SAAS,EAAE;AACT0B,IAAAA,IAAI,EAAE;AADG,GApCoB;AAuC/BC,EAAAA,cAAc,EAAE;AACdlH,IAAAA,eAAe,EAAE,MADH;AAEdiH,IAAAA,IAAI,EAAE,CAFQ;AAGdE,IAAAA,UAAU,EAAE;AAHE,GAvCe;AA4C/BhI,EAAAA,qBAAqB,EAAE;AACrBiI,IAAAA,aAAa,EAAE,EADM;AAErBD,IAAAA,UAAU,EAAE;AAFS,GA5CQ;AAgD/BtI,EAAAA,eAAe,EAAE,EAhDc;AAiD/BQ,EAAAA,YAAY;AACVW,IAAAA,eAAe,EAAE;AADP,KAEPlB,QAAQ,CAACuI,MAAT,CAAgB;AACjBC,IAAAA,GAAG,EAAE;AACHC,MAAAA,UAAU,EAAE,QADT;AAEHR,MAAAA,SAAS,EAAE,CAFR;AAGHS,MAAAA,SAAS,EAAE,CAAC;AAHT,KADY;AAMjBC,IAAAA,OAAO,EAAE;AACPF,MAAAA,UAAU,EAAE;AADL;AANQ,GAAhB,CAFO,CAjDmB;AA8D/BG,EAAAA,SAAS,EAAE;AACTvB,IAAAA,KAAK,EAAE,OADE;AAETD,IAAAA,QAAQ,EAAE;AAFD,GA9DoB;AAkE/BZ,EAAAA,MAAM,EAAE;AACNtF,IAAAA,eAAe,EAAE;AADX,GAlEuB;AAqE/B2H,EAAAA,YAAY,EAAE;AACZ3H,IAAAA,eAAe,EAAE,MADL;AAEZiH,IAAAA,IAAI,EAAE,CAFM;AAGZE,IAAAA,UAAU,EAAE;AAHA,GArEiB;AA0E/BtH,EAAAA,cAAc,EAAE;AACd0H,IAAAA,UAAU,EAAE,QADE;AAEdK,IAAAA,aAAa,EAAE;AAFD,GA1Ee;AA8E/BC,EAAAA,WAAW,EAAE;AACX7H,IAAAA,eAAe,EAAE;AADN,GA9EkB;AAiF/B8H,EAAAA,YAAY,EAAE;AACZ3B,IAAAA,KAAK,EAAE,SADK;AAEZD,IAAAA,QAAQ,EAAE,EAFE;AAGZD,IAAAA,UAAU,EAAE,KAHA;AAIZ8B,IAAAA,SAAS,EAAE;AAJC,GAjFiB;AAuF/BzI,EAAAA,SAAS,EAAE;AACT0I,IAAAA,WAAW,EAAE,SADJ;AAETC,IAAAA,YAAY,EAAE,EAFL;AAGTjB,IAAAA,WAAW,EAAE,CAHJ;AAITJ,IAAAA,MAAM,EAAE,GAJC;AAKTsB,IAAAA,YAAY,EAAE,EALL;AAMTvB,IAAAA,KAAK,EAAE;AANE,GAvFoB;AA+F/BpH,EAAAA,YAAY,EAAE;AACZ4G,IAAAA,KAAK,EAAE,MADK;AAEZD,IAAAA,QAAQ,EAAE,EAFE;AAGZD,IAAAA,UAAU,EAAE,MAHA;AAIZmB,IAAAA,aAAa,EAAE,CAJH;AAKZW,IAAAA,SAAS,EAAE;AALC,GA/FiB;AAsG/BvC,EAAAA,iBAAiB,EAAE;AACjBY,IAAAA,QAAQ,EAAE,UADO;AAEjBE,IAAAA,MAAM,EAAE,EAFS;AAGjB6B,IAAAA,IAAI,EAAE,CAHW;AAIjBC,IAAAA,KAAK,EAAE,CAJU;AAKjB/B,IAAAA,GAAG,EAAE,GALY;AAMjBgC,IAAAA,MAAM,EAAE,CANS;AAOjBd,IAAAA,UAAU,EAAE,QAPK;AAQjBe,IAAAA,cAAc,EAAE;AARC;AAtGY,CAAlB,CAAf;;AAkHA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AACjC,SAAO;AACLhI,IAAAA,IAAI,EAAEgI,KAAK,CAAChI,IADP;AAELiI,IAAAA,OAAO,EAAED,KAAK,CAACC,OAFV;AAGLjJ,IAAAA,MAAM,EAAEgJ,KAAK,CAAChJ;AAHT,GAAP;AAKD,CAND;;AAQA,IAAMkJ,kBAAkB,GAAG;AACzBlM,EAAAA,aAAa,EAAbA,aADyB;AAEzBC,EAAAA,cAAc,EAAdA,cAFyB;AAGzBE,EAAAA,aAAa,EAAbA,aAHyB;AAIzBD,EAAAA,gBAAgB,EAAhBA;AAJyB,CAA3B;AAMA,eAAeH,OAAO,CAACgM,eAAD,EAAkBG,kBAAlB,CAAP,CAA6CrL,MAA7C,CAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport { Card, Icon, Input } from 'react-native-elements'\r\nimport {\r\n  Image,\r\n  ImageBackground,\r\n  Linking,\r\n  ListView,\r\n  Platform,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  ActivityIndicator\r\n} from 'react-native'\r\nimport PropTypes from 'prop-types'\r\nimport { FlatList, TouchableOpacity } from 'react-native-gesture-handler'\r\nimport { connect } from 'react-redux'\r\nimport { deleteContact, modifyUserInfo, setIndexSelected, setSecondInfo } from '../../Action';\r\nimport { Avatar } from 'react-native-elements';\r\nimport TopMenu from \"../../component/Menu/TopMenu\"\r\nimport * as firebase from 'firebase';\r\nimport firestore from 'firebase/firestore'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome'\r\nimport { faEdit } from '@fortawesome/free-solid-svg-icons'\r\nimport * as Permissions from 'expo-permissions'\r\nimport * as ImagePicker from 'expo-image-picker'\r\n\r\nconst DEFAUTL_USER = \"https://www.nehome-groupe.fr/wp-content/uploads/2015/09/image-de-profil-2.jpg\"\r\nclass Switch extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      isSelectedProfile: false,\r\n      photoUri: \"\", id: this.props.second.second_users[this.props.second.indexSelected].id,\r\n\r\n      firstName: this.props.second.second_users[this.props.second.indexSelected].firstName,\r\n      lastName: this.props.second.second_users[this.props.second.indexSelected].lastName,\r\n      phone: this.props.second.second_users[this.props.second.indexSelected].phone,\r\n      address: this.props.second.second_users[this.props.second.indexSelected].address,\r\n      zip: this.props.second.second_users[this.props.second.indexSelected].zip,\r\n      city: this.props.second.second_users[this.props.second.indexSelected].city,\r\n      id: this.props.second.second_users[this.props.second.indexSelected].id,\r\n\r\n      rollGranted: true,\r\n      cameraGranted: false,\r\n      uri_doc: null,\r\n      base64Img: null,\r\n      photoUri: \"\",\r\n\r\n      errLastName: \"\",\r\n      errFirstName: \"\",\r\n      errAddress: \"\",\r\n      errZip: \"\",\r\n      errVille: \"\",\r\n      errPhone: \"\",\r\n\r\n      isLoading: false,\r\n\r\n      isModifbegin: false\r\n\r\n    }\r\n    this.ref = firebase.firestore().collection('profile');\r\n\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    await this.getCameraPermissions()\r\n    this.setState({ isLoading: true })\r\n    await this.fetchImage()\r\n    this.setState({ isLoading: false })\r\n  }\r\n\r\n  fetchImage = async () => {\r\n    await firebase.firestore().collection('profile')\r\n      .where(\"idUser\", \"==\", this.state.id)\r\n      .get()\r\n      .then(querySnapshot => {\r\n        querySnapshot.forEach(doc => {\r\n          this.setState({\r\n            photoUri: doc.data().photoUri\r\n          })\r\n\r\n        })\r\n\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n\r\n\r\n  renderHeader = () => {\r\n    console.log(\"this.state.photoUri\")\r\n    console.log(this.state.photoUri)\r\n    return (\r\n      <View style={styles.headerContainer}>\r\n        <View style={Platform.OS === 'ios' ? styles.under_ios : styles.under}>\r\n          <TopMenu navigation={this.props.navigation} />\r\n        </View>\r\n\r\n        <ImageBackground\r\n          style={styles.headerBackgroundImage}\r\n          blurRadius={10}\r\n          source={{ uri: this.state.photoUri == \"\" ? DEFAUTL_USER : this.state.photoUri }}\r\n        >\r\n          <View style={styles.headerColumn}>\r\n\r\n            <Image\r\n              style={styles.userImage}\r\n              source={{ uri: this.state.photoUri == \"\" ? DEFAUTL_USER : this.state.photoUri }}\r\n            />\r\n            <Text style={styles.userNameText}>{this.props.second.second_users[this.props.second.indexSelected].firstName} {this.props.second.second_users[this.props.second.indexSelected].lastName} </Text>\r\n            <View style={styles.userAddressRow}>\r\n              <View style={styles.actionBtn}>\r\n                <TouchableOpacity onPress={() => this.props.navigation.navigat(\"MySante\")}>\r\n                  <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'share', type: 'font-awesome' }} />\r\n                </TouchableOpacity>\r\n              </View>\r\n              {this.state.isModifbegin === false &&\r\n                <View style={styles.actionBtn}>\r\n                  <TouchableOpacity onPress={() => this.setState({ isModifbegin: !this.state.isModifbegin })}>\r\n                    <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'pencil', type: 'font-awesome' }} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n              }\r\n              {this.state.isModifbegin === true &&\r\n                <View style={styles.actionBtn}>\r\n                  <TouchableOpacity onPress={() => {\r\n                    if (this.props.second.indexSelected === 0) {\r\n                      this.modifInfoPerso()\r\n\r\n                    } else {\r\n                      this.modifySecondInfoPerso()\r\n\r\n                    }\r\n                  }}>\r\n                    <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'save', type: 'font-awesome' }} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n              }\r\n              <View style={styles.actionBtn}>\r\n                <TouchableOpacity onPress={() =>this._pickImage() }>\r\n                  <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'camera', type: 'font-awesome' }} />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </ImageBackground>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  modifInfoPerso = async () => {\r\n    this.setState({ isLoading: true })\r\n    let userModified = {\r\n      firstName: this.props.user.user.data.user[0].firstName,\r\n      lastName: this.props.user.user.data.user[0].lastName,\r\n      phone: this.props.user.user.data.user[0].phone,\r\n      address: this.props.user.user.data.user[0].address,\r\n      zip: this.props.user.user.data.user[0].zip,\r\n      city: this.props.user.user.data.user[0].city,\r\n      blood: this.props.user.user.data.user[0].blood,\r\n      size: this.props.user.user.data.user[0].size,\r\n      weight: this.props.user.user.data.user[0].weight,\r\n      donate: this.props.user.user.data.user[0].donate,\r\n      secu: this.props.user.user.data.user[0].secu,\r\n      user_id: this.props.user.user.data.user[0].id\r\n    }\r\n\r\n\r\n\r\n    userModified.firstName = this.state.firstName\r\n    userModified.lastName = this.state.lastName\r\n    userModified.phone = this.state.phone\r\n    userModified.address = this.state.address\r\n    userModified.city = this.state.city\r\n    userModified.zip = this.state.zip\r\n\r\n    let errorCount = await this.validationInfo(userModified)\r\n    console.log(errorCount)\r\n\r\n    if (errorCount == 0) {\r\n      console.log(\"ato\")\r\n      this.props.modifyUserInfo(userModified)\r\n      this.setState({isModifbegin : false})\r\n    }\r\n    this.setState({ isLoading: false})\r\n  }\r\n\r\n\r\n  async validationInfo(data) {\r\n\r\n    var numberPattern = /^[0-9]+$/\r\n    var alphaPattern = /^([a-zA-Z0-9 _-]+)$/\r\n    let count = 0\r\n\r\n    if (numberPattern.test(data.phone) === false || data.phone.length < 8 || data.phone.length > 12 || isNaN(data.phone)) {\r\n      count++\r\n      this.setState({ errPhone: \"Vous devez entrer un numéro de téléphone valide\" })\r\n    } else {\r\n      this.setState({ errPhone: null })\r\n    }\r\n\r\n    if (numberPattern.test(this.state.zip) === false || this.state.zip == \"\" || this.state.zip.length < 3 || this.state.zip.length > 6) {\r\n      count++\r\n      this.setState({ errZip: \"Vous devez entrer un code postal valide\" })\r\n    } else {\r\n      this.setState({ errZip: null })\r\n    }\r\n\r\n    if (alphaPattern.test(this.state.firstName) === false || this.state.firstName == \"\") {\r\n      count++\r\n      this.setState({ errFirstName: \"Vous devez entrer un prénom valide\" })\r\n    } else {\r\n      this.setState({ errFirstName: null })\r\n    }\r\n    if (alphaPattern.test(this.state.lastName) === false || this.state.lastName == \"\") {\r\n      count++\r\n      this.setState({ errLastName: \"Vous devez entrer un nom valide\" })\r\n    } else {\r\n      this.setState({ errLastName: null })\r\n    }\r\n    /* if (alphaPattern.test(this.state.address) === false || this.state.address == \"\") {\r\n      count++\r\n      this.setState({ errAddress: \"Vous devez entrer une adresse valide\" })\r\n    } else {\r\n      this.setState({ errAddress: null })\r\n    } */\r\n    \r\n    if (alphaPattern.test(this.state.city) === false || this.state.city == \"\") {\r\n      count++\r\n      this.setState({ errVille: \"Vous devez entrer un nom de ville valide\" })\r\n    } else {\r\n      this.setState({ errVille: null })\r\n    }\r\n\r\n    return count\r\n  }\r\n\r\n\r\n  modifySecondInfoPerso = async () => {\r\n    this.setState({ isLoading: true })\r\n    let userModified = {\r\n      firstName: this.props.second.second_users[this.props.second.indexSelected].firstName,\r\n      lastName: this.props.second.second_users[this.props.second.indexSelected].lastName,\r\n      phone: this.props.second.second_users[this.props.second.indexSelected].phone,\r\n      address: this.props.second.second_users[this.props.second.indexSelected].address,\r\n      zip: this.props.second.second_users[this.props.second.indexSelected].zip,\r\n      city: this.props.second.second_users[this.props.second.indexSelected].city,\r\n      blood: this.props.second.second_users[this.props.second.indexSelected].blood,\r\n      size: this.props.second.second_users[this.props.second.indexSelected].size,\r\n      weight: this.props.second.second_users[this.props.second.indexSelected].weight,\r\n      donate: this.props.second.second_users[this.props.second.indexSelected].donate,\r\n      secu: this.props.second.second_users[this.props.second.indexSelected].secu,\r\n      id: this.props.second.second_users[this.props.second.indexSelected].id\r\n    }\r\n\r\n    userModified.firstName = this.state.firstName\r\n    userModified.lastName = this.state.lastName\r\n    userModified.phone = this.state.phone\r\n    userModified.address = this.state.address\r\n    userModified.city = this.state.city\r\n    userModified.zip = this.state.zip\r\n\r\n    let errorCount = await this.validationInfo(userModified)\r\n\r\n    if (errorCount == 0) {\r\n\r\n      axios.post(Bdd.api_url + '/api/second_user/update', userModified)\r\n        .then((response) => {\r\n\r\n          if (response.data.status === 200) {\r\n\r\n            AsyncStorage.getItem('bosToken')\r\n              .then((token) => {\r\n                let user_id = this.props.user.user.data.user[0].id\r\n                this.props.setSecondInfo(token, user_id)\r\n                this.setState({isLoading : false})\r\n              })\r\n          }\r\n        })\r\n    }\r\n\r\n\r\n    this.setState({ isLoading: false})\r\n  }\r\n\r\n  getCameraPermissions = async () => {\r\n\r\n    let { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\r\n    if (status !== 'granted') {\r\n      Alert(\"permission not granteed\")\r\n      this.setState({\r\n        rollGranted: false,\r\n        cameraGranted: false,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        rollGranted: true,\r\n        cameraGranted: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  _pickImage = async () => {\r\n   \r\n    let result = await ImagePicker.launchImageLibraryAsync({\r\n      allowsEditing : true,\r\n      base64: true\r\n    });\r\n    console.log(\"ok\")\r\n\r\n    \r\n\r\n    this._handleImagePicked(result);\r\n\r\n  }\r\n  _handleImagePicked = async pickerResult => {\r\n    let uploadUrl =\"\"\r\n    try {\r\n      this.setState({ isLoading: true });\r\n\r\n      if (!pickerResult.cancelled) {\r\n        uploadUrl = await this.uploadImageAsync(pickerResult.uri);\r\n        console.log(uploadUrl)\r\n        await this.saveProfileImageInfo(this.state.id, uploadUrl)\r\n        \r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n      alert('Upload failed, sorry :(');\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n      /* this.props.navigation.navigate(\"MonProfil\") */\r\n      this.setState({photoUri : uploadUrl})\r\n    }\r\n  }\r\n  saveProfileImageInfo = async (id,uri) => {\r\n\r\n   await firebase.firestore().collection('profile').add({\r\n      idUser : id,\r\n      photoUri : uri\r\n    })\r\n  }\r\n  uploadImageAsync = async (uri)  =>{\r\n    // Why are we using XMLHttpRequest? See:\r\n    // https://github.com/expo/expo/issues/2402#issuecomment-443726662\r\n    const blob = await new Promise((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.onload = function() {\r\n        resolve(xhr.response);\r\n      };\r\n      xhr.onerror = function(e) {\r\n        console.log(e);\r\n        reject(new TypeError('Network request failed'));\r\n      };\r\n      xhr.responseType = 'blob';\r\n      xhr.open('GET', uri, true);\r\n      xhr.send(null);\r\n    });\r\n    const id = Math.random().toString()\r\n    const ref = firebase\r\n      .storage()\r\n      .ref()\r\n      .child(id);\r\n    const snapshot = await ref.put(blob);\r\n  \r\n    // We're done with the blob, close and release it\r\n    blob.close();\r\n  \r\n    return await snapshot.ref.getDownloadURL();\r\n  }\r\n\r\n\r\n\r\n\r\n  render() {\r\n    console.log(\"render\")\r\n    return (\r\n      <ScrollView style={styles.scroll}>\r\n        <View style={styles.container}>\r\n          {this.state.isLoading && <View style={styles.loading_container}>\r\n            <ActivityIndicator size=\"large\" />\r\n          </View>}\r\n\r\n          <Card containerStyle={styles.cardContainer}>\r\n            {this.renderHeader()}\r\n          </Card>\r\n\r\n\r\n\r\n          <View style={styles.infoContainer}>\r\n\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Prénom</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n                onChangeText={(text) => this.setState({ firstName: text })}\r\n                value={this.state.firstName}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.firstName}</Text>\r\n              }\r\n            </View>\r\n            <View>\r\n              <Text style={styles.labelText}>Nom</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n\r\n                onChangeText={(text) => this.setState({ lastName: text })}\r\n                value={this.state.lastName}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.lastName}</Text>\r\n              }\r\n            </View>\r\n\r\n\r\n\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Ville</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n              errorMessage={this.state.errVille}\r\n                onChangeText={(text) => this.setState({ city: text })}\r\n                value={this.state.city}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.city}</Text>\r\n              }\r\n            </View>\r\n            <View>\r\n              <Text style={styles.labelText}>Adresse</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n              errorMessage={this.state.errAddress}\r\n                onChangeText={(text) => this.setState({ address: text })}\r\n                value={this.state.address}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.address}</Text>\r\n              }\r\n            </View>\r\n            <View>\r\n              <Text style={styles.labelText}>Code postale</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n                errorMessage={this.state.errZip}\r\n                onChangeText={(text) => this.setState({ zip: text })}\r\n                value={this.state.zip}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.zip}</Text>\r\n              }\r\n            </View>\r\n\r\n\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Téléphone</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n               keyboardType={\"numeric\"}\r\n                onChangeText={(text) => this.setState({ phone: text })}\r\n                value={this.state.phone}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.phone}</Text>\r\n              }\r\n            </View>\r\n\r\n          </View>\r\n\r\n\r\n\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\nconst styles = StyleSheet.create({\r\n  infoContainer: {\r\n    padding: 20\r\n  },\r\n  labelText: {\r\n    fontWeight: \"bold\",\r\n    fontSize: 16\r\n  },\r\n  labelValue: {\r\n    color: \"gray\"\r\n  },\r\n  actionBtn: {\r\n    position: \"relative\",\r\n    top: -10,\r\n    zIndex: 99999\r\n  },\r\n  choiceItem: {\r\n    backgroundColor: \"white\",\r\n    padding: 10,\r\n    margin: 10,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5\r\n  },\r\n  cardContainer: {\r\n    backgroundColor: '#FFF',\r\n    borderWidth: 0,\r\n    flex: 1,\r\n    margin: 0,\r\n    padding: 0,\r\n  },\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  emailContainer: {\r\n    backgroundColor: '#FFF',\r\n    flex: 1,\r\n    paddingTop: 30,\r\n  },\r\n  headerBackgroundImage: {\r\n    paddingBottom: 20,\r\n    paddingTop: 35,\r\n  },\r\n  headerContainer: {},\r\n  headerColumn: {\r\n    backgroundColor: 'transparent',\r\n    ...Platform.select({\r\n      ios: {\r\n        alignItems: 'center',\r\n        elevation: 1,\r\n        marginTop: -1,\r\n      },\r\n      android: {\r\n        alignItems: 'center',\r\n      },\r\n    }),\r\n  },\r\n  placeIcon: {\r\n    color: 'white',\r\n    fontSize: 26,\r\n  },\r\n  scroll: {\r\n    backgroundColor: '#FFF',\r\n  },\r\n  telContainer: {\r\n    backgroundColor: '#FFF',\r\n    flex: 1,\r\n    paddingTop: 30,\r\n  },\r\n  userAddressRow: {\r\n    alignItems: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  userCityRow: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  userCityText: {\r\n    color: '#A5A5A5',\r\n    fontSize: 15,\r\n    fontWeight: '600',\r\n    textAlign: 'center',\r\n  },\r\n  userImage: {\r\n    borderColor: \"#01C89E\",\r\n    borderRadius: 85,\r\n    borderWidth: 3,\r\n    height: 170,\r\n    marginBottom: 15,\r\n    width: 170,\r\n  },\r\n  userNameText: {\r\n    color: '#FFF',\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n    paddingBottom: 8,\r\n    textAlign: 'center',\r\n  },\r\n  loading_container: {\r\n    position: 'absolute',\r\n    zIndex: 10,\r\n    left: 0,\r\n    right: 0,\r\n    top: 100,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n})\r\n\r\nconst mapStateToProps = (store) => {\r\n  return {\r\n    user: store.user,\r\n    contact: store.contact,\r\n    second: store.second\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  deleteContact,\r\n  modifyUserInfo,\r\n  setSecondInfo,\r\n  setIndexSelected\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Switch)"]},"metadata":{},"sourceType":"module"}