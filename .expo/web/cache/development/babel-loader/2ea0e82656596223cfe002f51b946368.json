{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Projets\\\\Acadys\\\\best4sante\\\\SanteV2\\\\assets\\\\component\\\\ActiveAccount.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport axios from 'axios';\nimport Bdd from \"../API/Bdd\";\nimport { userConnected } from \"../Action\";\nimport { connect } from 'react-redux';\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\n\nvar ActiveAccount = function (_React$Component) {\n  _inherits(ActiveAccount, _React$Component);\n\n  var _super = _createSuper(ActiveAccount);\n\n  function ActiveAccount() {\n    var _this;\n\n    _classCallCheck(this, ActiveAccount);\n\n    _this = _super.call(this);\n\n    _this.resendCode = function _callee() {\n      var email;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              email = _this.props.navigation.state.params.tempEmail;\n              console.log(email);\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(axios.post(Bdd.api_url + \"/resend/\" + email).then(function (res) {\n                console.log(res);\n              }).catch(function (error) {\n                return console.log('erreur resend code ', error);\n              }));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.validate = function _callee3() {\n      var email, code;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _this.setState({\n                invalidLength: null\n              });\n\n              email = _this.props.navigation.state.params.tempEmail;\n              code = _this.code;\n              _context3.next = 5;\n              return _regeneratorRuntime.awrap(axios.get(Bdd.api_url + \"/confirmation/\" + email + \"/\" + code).then(function _callee2(res) {\n                return _regeneratorRuntime.async(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        if (!(res.data.message === \"wrong code\")) {\n                          _context2.next = 4;\n                          break;\n                        }\n\n                        _this.setState({\n                          error: \"Code erroné, essayez de nouveau\"\n                        });\n\n                        _context2.next = 8;\n                        break;\n\n                      case 4:\n                        _this.props.userConnected(res.data.connectUser);\n\n                        _context2.next = 7;\n                        return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"bosToken\", res.data.token));\n\n                      case 7:\n                        _this.props.navigation.navigate(\"Menu\");\n\n                      case 8:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              }));\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      error: null\n    };\n    _this.code = \"\";\n    return _this;\n  }\n\n  _createClass(ActiveAccount, [{\n    key: \"navigateLogin\",\n    value: function navigateLogin() {\n      this.props.navigation.navigate(\"Login\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(ScrollView, {\n        style: styles.main_contenair,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.main_logo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        style: styles.image,\n        source: require(\"../images/Splash(FondBlanc).png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }), React.createElement(Text, {\n        style: styles.text_Logo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }, \"Best4Sant\\xE9\")), React.createElement(View, {\n        style: styles.main_InContenair,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.text_inscription,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }\n      }, \"Merci pour votre inscription.\"), React.createElement(Text, {\n        style: styles.text_titreInactif,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      }, \"Vous avez re\\xE7u un code de confirmation dans votre bo\\xEEte mail.\", \"\\n\", \"Nous vous souhaitons le BEST pour votre sant\\xE9\"), React.createElement(TextInput, {\n        placeholder: \"code\",\n        keyboardType: \"numeric\",\n        style: styles.Input,\n        onChangeText: function onChangeText(text) {\n          return _this2.code = text;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: styles.Go,\n        onPress: function onPress() {\n          return _this2.validate();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          textAlign: \"center\",\n          color: \"white\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }\n      }, \"Envoyer\")), React.createElement(View, {\n        style: {\n          marginTop: 15\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          textAlign: \"center\",\n          color: \"white\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }\n      }, \"Pas de code ?\"), React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this2.resendCode();\n        },\n        style: {\n          padding: 10,\n          backgroundColor: \"#008ac8\",\n          marginTop: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          textAlign: \"center\",\n          color: \"white\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }\n      }, \"Renvoyer\")))));\n    }\n  }]);\n\n  return ActiveAccount;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  main_contenair: {\n    flex: 1,\n    backgroundColor: '#00C1BC'\n  },\n  image: {\n    width: 150,\n    height: 150,\n    alignSelf: 'center'\n  },\n  imageFacebook: {\n    width: 20,\n    height: 20,\n    marginTop: 10\n  },\n  main_logo: {\n    marginTop: 40,\n    flex: 1,\n    alignSelf: 'center'\n  },\n  text_Logo: {\n    alignSelf: 'center',\n    color: '#fff',\n    fontSize: 40,\n    fontWeight: \"bold\"\n  },\n  text_inscription: {\n    alignSelf: 'center',\n    color: '#fff',\n    fontSize: 18,\n    marginTop: 35\n  },\n  text_titreInactif: {\n    alignSelf: 'center',\n    color: '#fff',\n    fontSize: 16,\n    marginTop: 10,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    alignItems: 'center'\n  },\n  text_Inactif: {\n    alignSelf: 'center',\n    color: '#fff',\n    fontSize: 16,\n    marginTop: 35,\n    textAlign: 'center'\n  },\n  main_InContenair: {\n    flex: 3,\n    alignSelf: 'center',\n    width: 300,\n    marginTop: 5\n  },\n  Input: {\n    backgroundColor: '#fff',\n    height: 50,\n    marginTop: 20,\n    borderRadius: 5,\n    paddingLeft: 20\n  },\n  Go: {\n    backgroundColor: '#00C1BC',\n    textAlign: 'center',\n    alignContent: 'center',\n    marginTop: 20,\n    borderWidth: 0.2,\n    borderRadius: 5,\n    padding: 15,\n    fontSize: 15,\n    shadowColor: 'rgba(1, 161, 156, 1)',\n    shadowOpacity: 1.5,\n    elevation: 8,\n    shadowRadius: 20,\n    shadowOffset: {\n      width: 1,\n      height: 13\n    },\n    backgroundColor: '#00C1BC',\n    color: '#FFFFFF',\n    width: 150,\n    alignSelf: 'center'\n  },\n  medecin: {\n    height: 50,\n    textAlign: 'center',\n    alignContent: 'center',\n    marginTop: 25,\n    borderWidth: 0.2,\n    borderRadius: 5,\n    paddingTop: 5,\n    paddingBottom: 5,\n    paddingLeft: 50,\n    paddingRight: 50,\n    fontSize: 15,\n    shadowColor: 'rgba(1, 161, 156, 1)',\n    shadowOpacity: 1.5,\n    elevation: 8,\n    shadowRadius: 20,\n    shadowOffset: {\n      width: 1,\n      height: 13\n    },\n    backgroundColor: '#008ac8',\n    color: '#FFFFFF'\n  },\n  seConnecterFacebook: {\n    height: 50,\n    backgroundColor: '#00C1BC',\n    textAlign: 'center',\n    alignContent: 'center',\n    marginTop: 10,\n    borderWidth: 0.2,\n    borderRadius: 5,\n    paddingTop: 5,\n    paddingBottom: 5,\n    paddingLeft: 50,\n    paddingRight: 50,\n    fontSize: 15,\n    shadowColor: 'rgba(23, 149, 205, 0.5)',\n    shadowOpacity: 1.5,\n    elevation: 8,\n    shadowRadius: 20,\n    shadowOffset: {\n      width: 1,\n      height: 13\n    },\n    backgroundColor: '#FFF',\n    color: '#1795cd'\n  },\n  textFacebook: {\n    color: '#1795cd',\n    fontSize: 15,\n    width: 200,\n    marginTop: 10,\n    marginLeft: 10,\n    fontWeight: 'bold'\n  },\n  textGo: {\n    color: '#FFF',\n    fontSize: 15,\n    width: 200,\n    marginTop: 10,\n    textAlign: 'center',\n    fontWeight: 'bold'\n  },\n  textmedecin: {\n    color: '#FFF',\n    fontSize: 15,\n    width: 200,\n    marginTop: 10,\n    marginLeft: 50,\n    fontWeight: 'bold'\n  },\n  textLink: {\n    alignSelf: 'center',\n    marginTop: 70\n  },\n  textLinkWhite: {\n    alignSelf: 'center',\n    marginTop: 10,\n    color: '#fff'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {};\n};\n\nvar mapDispatchToProps = {\n  userConnected: userConnected\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ActiveAccount);","map":{"version":3,"sources":["E:/Projets/Acadys/best4sante/SanteV2/assets/component/ActiveAccount.js"],"names":["React","AsyncStorage","axios","Bdd","userConnected","connect","widthPercentageToDP","wp","heightPercentageToDP","hp","ActiveAccount","resendCode","email","props","navigation","state","params","tempEmail","console","log","post","api_url","then","res","catch","error","validate","setState","invalidLength","code","get","data","message","connectUser","setItem","token","navigate","styles","main_contenair","main_logo","image","require","text_Logo","main_InContenair","text_inscription","text_titreInactif","Input","text","Go","textAlign","color","marginTop","padding","backgroundColor","Component","StyleSheet","create","flex","width","height","alignSelf","imageFacebook","fontSize","fontWeight","alignItems","text_Inactif","borderRadius","paddingLeft","alignContent","borderWidth","shadowColor","shadowOpacity","elevation","shadowRadius","shadowOffset","medecin","paddingTop","paddingBottom","paddingRight","seConnecterFacebook","textFacebook","marginLeft","textGo","textmedecin","textLink","textLinkWhite","mapStateToProps","store","mapDispatchToProps"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;;;SACiFC,Y;AACjF,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP;AACA,SAASC,aAAT;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SACIC,mBAAmB,IAAIC,EAD3B,EAEIC,oBAAoB,IAAIC,EAF5B,QAGS,gCAHT;;IAIMC,a;;;;;AAEF,2BAAa;AAAA;;AAAA;;AACT;;AADS,UAQbC,UARa,GAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AACLC,cAAAA,KADK,GACG,MAAKC,KAAL,CAAWC,UAAX,CAAsBC,KAAtB,CAA4BC,MAA5B,CAAmCC,SADtC;AAETC,cAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AAFS;AAAA,+CAGFV,KAAK,CAACkB,IAAN,CAAcjB,GAAG,CAACkB,OAAlB,gBAAoCT,KAApC,EACFU,IADE,CACI,UAAAC,GAAG,EAAE;AACRL,gBAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,eAHE,EAGAC,KAHA,CAIC,UAACC,KAAD;AAAA,uBAAWP,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCM,KAAnC,CAAX;AAAA,eAJD,CAHE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KARA;;AAAA,UAmBbC,QAnBa,GAmBF;AAAA;AAAA;AAAA;AAAA;AAAA;AACP,oBAAKC,QAAL,CAAc;AAACC,gBAAAA,aAAa,EAAG;AAAjB,eAAd;;AACIhB,cAAAA,KAFG,GAEK,MAAKC,KAAL,CAAWC,UAAX,CAAsBC,KAAtB,CAA4BC,MAA5B,CAAmCC,SAFxC;AAGHY,cAAAA,IAHG,GAGI,MAAKA,IAHT;AAAA;AAAA,+CAID3B,KAAK,CAAC4B,GAAN,CAAa3B,GAAG,CAACkB,OAAjB,sBAAyCT,KAAzC,SAAkDiB,IAAlD,EACDP,IADC,CACK,kBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA,8BACAA,GAAG,CAACQ,IAAJ,CAASC,OAAT,KAAoB,YADpB;AAAA;AAAA;AAAA;;AAEC,8BAAKL,QAAL,CAAc;AAACF,0BAAAA,KAAK,EAAG;AAAT,yBAAd;;AAFD;AAAA;;AAAA;AAIC,8BAAKZ,KAAL,CAAWT,aAAX,CAAyBmB,GAAG,CAACQ,IAAJ,CAASE,WAAlC;;AAJD;AAAA,yDAKOhC,YAAY,CAACiC,OAAb,CAAqB,UAArB,EAAgCX,GAAG,CAACQ,IAAJ,CAASI,KAAzC,CALP;;AAAA;AAMC,8BAAKtB,KAAL,CAAWC,UAAX,CAAsBsB,QAAtB,CAA+B,MAA/B;;AAND;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADL,CAJC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAnBE;;AAET,UAAKrB,KAAL,GAAa;AACTU,MAAAA,KAAK,EAAG;AADC,KAAb;AAGA,UAAKI,IAAL,GAAY,EAAZ;AALS;AAMZ;;;;oCA6Be;AACZ,WAAKhB,KAAL,CAAWC,UAAX,CAAsBsB,QAAtB,CAA+B,OAA/B;AACD;;;6BACK;AAAA;;AACJ,aACI,oBAAC,UAAD;AAAa,QAAA,KAAK,EAAEC,MAAM,CAACC,cAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACE,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAEF,MAAM,CAACG,KAArB;AAA4B,QAAA,MAAM,EAAEC,OAAO,mCAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEJ,MAAM,CAACK,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFJ,CADA,EAKA,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEL,MAAM,CAACM,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEN,MAAM,CAACO,gBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCADJ,EAEI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEP,MAAM,CAACQ,iBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gFAEC,IAFD,qDAFJ,EAQI,oBAAC,SAAD;AAAW,QAAA,WAAW,EAAC,MAAvB;AAA8B,QAAA,YAAY,EAAE,SAA5C;AAAuD,QAAA,KAAK,EAAER,MAAM,CAACS,KAArE;AAA4E,QAAA,YAAY,EAAE,sBAACC,IAAD;AAAA,iBAAU,MAAI,CAAClB,IAAL,GAAYkB,IAAtB;AAAA,SAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARJ,EAUI,oBAAC,gBAAD;AAAmB,QAAA,KAAK,EAAEV,MAAM,CAACW,EAAjC;AAAqC,QAAA,OAAO,EAAE;AAAA,iBAAI,MAAI,CAACtB,QAAL,EAAJ;AAAA,SAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACuB,UAAAA,SAAS,EAAG,QAAb;AAAsBC,UAAAA,KAAK,EAAG;AAA9B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADJ,CAVJ,EAaI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACC,UAAAA,SAAS,EAAG;AAAb,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACF,UAAAA,SAAS,EAAG,QAAb;AAAsBC,UAAAA,KAAK,EAAI;AAA/B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADJ,EAII,oBAAC,gBAAD;AACI,QAAA,OAAO,EAAE;AAAA,iBAAK,MAAI,CAACvC,UAAL,EAAL;AAAA,SADb;AAEC,QAAA,KAAK,EAAE;AAACyC,UAAAA,OAAO,EAAG,EAAX;AAAeC,UAAAA,eAAe,EAAG,SAAjC;AAA4CF,UAAAA,SAAS,EAAE;AAAvD,SAFR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAACF,UAAAA,SAAS,EAAG,QAAb;AAAuBC,UAAAA,KAAK,EAAE;AAA9B,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,CAJJ,CAbJ,CALA,CADJ;AAkCH;;;;EA3EuBlD,KAAK,CAACsD,S;;AA6ElC,IAAMjB,MAAM,GAACkB,UAAU,CAACC,MAAX,CACT;AACIlB,EAAAA,cAAc,EAAC;AACXmB,IAAAA,IAAI,EAAC,CADM;AAEXJ,IAAAA,eAAe,EAAC;AAFL,GADnB;AAKIb,EAAAA,KAAK,EAAC;AACFkB,IAAAA,KAAK,EAAC,GADJ;AAEFC,IAAAA,MAAM,EAAC,GAFL;AAGFC,IAAAA,SAAS,EAAC;AAHR,GALV;AAUIC,EAAAA,aAAa,EAAC;AACVH,IAAAA,KAAK,EAAC,EADI;AAEVC,IAAAA,MAAM,EAAC,EAFG;AAGVR,IAAAA,SAAS,EAAC;AAHA,GAVlB;AAeIZ,EAAAA,SAAS,EAAC;AACNY,IAAAA,SAAS,EAAC,EADJ;AAENM,IAAAA,IAAI,EAAC,CAFC;AAGNG,IAAAA,SAAS,EAAC;AAHJ,GAfd;AAqBIlB,EAAAA,SAAS,EAAC;AACNkB,IAAAA,SAAS,EAAC,QADJ;AAENV,IAAAA,KAAK,EAAC,MAFA;AAGNY,IAAAA,QAAQ,EAAC,EAHH;AAINC,IAAAA,UAAU,EAAE;AAJN,GArBd;AA2BInB,EAAAA,gBAAgB,EAAC;AACbgB,IAAAA,SAAS,EAAC,QADG;AAEbV,IAAAA,KAAK,EAAC,MAFO;AAGbY,IAAAA,QAAQ,EAAC,EAHI;AAIbX,IAAAA,SAAS,EAAC;AAJG,GA3BrB;AAiCIN,EAAAA,iBAAiB,EAAC;AACde,IAAAA,SAAS,EAAC,QADI;AAEdV,IAAAA,KAAK,EAAC,MAFQ;AAGdY,IAAAA,QAAQ,EAAC,EAHK;AAIdX,IAAAA,SAAS,EAAE,EAJG;AAKdY,IAAAA,UAAU,EAAC,MALG;AAMdd,IAAAA,SAAS,EAAE,QANG;AAOde,IAAAA,UAAU,EAAE;AAPE,GAjCtB;AA0CIC,EAAAA,YAAY,EAAC;AACTL,IAAAA,SAAS,EAAC,QADD;AAETV,IAAAA,KAAK,EAAC,MAFG;AAGTY,IAAAA,QAAQ,EAAC,EAHA;AAITX,IAAAA,SAAS,EAAC,EAJD;AAKTF,IAAAA,SAAS,EAAC;AALD,GA1CjB;AAiDIN,EAAAA,gBAAgB,EAAC;AACbc,IAAAA,IAAI,EAAC,CADQ;AAEbG,IAAAA,SAAS,EAAC,QAFG;AAGbF,IAAAA,KAAK,EAAC,GAHO;AAIbP,IAAAA,SAAS,EAAC;AAJG,GAjDrB;AAuDIL,EAAAA,KAAK,EAAC;AACFO,IAAAA,eAAe,EAAC,MADd;AAEFM,IAAAA,MAAM,EAAC,EAFL;AAGFR,IAAAA,SAAS,EAAC,EAHR;AAIFe,IAAAA,YAAY,EAAC,CAJX;AAKFC,IAAAA,WAAW,EAAC;AALV,GAvDV;AA+DInB,EAAAA,EAAE,EAAC;AAECK,IAAAA,eAAe,EAAC,SAFjB;AAGCJ,IAAAA,SAAS,EAAC,QAHX;AAICmB,IAAAA,YAAY,EAAC,QAJd;AAKCjB,IAAAA,SAAS,EAAC,EALX;AAMCkB,IAAAA,WAAW,EAAC,GANb;AAOCH,IAAAA,YAAY,EAAC,CAPd;AAQAd,IAAAA,OAAO,EAAG,EARV;AASCU,IAAAA,QAAQ,EAAC,EATV;AAUCQ,IAAAA,WAAW,EAAE,sBAVd;AAWCC,IAAAA,aAAa,EAAE,GAXhB;AAYCC,IAAAA,SAAS,EAAE,CAZZ;AAaCC,IAAAA,YAAY,EAAE,EAbf;AAcCC,IAAAA,YAAY,EAAG;AAAEhB,MAAAA,KAAK,EAAE,CAAT;AAAYC,MAAAA,MAAM,EAAE;AAApB,KAdhB;AAeCN,IAAAA,eAAe,EAAE,SAflB;AAgBCH,IAAAA,KAAK,EAAE,SAhBR;AAiBCQ,IAAAA,KAAK,EAAC,GAjBP;AAkBCE,IAAAA,SAAS,EAAC;AAlBX,GA/DP;AAmFIe,EAAAA,OAAO,EAAC;AACJhB,IAAAA,MAAM,EAAC,EADH;AAEJV,IAAAA,SAAS,EAAC,QAFN;AAGJmB,IAAAA,YAAY,EAAC,QAHT;AAIJjB,IAAAA,SAAS,EAAC,EAJN;AAKJkB,IAAAA,WAAW,EAAC,GALR;AAMJH,IAAAA,YAAY,EAAC,CANT;AAOJU,IAAAA,UAAU,EAAE,CAPR;AAQJC,IAAAA,aAAa,EAAE,CARX;AASJV,IAAAA,WAAW,EAAE,EATT;AAUJW,IAAAA,YAAY,EAAE,EAVV;AAWJhB,IAAAA,QAAQ,EAAC,EAXL;AAYJQ,IAAAA,WAAW,EAAE,sBAZT;AAaJC,IAAAA,aAAa,EAAE,GAbX;AAcJC,IAAAA,SAAS,EAAE,CAdP;AAeJC,IAAAA,YAAY,EAAE,EAfV;AAgBJC,IAAAA,YAAY,EAAG;AAAEhB,MAAAA,KAAK,EAAE,CAAT;AAAYC,MAAAA,MAAM,EAAE;AAApB,KAhBX;AAiBJN,IAAAA,eAAe,EAAE,SAjBb;AAkBJH,IAAAA,KAAK,EAAE;AAlBH,GAnFZ;AAuGI6B,EAAAA,mBAAmB,EAAC;AAChBpB,IAAAA,MAAM,EAAC,EADS;AAEhBN,IAAAA,eAAe,EAAC,SAFA;AAGhBJ,IAAAA,SAAS,EAAC,QAHM;AAIhBmB,IAAAA,YAAY,EAAC,QAJG;AAKhBjB,IAAAA,SAAS,EAAC,EALM;AAMhBkB,IAAAA,WAAW,EAAC,GANI;AAOhBH,IAAAA,YAAY,EAAC,CAPG;AAQhBU,IAAAA,UAAU,EAAE,CARI;AAShBC,IAAAA,aAAa,EAAE,CATC;AAUhBV,IAAAA,WAAW,EAAE,EAVG;AAWhBW,IAAAA,YAAY,EAAE,EAXE;AAYhBhB,IAAAA,QAAQ,EAAC,EAZO;AAahBQ,IAAAA,WAAW,EAAE,yBAbG;AAchBC,IAAAA,aAAa,EAAE,GAdC;AAehBC,IAAAA,SAAS,EAAE,CAfK;AAgBhBC,IAAAA,YAAY,EAAE,EAhBE;AAiBhBC,IAAAA,YAAY,EAAG;AAAEhB,MAAAA,KAAK,EAAE,CAAT;AAAYC,MAAAA,MAAM,EAAE;AAApB,KAjBC;AAkBhBN,IAAAA,eAAe,EAAE,MAlBD;AAmBhBH,IAAAA,KAAK,EAAE;AAnBS,GAvGxB;AA4HI8B,EAAAA,YAAY,EAAC;AACT9B,IAAAA,KAAK,EAAE,SADE;AAETY,IAAAA,QAAQ,EAAC,EAFA;AAGTJ,IAAAA,KAAK,EAAC,GAHG;AAITP,IAAAA,SAAS,EAAC,EAJD;AAKT8B,IAAAA,UAAU,EAAC,EALF;AAMTlB,IAAAA,UAAU,EAAC;AANF,GA5HjB;AAoIImB,EAAAA,MAAM,EAAC;AACHhC,IAAAA,KAAK,EAAE,MADJ;AAEHY,IAAAA,QAAQ,EAAC,EAFN;AAGHJ,IAAAA,KAAK,EAAC,GAHH;AAIHP,IAAAA,SAAS,EAAC,EAJP;AAKHF,IAAAA,SAAS,EAAC,QALP;AAMHc,IAAAA,UAAU,EAAC;AANR,GApIX;AA4IIoB,EAAAA,WAAW,EAAC;AACRjC,IAAAA,KAAK,EAAE,MADC;AAERY,IAAAA,QAAQ,EAAC,EAFD;AAGRJ,IAAAA,KAAK,EAAC,GAHE;AAIRP,IAAAA,SAAS,EAAC,EAJF;AAKR8B,IAAAA,UAAU,EAAC,EALH;AAMRlB,IAAAA,UAAU,EAAC;AANH,GA5IhB;AAoJIqB,EAAAA,QAAQ,EAAC;AACLxB,IAAAA,SAAS,EAAC,QADL;AAELT,IAAAA,SAAS,EAAC;AAFL,GApJb;AAwJIkC,EAAAA,aAAa,EAAC;AACVzB,IAAAA,SAAS,EAAC,QADA;AAEVT,IAAAA,SAAS,EAAC,EAFA;AAGVD,IAAAA,KAAK,EAAC;AAHI;AAxJlB,CADS,CAAb;;AAiKA,IAAMoC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAC/B,SAAO,EAAP;AAGD,CAJH;;AAME,IAAMC,kBAAkB,GAAG;AACzBpF,EAAAA,aAAa,EAAbA;AADyB,CAA3B;AAIA,eAAeC,OAAO,CAACiF,eAAD,EAAiBE,kBAAjB,CAAP,CAA4C9E,aAA5C,CAAf","sourcesContent":["import React from 'react'\r\nimport {View,Text,StyleSheet,Image,TextInput, Alert,TouchableOpacity,ScrollView, AsyncStorage } from 'react-native'\r\nimport axios from 'axios'\r\nimport Bdd from \"../API/Bdd\"\r\nimport { userConnected } from \"../Action\";\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    widthPercentageToDP as wp,\r\n    heightPercentageToDP as hp,\r\n  } from 'react-native-responsive-screen'\r\nclass ActiveAccount extends React.Component{\r\n\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            error : null\r\n        }\r\n        this.code = \"\"\r\n    }\r\n\r\n    resendCode = async () =>{\r\n        let email = this.props.navigation.state.params.tempEmail\r\n        console.log(email)\r\n         await axios.post(`${Bdd.api_url}/resend/${email}`)\r\n            .then( res=>{\r\n                console.log(res)\r\n            }).catch(\r\n                (error) => console.log('erreur resend code ', error)\r\n            );\r\n    }\r\n\r\n    validate = async  () =>{\r\n        this.setState({invalidLength : null})\r\n        let email = this.props.navigation.state.params.tempEmail\r\n        let code = this.code\r\n        await axios.get(`${Bdd.api_url}/confirmation/${email}/${code}`)\r\n            .then( async res=>{\r\n                if(res.data.message ===\"wrong code\"){\r\n                    this.setState({error : \"Code erroné, essayez de nouveau\"})\r\n                }else{\r\n                    this.props.userConnected(res.data.connectUser)\r\n                    await AsyncStorage.setItem(\"bosToken\",res.data.token)\r\n                    this.props.navigation.navigate(\"Menu\")\r\n                }\r\n            })\r\n    }\r\n\r\n    navigateLogin() {\r\n        this.props.navigation.navigate(\"Login\")\r\n      }\r\n    render(){\r\n        return(\r\n            <ScrollView  style={styles.main_contenair}>\r\n            <View style={styles.main_logo}>\r\n                <Image style={styles.image} source={require('../images/Splash(FondBlanc).png')}/>\r\n                <Text style={styles.text_Logo}>Best4Santé</Text>\r\n            </View>\r\n            <View style={styles.main_InContenair} >\r\n                <Text style={styles.text_inscription}>Merci pour votre inscription.</Text>\r\n                <Text style={styles.text_titreInactif}>\r\n                Vous avez reçu un code de confirmation dans votre boîte mail.\r\n                {\"\\n\"}\r\n                Nous vous souhaitons le BEST pour votre santé\r\n                 </Text>\r\n                \r\n                <TextInput placeholder=\"code\" keyboardType={\"numeric\"} style={styles.Input} onChangeText={(text) => this.code = text} />\r\n              \r\n                <TouchableOpacity  style={styles.Go} onPress={()=>this.validate()}>\r\n                    <Text style={{textAlign : \"center\",color : \"white\"}}>Envoyer</Text>\r\n                </TouchableOpacity>\r\n                <View style={{marginTop : 15}}>\r\n                    <Text style={{textAlign : \"center\",color :  \"white\"}}>\r\n                        Pas de code ?\r\n                    </Text>\r\n                    <TouchableOpacity\r\n                        onPress={()=> this.resendCode()}\r\n                     style={{padding : 10, backgroundColor : \"#008ac8\", marginTop: 10}}>\r\n                        <Text style={{textAlign : \"center\", color :\"white\"}}>Renvoyer</Text>\r\n                    </TouchableOpacity>\r\n                </View>\r\n\r\n            </View>\r\n           \r\n        </ScrollView >\r\n        );\r\n    }\r\n}\r\nconst styles=StyleSheet.create(\r\n    {\r\n        main_contenair:{\r\n            flex:1,\r\n            backgroundColor:'#00C1BC'\r\n        },\r\n        image:{\r\n            width:150,\r\n            height:150,\r\n            alignSelf:'center'\r\n        },\r\n        imageFacebook:{\r\n            width:20,\r\n            height:20,\r\n            marginTop:10\r\n        },\r\n        main_logo:{\r\n            marginTop:40,\r\n            flex:1,\r\n            alignSelf:'center',\r\n\r\n        },\r\n        text_Logo:{\r\n            alignSelf:'center',\r\n            color:'#fff',\r\n            fontSize:40,\r\n            fontWeight: \"bold\"\r\n        },\r\n        text_inscription:{\r\n            alignSelf:'center',\r\n            color:'#fff',\r\n            fontSize:18,\r\n            marginTop:35\r\n        },\r\n        text_titreInactif:{\r\n            alignSelf:'center',\r\n            color:'#fff',\r\n            fontSize:16,\r\n            marginTop: 10,\r\n            fontWeight:'bold',\r\n            textAlign: 'center',\r\n            alignItems: 'center'\r\n        },\r\n        text_Inactif:{\r\n            alignSelf:'center',\r\n            color:'#fff',\r\n            fontSize:16,\r\n            marginTop:35,\r\n            textAlign:'center',\r\n        },\r\n        main_InContenair:{\r\n            flex:3,\r\n            alignSelf:'center',\r\n            width:300,\r\n            marginTop:5\r\n        },\r\n        Input:{\r\n            backgroundColor:'#fff',\r\n            height:50,\r\n            marginTop:20,\r\n            borderRadius:5,\r\n            paddingLeft:20\r\n        \r\n        },\r\n        Go:{\r\n         \r\n            backgroundColor:'#00C1BC',\r\n            textAlign:'center',\r\n            alignContent:'center',\r\n            marginTop:20,\r\n            borderWidth:0.2,\r\n            borderRadius:5,\r\n           padding : 15,\r\n            fontSize:15,\r\n            shadowColor: 'rgba(1, 161, 156, 1)',\r\n            shadowOpacity: 1.5,\r\n            elevation: 8,\r\n            shadowRadius: 20 ,\r\n            shadowOffset : { width: 1, height: 13},\r\n            backgroundColor: '#00C1BC',\r\n            color: '#FFFFFF',\r\n            width:150,\r\n            alignSelf:'center'\r\n        },\r\n        medecin:{\r\n            height:50,\r\n            textAlign:'center',\r\n            alignContent:'center',\r\n            marginTop:25,\r\n            borderWidth:0.2,\r\n            borderRadius:5,\r\n            paddingTop: 5,\r\n            paddingBottom: 5,\r\n            paddingLeft: 50,\r\n            paddingRight: 50,\r\n            fontSize:15,\r\n            shadowColor: 'rgba(1, 161, 156, 1)',\r\n            shadowOpacity: 1.5,\r\n            elevation: 8,\r\n            shadowRadius: 20 ,\r\n            shadowOffset : { width: 1, height: 13},\r\n            backgroundColor: '#008ac8',\r\n            color: '#FFFFFF'\r\n        },\r\n        seConnecterFacebook:{\r\n            height:50,\r\n            backgroundColor:'#00C1BC',\r\n            textAlign:'center',\r\n            alignContent:'center',\r\n            marginTop:10,\r\n            borderWidth:0.2,\r\n            borderRadius:5,\r\n            paddingTop: 5,\r\n            paddingBottom: 5,\r\n            paddingLeft: 50,\r\n            paddingRight: 50,\r\n            fontSize:15,\r\n            shadowColor: 'rgba(23, 149, 205, 0.5)',\r\n            shadowOpacity: 1.5,\r\n            elevation: 8,\r\n            shadowRadius: 20 ,\r\n            shadowOffset : { width: 1, height: 13},\r\n            backgroundColor: '#FFF',\r\n            color: '#1795cd',\r\n        },\r\n        textFacebook:{\r\n            color: '#1795cd',\r\n            fontSize:15,\r\n            width:200,\r\n            marginTop:10,\r\n            marginLeft:10,\r\n            fontWeight:'bold'\r\n        },\r\n        textGo:{\r\n            color: '#FFF',\r\n            fontSize:15,\r\n            width:200,\r\n            marginTop:10,\r\n            textAlign:'center',\r\n            fontWeight:'bold'\r\n        },\r\n        textmedecin:{\r\n            color: '#FFF',\r\n            fontSize:15,\r\n            width:200,\r\n            marginTop:10,\r\n            marginLeft:50,\r\n            fontWeight:'bold'\r\n        },\r\n        textLink:{\r\n            alignSelf:'center',\r\n            marginTop:70\r\n        },\r\n        textLinkWhite:{\r\n            alignSelf:'center',\r\n            marginTop:10,\r\n            color:'#fff'\r\n        }\r\n      \r\n    }\r\n)\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n       \r\n    }\r\n  }\r\n  \r\n  const mapDispatchToProps = {\r\n    userConnected\r\n  }\r\n  \r\n  export default connect(mapStateToProps,mapDispatchToProps)(ActiveAccount);"]},"metadata":{},"sourceType":"module"}