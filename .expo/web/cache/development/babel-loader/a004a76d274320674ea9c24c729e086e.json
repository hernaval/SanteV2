{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Stenny Gabriel\\\\best4sante\\\\Best4Sante\\\\assets\\\\Screens\\\\Documents\\\\Test.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport AppRegistry from \"react-native-web/dist/exports/AppRegistry\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ViewPager from '@react-native-community/viewpager';\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport StepIndicator from 'react-native-step-indicator';\nimport MaterialIcon from \"@expo/vector-icons/MaterialIcons\";\nimport RadioForm, { RadioButton, RadioButtonInput, RadioButtonLabel } from 'react-native-simple-radio-button';\nimport * as DocumentPicker from 'expo-document-picker';\nimport * as ImagePicker from 'expo-image-picker';\nimport { Camera } from 'expo-camera';\nimport * as Permissions from 'expo-permissions';\nimport { connect } from 'react-redux';\nimport TopMenu from \"../../component/Menu/TopMenu\";\nimport axios from 'axios';\nimport Bdd from \"../../API/Bdd\";\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\nimport { faUpload } from '@fortawesome/free-solid-svg-icons';\nvar PAGES = ['Page 1', 'Page 2', 'Page 3', 'Page 4', 'Page 5'];\n\nvar Test = function (_Component) {\n  _inherits(Test, _Component);\n\n  var _super = _createSuper(Test);\n\n  function Test() {\n    var _this;\n\n    _classCallCheck(this, Test);\n\n    _this = _super.call(this);\n\n    _this.componentDidMount = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(_this.getCameraPermissions());\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getCameraPermissions = function _callee2() {\n      var _await$Permissions$as, status;\n\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n            case 2:\n              _await$Permissions$as = _context2.sent;\n              status = _await$Permissions$as.status;\n\n              if (status !== 'granted') {\n                Alert(\"permission not granteed\");\n\n                _this.setState({\n                  rollGranted: false,\n                  cameraGranted: false\n                });\n              } else {\n                _this.setState({\n                  rollGranted: true,\n                  cameraGranted: true\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.goToDocumentMenu = function () {\n      _this.props.navigation.navigate(\"FileManager\");\n    };\n\n    _this._pickImage = function _callee3() {\n      var result;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                allowsEditing: true,\n                base64: true\n              }));\n\n            case 2:\n              result = _context3.sent;\n\n              if (!result.cancelled) {\n                _this.setState({\n                  uri_doc: result.uri,\n                  uri_pict: null,\n                  base64Img: \"data:image/jpg;base64,\" + result.base64\n                });\n              }\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.takePictureAndCreateAlbum = function _callee4() {\n      var result, pict_name;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              console.log('tpaca');\n              _context4.next = 3;\n              return _regeneratorRuntime.awrap(_this.setState({\n                isLoading: true\n              }));\n\n            case 3:\n              _context4.next = 5;\n              return _regeneratorRuntime.awrap(_this.camera.takePictureAsync({\n                base64: true\n              }));\n\n            case 5:\n              result = _context4.sent;\n              pict_name = result.uri.split('/');\n\n              _this.setState({\n                isLoading: false,\n                uri_pict: result.uri,\n                pict_name: pict_name[pict_name.length - 1],\n                base64Img: \"data:image/jpg;base64,\" + result.base64\n              }, function () {});\n\n            case 8:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderViewPagerPage = function (data) {\n      return React.createElement(View, {\n        style: styles.page,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 9\n        }\n      }, data));\n    };\n\n    _this.renderDocumentType = function (typeDocument) {\n      return React.createElement(View, {\n        style: styles.page,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 5\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: 20,\n          paddingBottom: 70\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 9\n        }\n      }, \"Choisir le type de votre document\")), React.createElement(RadioForm, {\n        radio_props: typeDocument,\n        initial: -1,\n        onPress: function onPress(value) {\n          if (typeDocument[value].title === \"aut\") {\n            _this.setState({\n              isAutre: true\n            });\n          } else {\n            _this.setState({\n              docCategorie: typeDocument[value].title,\n              isAutre: false\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 7\n        }\n      }), _this.state.isAutre === true && React.createElement(TextInput, {\n        onChangeText: function onChangeText(text) {\n          return _this.setState({\n            docCategorie: text\n          });\n        },\n        placeholder: \"autre doc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 39\n        }\n      }), _this.state.docCategorie !== \"\" && React.createElement(TouchableOpacity, {\n        style: _objectSpread({}, styles.openButton, {\n          backgroundColor: \"#2196F3\"\n        }),\n        onPress: function onPress() {\n          _this.viewPager.setPage(2);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 10\n        }\n      }, \"Suivant\")));\n    };\n\n    _this.renderDocumentUpload = function () {\n      return React.createElement(View, {\n        style: styles.page,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 5\n        }\n      }, React.createElement(Modal, {\n        animationType: \"slide\",\n        transparent: true,\n        visible: _this.state.modalVisible,\n        onRequestClose: function onRequestClose() {\n          Alert.alert(\"Modal has been closed.\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.centeredView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.modalView,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }\n      }, React.createElement(TouchableOpacity, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }\n      }), React.createElement(TouchableHighlight, {\n        style: _objectSpread({}, styles.openButton, {\n          backgroundColor: \"#2196F3\"\n        }),\n        onPress: function onPress() {\n          _this.setState({\n            modalVisible: !_this.state.modalVisible\n          });\n\n          _this._pickImage();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 15\n        }\n      }, \"Importer  \")), React.createElement(TouchableHighlight, {\n        style: _objectSpread({}, styles.openButton, {\n          backgroundColor: \"#2196F3\"\n        }),\n        onPress: function onPress() {\n          _this.setState({\n            modalVisible: !_this.state.modalVisible,\n            isCamera: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 15\n        }\n      }, \"Utiliser cam\\xE9ra\")), React.createElement(TouchableHighlight, {\n        style: _objectSpread({}, styles.openButton, {\n          backgroundColor: \"#d3d3d3\"\n        }),\n        onPress: function onPress() {\n          _this.setState({\n            modalVisible: !_this.state.modalVisible\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 15\n        }\n      }, \"annuler\"))))), React.createElement(Text, {\n        style: {\n          fontSize: 20,\n          fontWeight: \"bold\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 7\n        }\n      }, \"Attacher un document\"), React.createElement(TouchableOpacity, {\n        style: {\n          paddingTop: 70\n        },\n        onPress: function onPress() {\n          return _this.setState({\n            modalVisible: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 7\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        size: 70,\n        icon: faUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 9\n        }\n      })), _this.state.uri_doc !== null && React.createElement(Text, {\n        style: styles.docText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 39\n        }\n      }, \"Votre document est s\\xE9lectionn\\xE9\"), _this.state.uri_pict !== null && React.createElement(Text, {\n        style: styles.docText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 40\n        }\n      }, \"Votre photo est s\\xE9lectionn\\xE9\"), _this.state.uri_doc !== null && React.createElement(TouchableOpacity, {\n        style: _objectSpread({}, styles.openButton, {\n          backgroundColor: \"#2196F3\"\n        }),\n        onPress: function onPress() {\n          return _this.viewPager.setPage(1);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 8\n        }\n      }, React.createElement(Text, {\n        style: styles.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 12\n        }\n      }, \"Suivant\")), _this.state.uri_pict !== null && React.createElement(TouchableOpacity, {\n        style: _objectSpread({}, styles.openButton, {\n          backgroundColor: \"#2196F3\"\n        }),\n        onPress: function onPress() {\n          return _this.viewPager.setPage(1);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 1\n        }\n      }, React.createElement(Text, {\n        style: styles.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 5\n        }\n      }, \"Suivant\")));\n    };\n\n    _this.renderDocumentName = function () {\n      return React.createElement(View, {\n        style: styles.page,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 5\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          fontSize: 20,\n          paddingBottom: 70\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 7\n        }\n      }, \"Donnez un nom \\xE0 votre document\"), React.createElement(TextInput, {\n        style: {\n          padding: 10,\n          borderColor: \"#000\"\n        },\n        onChangeText: function onChangeText(value) {\n          _this.setState({\n            name: value\n          });\n        },\n        placeholder: \"nom du doc\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 7\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: {\n          padding: 10,\n          backgroundColor: \"#00C1B4\"\n        },\n        onPress: function onPress() {\n          _this.saveImg();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 7\n        }\n      }, React.createElement(Text, {\n        style: styles.textStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 9\n        }\n      }, \"Sauvegarder le  document\")));\n    };\n\n    _this.onStepPress = function (position) {\n      _this.setState({\n        currentPage: position\n      });\n\n      _this.viewPager.setPage(position);\n    };\n\n    _this.renderStepIndicator = function (params) {\n      return React.createElement(MaterialIcon, _extends({}, getStepIndicatorIconConfig(params), {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 5\n        }\n      }));\n    };\n\n    _this.renderLabel = function (_ref) {\n      var position = _ref.position,\n          stepStatus = _ref.stepStatus,\n          label = _ref.label,\n          currentPosition = _ref.currentPosition;\n      return React.createElement(Text, {\n        style: position === currentPosition ? styles.stepLabelSelected : styles.stepLabel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 7\n        }\n      }, label);\n    };\n\n    _this.state = {\n      currentPage: 0,\n      typeDoc: \"\",\n      isAutre: false,\n      modalVisible: false,\n      rollGranted: true,\n      cameraGranted: false,\n      uri_pict: null,\n      pict_name: null,\n      uri_doc: null,\n      isCamera: false,\n      base64Img: null,\n      doc: {},\n      name: \"\",\n      isLoading: false,\n      docCategorie: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Test, [{\n    key: \"UNSAFE__componentWillReceiveProps\",\n    value: function UNSAFE__componentWillReceiveProps(nextProps, nextState) {\n      if (nextState.currentPage != this.state.currentPage) {\n        if (this.viewPager) {\n          this.viewPager.setPage(nextState.currentPage);\n        }\n      }\n    }\n  }, {\n    key: \"saveImg\",\n    value: function saveImg() {\n      var _this2 = this;\n\n      console.log(this.state.docCategorie);\n      this.setState({\n        isLoading: true\n      });\n      var apiUrl = 'https://api.cloudinary.com/v1_1/hb314jso8/image/upload';\n\n      if (this.state.uri_doc !== null) {\n        console.log(\"ato zao\");\n        var data = {\n          \"file\": this.state.base64Img,\n          \"upload_preset\": 'aoknragz'\n        };\n        fetch(apiUrl, {\n          body: JSON.stringify(data),\n          headers: {\n            'content-type': 'application/json'\n          },\n          method: 'POST'\n        }).then(function _callee5(r) {\n          var data, today, dd, mm, yyyy, specialTempDocName, doc;\n          return _regeneratorRuntime.async(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  _context5.next = 2;\n                  return _regeneratorRuntime.awrap(r.json());\n\n                case 2:\n                  data = _context5.sent;\n\n                  if (!data.error) {\n                    _context5.next = 6;\n                    break;\n                  }\n\n                  console.log('pas enregistré');\n                  return _context5.abrupt(\"return\");\n\n                case 6:\n                  today = new Date();\n                  dd = String(today.getDate()).padStart(2, '0');\n                  mm = String(today.getMonth() + 1).padStart(2, '0');\n                  yyyy = today.getFullYear();\n                  today = dd + '-' + mm + '-' + yyyy;\n                  specialTempDocName = _this2.state.name + \"__\" + _this2.state.docCategorie + \"__\" + today;\n                  doc = {\n                    name: specialTempDocName,\n                    url: '/' + data.public_id + '.' + data.format,\n                    user_id: _this2.props.second.second_users[_this2.props.second.indexSelected].id,\n                    public_id: data.public_id\n                  };\n                  console.log('doc', doc);\n                  axios.post(Bdd.api_url + '/api/document/add', doc).then(function (response) {\n                    if (response.data.status === 200) {\n                      _this2.setState({\n                        isLoading: false\n                      });\n\n                      _this2.goToDocumentMenu();\n                    }\n                  });\n                  return _context5.abrupt(\"return\", data.secure_url);\n\n                case 16:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        }).catch(function (err) {\n          return console.log(\"misy olana \", err);\n        });\n      } else if (this.state.uri_pict !== null) {\n        var _data = {\n          \"file\": this.state.base64Img,\n          \"upload_preset\": 'aoknragz'\n        };\n        fetch(apiUrl, {\n          body: JSON.stringify(_data),\n          headers: {\n            'content-type': 'application/json'\n          },\n          method: 'POST'\n        }).then(function _callee6(r) {\n          var data, today, dd, mm, yyyy, specialTempDocName, doc;\n          return _regeneratorRuntime.async(function _callee6$(_context6) {\n            while (1) {\n              switch (_context6.prev = _context6.next) {\n                case 0:\n                  _context6.next = 2;\n                  return _regeneratorRuntime.awrap(r.json());\n\n                case 2:\n                  data = _context6.sent;\n\n                  if (!data.error) {\n                    _context6.next = 5;\n                    break;\n                  }\n\n                  return _context6.abrupt(\"return\");\n\n                case 5:\n                  today = new Date();\n                  dd = String(today.getDate()).padStart(2, '0');\n                  mm = String(today.getMonth() + 1).padStart(2, '0');\n                  yyyy = today.getFullYear();\n                  today = dd + '-' + mm + '-' + yyyy;\n                  specialTempDocName = _this2.state.name + \"__\" + _this2.state.docCategorie + \"__\" + today;\n                  doc = {\n                    name: specialTempDocName,\n                    url: '/' + data.public_id + '.' + data.format,\n                    user_id: _this2.props.second.second_users[_this2.props.second.indexSelected].id,\n                    public_id: data.public_id\n                  };\n                  console.log(\"doc\", doc);\n                  axios.post(Bdd.api_url + '/api/document/add', doc).then(function (response) {\n                    if (response.data.status === 200) {\n                      _this2.setState({\n                        isLoading: false\n                      });\n\n                      _this2.goToDocumentMenu();\n                    }\n                  });\n                  return _context6.abrupt(\"return\", data.secure_url);\n\n                case 15:\n                case \"end\":\n                  return _context6.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      } else {\n        console.log('rien');\n      }\n    }\n  }, {\n    key: \"getCamera\",\n    value: function getCamera() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 7\n        }\n      }, this.state.isLoading && React.createElement(View, {\n        style: styles.loading_container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 34\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }\n      })), this.state.uri_pict === null && React.createElement(Camera, {\n        type: Camera.Constants.Type.back,\n        style: {\n          flex: 1\n        },\n        ref: function ref(_ref2) {\n          _this3.camera = _ref2;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 42\n        }\n      }), this.state.uri_pict === null && React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this3.state.rollGranted && _this3.state.cameraGranted ? _this3.takePictureAndCreateAlbum() : Alert.alert('Permissions not granted');\n        },\n        style: styles.buttonContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 42\n        }\n      }, React.createElement(View, {\n        style: styles.buttonRond,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 11\n        }\n      })), this.state.uri_pict === null && React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this3.setState({\n            isCamera: false\n          });\n        },\n        style: styles.buttonContainer2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 42\n        }\n      }, React.createElement(View, {\n        style: styles.buttonBack,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.textBack,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }\n      }, \"retour\"))), this.state.uri_pict !== null && React.createElement(Image, {\n        style: {\n          marginLeft: wp('0%'),\n          marginTop: hp(\"20%\"),\n          width: wp('100%'),\n          height: wp('100%')\n        },\n        source: {\n          uri: this.state.uri_pict\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 42\n        }\n      }), this.state.uri_pict !== null && React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 42\n        }\n      }, this.state.uri_pict !== null && React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this3.setState({\n            uri_pict: null\n          });\n        },\n        style: styles.buttonContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 44\n        }\n      }, React.createElement(View, {\n        style: styles.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }\n      }, \"Annuler\"))), this.state.uri_pict !== null && React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this3.setState({\n            isCamera: false,\n            uri_doc: null\n          });\n        },\n        style: styles.buttonContainer3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 42\n        }\n      }, React.createElement(View, {\n        style: styles.button,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 13\n        }\n      }, \"Sauvegarder\")))));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var documentType = [{\n        label: 'Ordonnance',\n        value: 0,\n        title: \"ordo\"\n      }, {\n        label: 'Certificat',\n        value: 1,\n        title: \"cert\"\n      }, {\n        label: 'Attestation',\n        value: 2,\n        title: \"atte\"\n      }, {\n        label: 'Compte-rendu',\n        value: 3,\n        title: \"cptr\"\n      }, {\n        label: 'Autre',\n        value: 4,\n        title: \"aut\"\n      }];\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 7\n        }\n      }, this.state.isLoading && React.createElement(View, {\n        style: styles.loading_container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 34\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 11\n        }\n      })), this.state.isCamera === true && this.getCamera(), this.state.isCamera === false && React.createElement(View, {\n        style: Platform.OS === 'ios' ? styles.under_ios : styles.under,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }\n      }, React.createElement(TopMenu, {\n        navigation: this.props.navigation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 13\n        }\n      })), this.state.isCamera === false && React.createElement(ViewPager, {\n        style: {\n          flexGrow: 1\n        },\n        ref: function ref(viewPager) {\n          _this4.viewPager = viewPager;\n        },\n        onPageSelected: function onPageSelected(page) {\n          _this4.setState({\n            currentPage: page.position\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 11\n        }\n      }, this.renderDocumentUpload(), this.renderDocumentType(documentType), this.renderDocumentName()));\n    }\n  }]);\n\n  return Test;\n}(Component);\n\n{}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  page: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  stepLabel: {\n    fontSize: 12,\n    textAlign: 'center',\n    fontWeight: '500',\n    color: '#999999'\n  },\n  stepLabelSelected: {\n    fontSize: 12,\n    textAlign: 'center',\n    fontWeight: '500',\n    color: '#4aae4f'\n  },\n  centeredView: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    marginTop: 22\n  },\n  modalView: {\n    margin: 20,\n    backgroundColor: \"white\",\n    borderRadius: 20,\n    padding: 35,\n    alignItems: \"center\",\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  openButton: {\n    backgroundColor: \"#F194FF\",\n    borderRadius: 20,\n    padding: 10,\n    elevation: 2\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  modalText: {\n    marginBottom: 15,\n    textAlign: \"center\"\n  },\n  loading_container: {\n    position: 'absolute',\n    zIndex: 10,\n    left: 0,\n    right: 0,\n    top: 100,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  under3: {\n    flexDirection: 'row',\n    paddingTop: 40,\n    width: wp('100%'),\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  isNotCameraContainer: {},\n  link: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    paddingLeft: wp('25%'),\n    paddingTop: hp(\"7%\"),\n    paddingBottom: hp(\"1%\")\n  },\n  imgLink: {\n    width: wp('15%'),\n    height: wp('15%'),\n    backgroundColor: '#008AC8',\n    borderRadius: 400 / 2,\n    marginRight: wp('2%')\n  },\n  imgText: {\n    color: \"white\",\n    fontSize: 24\n  },\n  uploadAction: {\n    flexDirection: \"row\",\n    justifyContent: \"center\"\n  },\n  docView: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: hp(\"2%\"),\n    paddingBottom: hp(\"2%\")\n  },\n  docButton: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderWidth: 1,\n    borderColor: \"white\",\n    borderStyle: 'dashed',\n    borderRadius: 50,\n    paddingTop: hp(\"2%\"),\n    paddingBottom: hp(\"2%\")\n  },\n  docText: {},\n  buttonSave: {\n    backgroundColor: \"#00C1B4\",\n    marginTop: hp('5%'),\n    width: wp('70%'),\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: hp(\"2%\"),\n    paddingBottom: hp(\"2%\")\n  },\n  docText2: {\n    color: \"white\",\n    fontSize: 18\n  },\n  buttonContainer: {\n    position: 'absolute',\n    bottom: 150,\n    left: 0,\n    right: 0,\n    alignItems: 'center'\n  },\n  buttonContainer2: {\n    position: 'absolute',\n    top: 50,\n    left: 30,\n    alignItems: 'center'\n  },\n  buttonContainer3: {\n    position: 'absolute',\n    bottom: 50,\n    left: 0,\n    right: 0,\n    alignItems: 'center'\n  },\n  button: {\n    width: 200,\n    backgroundColor: 'transparent',\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: 4,\n    paddingVertical: 4,\n    borderWidth: 1.5,\n    borderColor: '#fff'\n  },\n  buttonText: {\n    fontSize: 24,\n    color: '#fff'\n  },\n  buttonRond: {\n    width: 80,\n    height: 80,\n    backgroundColor: 'transparent',\n    borderRadius: 80 / 2,\n    paddingVertical: 4,\n    borderWidth: 5,\n    borderColor: '#fff'\n  },\n  buttonBack: {},\n  textBack: {\n    fontSize: 16,\n    color: '#fff'\n  },\n  loading_container: {\n    position: 'absolute',\n    zIndex: 10,\n    left: 0,\n    right: 0,\n    top: 100,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    user: store.user,\n    contact: store.contact,\n    favorite: store.favorite,\n    second: store.second\n  };\n};\n\nvar mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(Test);","map":{"version":3,"sources":["C:/Users/Stenny Gabriel/best4sante/Best4Sante/assets/Screens/Documents/Test.js"],"names":["React","Component","ViewPager","widthPercentageToDP","wp","heightPercentageToDP","hp","StepIndicator","MaterialIcon","RadioForm","RadioButton","RadioButtonInput","RadioButtonLabel","DocumentPicker","ImagePicker","Camera","Permissions","connect","TopMenu","axios","Bdd","FontAwesomeIcon","faUpload","PAGES","Test","componentDidMount","getCameraPermissions","askAsync","CAMERA_ROLL","status","Alert","setState","rollGranted","cameraGranted","goToDocumentMenu","props","navigation","navigate","_pickImage","launchImageLibraryAsync","allowsEditing","base64","result","cancelled","uri_doc","uri","uri_pict","base64Img","takePictureAndCreateAlbum","console","log","isLoading","camera","takePictureAsync","pict_name","split","length","renderViewPagerPage","data","styles","page","renderDocumentType","typeDocument","fontWeight","fontSize","paddingBottom","value","title","isAutre","docCategorie","state","text","openButton","backgroundColor","viewPager","setPage","textStyle","renderDocumentUpload","modalVisible","alert","centeredView","modalView","isCamera","paddingTop","docText","renderDocumentName","padding","borderColor","name","saveImg","onStepPress","position","currentPage","renderStepIndicator","params","getStepIndicatorIconConfig","renderLabel","stepStatus","label","currentPosition","stepLabelSelected","stepLabel","typeDoc","doc","nextProps","nextState","apiUrl","fetch","body","JSON","stringify","headers","method","then","r","json","error","today","Date","dd","String","getDate","padStart","mm","getMonth","yyyy","getFullYear","specialTempDocName","url","public_id","format","user_id","second","second_users","indexSelected","id","post","api_url","response","secure_url","catch","err","container","loading_container","Constants","Type","back","flex","ref","buttonContainer","buttonRond","buttonContainer2","buttonBack","textBack","marginLeft","marginTop","width","height","button","buttonText","buttonContainer3","documentType","getCamera","Platform","OS","under_ios","under","flexGrow","StyleSheet","create","justifyContent","alignItems","textAlign","color","margin","borderRadius","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","modalText","marginBottom","zIndex","left","right","top","bottom","under3","flexDirection","isNotCameraContainer","link","paddingLeft","imgLink","marginRight","imgText","uploadAction","docView","docButton","borderWidth","borderStyle","buttonSave","docText2","paddingVertical","mapStateToProps","store","user","contact","favorite","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { AppRegistry, StyleSheet, TouchableHighlight,Alert,Image, Modal, View, Text, TextInput, TouchableOpacity, ActivityIndicator } from 'react-native'\r\nimport ViewPager from '@react-native-community/viewpager';\r\nimport {\r\n  widthPercentageToDP as wp,\r\n  heightPercentageToDP as hp,\r\n} from 'react-native-responsive-screen';\r\nimport StepIndicator from 'react-native-step-indicator'\r\nimport MaterialIcon from 'react-native-vector-icons/MaterialIcons'\r\nimport RadioForm, { RadioButton, RadioButtonInput, RadioButtonLabel } from 'react-native-simple-radio-button';\r\nimport * as DocumentPicker from 'expo-document-picker'\r\nimport * as ImagePicker from 'expo-image-picker'\r\nimport { Camera } from 'expo-camera'\r\nimport * as Permissions from 'expo-permissions'\r\nimport { connect } from 'react-redux';\r\nimport TopMenu from \"../../component/Menu/TopMenu\"\r\nimport axios from 'axios'\r\nimport Bdd from \"../../API/Bdd\"\r\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\r\nimport { faUpload } from '@fortawesome/free-solid-svg-icons';\r\nconst PAGES = ['Page 1', 'Page 2', 'Page 3', 'Page 4', 'Page 5']\r\n\r\n/* \r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyCFQRgRJZu_IQhNbuXxtOMqwfmTZ1CB_mM\",\r\n  authDomain: \"crud-app-2d3f3.firebaseapp.com\",\r\n  databaseURL: \"https://crud-app-2d3f3.firebaseio.com\",\r\n  projectId: \"crud-app-2d3f3\",\r\n  storageBucket: \"crud-app-2d3f3.appspot.com\",\r\n  messagingSenderId: \"242697897412\",\r\n  appId: \"1:242697897412:web:41b0272255d83dce3ad091\",\r\n  measurementId: \"G-F51CRJVR0P\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig); */\r\n\r\n\r\n\r\nclass Test extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n      currentPage: 0,\r\n      typeDoc: \"\",\r\n      isAutre: false,\r\n      modalVisible: false,\r\n\r\n      rollGranted: true,\r\n      cameraGranted: false,\r\n      uri_pict: null,\r\n      pict_name: null,\r\n      uri_doc: null,\r\n      isCamera: false,\r\n      base64Img: null,\r\n      doc: {},\r\n      name: \"\",\r\n      isLoading: false,\r\n      docCategorie: \"\"\r\n    }\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    await this.getCameraPermissions()\r\n  }\r\n\r\n  getCameraPermissions = async () => {\r\n\r\n    let { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\r\n    if (status !== 'granted') {\r\n      Alert(\"permission not granteed\")\r\n      this.setState({\r\n        rollGranted: false,\r\n        cameraGranted: false,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        rollGranted: true,\r\n        cameraGranted: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  UNSAFE__componentWillReceiveProps(nextProps, nextState) {\r\n    if (nextState.currentPage != this.state.currentPage) {\r\n      if (this.viewPager) {\r\n        this.viewPager.setPage(nextState.currentPage)\r\n      }\r\n    }\r\n  }\r\n\r\n  goToDocumentMenu = () => {\r\n    this.props.navigation.navigate(\"FileManager\")\r\n  }\r\n\r\n  _pickImage = async () => {\r\n    let result = await ImagePicker.launchImageLibraryAsync({\r\n      allowsEditing : true,\r\n      base64: true\r\n    });\r\n\r\n    //console.log(result)\r\n\r\n    if (!result.cancelled) {\r\n      this.setState({ uri_doc: result.uri, uri_pict: null, base64Img: `data:image/jpg;base64,${result.base64}` })\r\n\r\n    }\r\n\r\n  }\r\n  saveImg() {\r\n    console.log(this.state.docCategorie)\r\n    this.setState({ isLoading: true });\r\n    let apiUrl = 'https://api.cloudinary.com/v1_1/hb314jso8/image/upload';\r\n    if (this.state.uri_doc !== null) {\r\n      console.log(\"ato zao\")\r\n\r\n      let data = {\r\n        \"file\": this.state.base64Img,\r\n        \"upload_preset\": 'aoknragz'\r\n      }\r\n\r\n      fetch(apiUrl, {\r\n        body: JSON.stringify(data),\r\n        headers: {\r\n          'content-type': 'application/json'\r\n        },\r\n        method: 'POST',\r\n      }).then(async r => {\r\n        let data = await r.json()\r\n        //   console.log(data)\r\n\r\n        if (data.error) {\r\n          console.log('pas enregistré')\r\n          return;\r\n        }\r\n\r\n        var today = new Date();\r\n        var dd = String(today.getDate()).padStart(2, '0');\r\n        var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n        var yyyy = today.getFullYear();\r\n\r\n        today = dd + '-' + mm + '-' + yyyy;\r\n\r\n\r\n        let specialTempDocName = this.state.name + \"__\" + this.state.docCategorie + \"__\" + today\r\n\r\n        let doc = {\r\n          name: specialTempDocName,\r\n          url: '/' + data.public_id + '.' + data.format,\r\n          user_id: this.props.second.second_users[this.props.second.indexSelected].id,\r\n          public_id: data.public_id\r\n        }\r\n\r\n          console.log('doc', doc);\r\n\r\n        axios.post(Bdd.api_url + '/api/document/add', doc)\r\n          .then((response) => {\r\n            //console.log('res document',response);\r\n            if (response.data.status === 200) {\r\n              this.setState({ isLoading: false })\r\n             \r\n              this.goToDocumentMenu()\r\n            }\r\n          })\r\n\r\n\r\n        return data.secure_url\r\n      }).catch(err => console.log(\"misy olana \", err))\r\n    } else if (this.state.uri_pict !== null) {\r\n      let data = {\r\n        \"file\": this.state.base64Img,\r\n        \"upload_preset\": 'aoknragz'\r\n      }\r\n\r\n      fetch(apiUrl, {\r\n        body: JSON.stringify(data),\r\n        headers: {\r\n          'content-type': 'application/json'\r\n        },\r\n        method: 'POST',\r\n      }).then(async r => {\r\n        let data = await r.json()\r\n        //     console.log('les data photo', data);\r\n\r\n        if (data.error) {\r\n          return;\r\n        }\r\n        var today = new Date();\r\n        var dd = String(today.getDate()).padStart(2, '0');\r\n        var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!\r\n        var yyyy = today.getFullYear();\r\n\r\n        today = dd + '-' + mm + '-' + yyyy;\r\n\r\n\r\n        let specialTempDocName = this.state.name + \"__\" + this.state.docCategorie + \"__\" + today\r\n\r\n        let doc = {\r\n          name: specialTempDocName,\r\n          url: '/' + data.public_id + '.' + data.format,\r\n          user_id: this.props.second.second_users[this.props.second.indexSelected].id,\r\n          public_id: data.public_id\r\n        }\r\n\r\n        console.log(\"doc\",doc)\r\n\r\n        axios.post(Bdd.api_url + '/api/document/add', doc)\r\n          .then((response) => {\r\n            //  console.log('res document',response);\r\n            if (response.data.status === 200) {\r\n\r\n              this.setState({ isLoading: false })\r\n             \r\n              this.goToDocumentMenu()\r\n            }\r\n          })\r\n\r\n\r\n        return data.secure_url\r\n      }).catch(err => console.log(err))\r\n    } else {\r\n      console.log('rien')\r\n    }\r\n\r\n  }\r\n  takePictureAndCreateAlbum = async () => {\r\n    console.log('tpaca');\r\n    await this.setState({ isLoading: true });\r\n\r\n    const result = await this.camera.takePictureAsync({\r\n      \r\n      base64: true\r\n    });\r\n\r\n    \r\n    let pict_name = result.uri.split('/');\r\n    \r\n\r\n    this.setState({ isLoading: false, uri_pict: result.uri, pict_name: pict_name[pict_name.length - 1], base64Img: `data:image/jpg;base64,${result.base64}` }, () => {\r\n      \r\n    })\r\n   \r\n  }\r\n  getCamera() {\r\n    return (\r\n      <View style={styles.container}>\r\n        {this.state.isLoading && <View style={styles.loading_container}>\r\n          <ActivityIndicator size=\"large\" />\r\n        </View>}\r\n        {this.state.uri_pict === null && <Camera\r\n          type={Camera.Constants.Type.back}\r\n          style={{ flex: 1 }}\r\n          ref={ref => {\r\n            this.camera = ref;\r\n          }}\r\n        />}\r\n        {this.state.uri_pict === null && <TouchableOpacity\r\n          onPress={() =>\r\n            this.state.rollGranted && this.state.cameraGranted\r\n              ? this.takePictureAndCreateAlbum()\r\n              : Alert.alert('Permissions not granted')\r\n          }\r\n          style={styles.buttonContainer}>\r\n          <View style={styles.buttonRond}>\r\n\r\n          </View>\r\n        </TouchableOpacity>}\r\n       \r\n        {this.state.uri_pict === null && <TouchableOpacity\r\n          onPress={() =>\r\n            this.setState({ isCamera: false })\r\n          }\r\n          style={styles.buttonContainer2}>\r\n          <View style={styles.buttonBack}>\r\n            <Text style={styles.textBack}>\r\n              retour\r\n                  </Text>\r\n          </View>\r\n        </TouchableOpacity>}\r\n        {this.state.uri_pict !== null && <Image\r\n          style={{ marginLeft: wp('0%'), marginTop : hp(\"20%\"),  width: wp('100%'), height: wp('100%') }}\r\n          source={{ uri: this.state.uri_pict }}\r\n        />}\r\n        {this.state.uri_pict !== null && <View>\r\n          {this.state.uri_pict !== null && <TouchableOpacity\r\n          onPress={() =>\r\n            this.setState({ uri_pict: null })\r\n          }\r\n          style={styles.buttonContainer}>\r\n          <View style={styles.button}>\r\n            <Text style={styles.buttonText}>\r\n              Annuler\r\n                  </Text>\r\n          </View>\r\n        </TouchableOpacity>}\r\n        {this.state.uri_pict !== null && <TouchableOpacity\r\n          onPress={() =>\r\n            this.setState({ isCamera: false, uri_doc: null })\r\n          }\r\n          style={styles.buttonContainer3}>\r\n          <View style={styles.button}>\r\n            <Text style={styles.buttonText}>\r\n              Sauvegarder\r\n                  </Text>\r\n          </View>\r\n        </TouchableOpacity>}\r\n      \r\n        </View>}\r\n\r\n      </View>\r\n    );\r\n  }\r\n\r\n  renderViewPagerPage = data => {\r\n    return (\r\n      <View style={styles.page}>\r\n        <Text>{data}</Text>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  renderDocumentType = (typeDocument) => (\r\n    <View style={styles.page}>\r\n      <View>\r\n        <Text style={{fontWeight : \"bold\", fontSize : 20,paddingBottom : 70}}>Choisir le type de votre document</Text>\r\n      </View>\r\n      <RadioForm\r\n        \r\n        radio_props={typeDocument}\r\n        initial={-1}\r\n        onPress={(value) => {\r\n          if (typeDocument[value].title === \"aut\") {\r\n            this.setState({  isAutre: true })\r\n          } else {\r\n            this.setState({ docCategorie: typeDocument[value].title, isAutre: false })\r\n          }\r\n\r\n        }}\r\n      />\r\n      {this.state.isAutre === true && <TextInput onChangeText={(text) => this.setState({\r\n        docCategorie : text\r\n      })} placeholder=\"autre doc\" />}\r\n      {this.state.docCategorie !== \"\" &&\r\n      <TouchableOpacity\r\n         style={{ ...styles.openButton, backgroundColor: \"#2196F3\" }}\r\n      onPress={() => {\r\n        this.viewPager.setPage(2)\r\n      }}>\r\n         <Text style={styles.textStyle}>Suivant</Text> \r\n        \r\n      </TouchableOpacity>}\r\n    </View>\r\n\r\n  )\r\n\r\n  renderDocumentUpload = () => (\r\n    <View style={styles.page}>\r\n\r\n      <Modal\r\n        \r\n        animationType=\"slide\"\r\n        transparent={true}\r\n        visible={this.state.modalVisible}\r\n        onRequestClose={() => {\r\n          Alert.alert(\"Modal has been closed.\");\r\n        }}\r\n      >\r\n        <View style={styles.centeredView}>\r\n         \r\n          <View style={styles.modalView}>\r\n          <TouchableOpacity ></TouchableOpacity>\r\n            <TouchableHighlight\r\n              style={{ ...styles.openButton, backgroundColor: \"#2196F3\" }}\r\n              onPress={() => {\r\n                this.setState({ modalVisible: !this.state.modalVisible })\r\n                this._pickImage()\r\n              }}\r\n            >\r\n              <Text style={styles.textStyle}>Importer  </Text>\r\n            </TouchableHighlight>\r\n            <TouchableHighlight\r\n              style={{ ...styles.openButton, backgroundColor: \"#2196F3\" }}\r\n              onPress={() => {\r\n                this.setState({ modalVisible: !this.state.modalVisible, isCamera : true })\r\n              \r\n              }}\r\n            >\r\n              <Text style={styles.textStyle}>Utiliser caméra</Text>\r\n\r\n            </TouchableHighlight>\r\n            <TouchableHighlight\r\n              style={{ ...styles.openButton, backgroundColor: \"#d3d3d3\" }}\r\n              onPress={() => {\r\n                this.setState({ modalVisible: !this.state.modalVisible})\r\n              \r\n              }}\r\n            >\r\n              <Text style={styles.textStyle}>annuler</Text>\r\n\r\n            </TouchableHighlight>\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n\r\n      \r\n        \r\n      <Text style={{fontSize : 20, fontWeight : \"bold\"}}>Attacher un document</Text>\r\n        \r\n      <TouchableOpacity style={{paddingTop :  70}} onPress={() => this.setState({ modalVisible: true })}>\r\n        <FontAwesomeIcon size={70} icon={faUpload}  />\r\n      </TouchableOpacity  >\r\n    \r\n      \r\n      {this.state.uri_doc !== null && <Text style={styles.docText}>Votre document est sélectionné</Text>}\r\n      {this.state.uri_pict !== null && <Text style={styles.docText}>Votre photo est sélectionné</Text>}\r\n        \r\n      {this.state.uri_doc !== null && \r\n\r\n       <TouchableOpacity \r\n       style={{ ...styles.openButton, backgroundColor: \"#2196F3\" }}\r\n       onPress={() => this.viewPager.setPage(1 )}\r\n        >\r\n           <Text style={styles.textStyle}>Suivant</Text>\r\n          \r\n         \r\n        </TouchableOpacity>} \r\n        {this.state.uri_pict !== null && \r\n\r\n<TouchableOpacity \r\nstyle={{ ...styles.openButton, backgroundColor: \"#2196F3\" }}\r\nonPress={() => this.viewPager.setPage(1 )}\r\n >\r\n    <Text style={styles.textStyle}>Suivant</Text>\r\n   \r\n  \r\n </TouchableOpacity>} \r\n    </View>\r\n  )\r\n\r\n  renderDocumentName = () => (\r\n    <View style={styles.page}>\r\n      <Text style={{fontWeight : \"bold\",fontSize : 20,paddingBottom : 70}}>Donnez un nom à votre document</Text>\r\n      <TextInput style={{padding : 10, borderColor : \"#000\"}} onChangeText={(value) => {\r\n        this.setState({ name: value })\r\n      }} placeholder=\"nom du doc\" />\r\n      <TouchableOpacity style={{padding : 10,backgroundColor : \"#00C1B4\"}} onPress={() => { this.saveImg() }}>\r\n        <Text style={styles.textStyle}>\r\n          Sauvegarder le  document\r\n      </Text>\r\n      </TouchableOpacity>\r\n      \r\n    </View>\r\n  )\r\n\r\n\r\n\r\n\r\n\r\n  render() {\r\n    var documentType = [\r\n      { label: 'Ordonnance', value: 0, title: \"ordo\" },\r\n      { label: 'Certificat', value: 1, title: \"cert\" },\r\n      { label: 'Attestation', value: 2, title: \"atte\" },\r\n      { label: 'Compte-rendu', value: 3, title: \"cptr\" },\r\n      { label: 'Autre', value: 4, title: \"aut\" },\r\n    ];\r\n    return (\r\n      <View style={styles.container}>\r\n        {this.state.isLoading && <View style={styles.loading_container}>\r\n          <ActivityIndicator size=\"large\" />\r\n        </View>}\r\n\r\n        {this.state.isCamera === true && this.getCamera()}\r\n        {this.state.isCamera === false &&\r\n          <View style={Platform.OS === 'ios' ? styles.under_ios : styles.under}>\r\n            <TopMenu navigation={this.props.navigation} />\r\n          </View>  }\r\n\r\n         {this.state.isCamera === false && \r\n          <ViewPager\r\n            style={{ flexGrow: 1 }}\r\n            ref={viewPager => {\r\n              this.viewPager = viewPager\r\n            }}\r\n            onPageSelected={page => {\r\n              this.setState({ currentPage: page.position })\r\n            }}\r\n          >\r\n            {this.renderDocumentUpload()}\r\n            {this.renderDocumentType(documentType)}\r\n           \r\n            {this.renderDocumentName()}\r\n          </ViewPager>}\r\n         \r\n      </View>\r\n    )\r\n  }\r\n\r\n  onStepPress = position => {\r\n    this.setState({ currentPage: position })\r\n    this.viewPager.setPage(position)\r\n  }\r\n\r\n\r\n\r\n  renderStepIndicator = params => (\r\n    <MaterialIcon {...getStepIndicatorIconConfig(params)} />\r\n  )\r\n\r\n  renderLabel = ({ position, stepStatus, label, currentPosition }) => {\r\n    return (\r\n      <Text\r\n        style={\r\n          position === currentPosition\r\n            ? styles.stepLabelSelected\r\n            : styles.stepLabel\r\n        }\r\n      >\r\n        {label}\r\n      </Text>\r\n    )\r\n  }\r\n}\r\n\r\n{/* <View style={styles.stepIndicator}>\r\n          <StepIndicator\r\n            customStyles={firstIndicatorStyles}\r\n            currentPosition={this.state.currentPage}\r\n            labels={['Account', 'Profile', 'Band', 'Membership', 'Dashboard']}\r\n            renderLabel={this.renderLabel}\r\n            onPress={this.onStepPress}\r\n          />\r\n        </View>\r\n        \r\n        <ViewPager\r\n          style={{ flexGrow: 1 }}\r\n          ref={viewPager => {\r\n            this.viewPager = viewPager\r\n          }}\r\n          onPageSelected={page => {\r\n            this.setState({ currentPage: page.position })\r\n          }}\r\n        >\r\n          {PAGES.map(page => this.renderViewPagerPage(page))}\r\n        </ViewPager> */}\r\n\r\n\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    \r\n  },\r\n  \r\n   page: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  },\r\n  stepLabel: {\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    fontWeight: '500',\r\n    color: '#999999'\r\n  },\r\n  stepLabelSelected: {\r\n    fontSize: 12,\r\n    textAlign: 'center',\r\n    fontWeight: '500',\r\n    color: '#4aae4f'\r\n  },\r\n  centeredView: {\r\n    flex: 1,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    marginTop: 22\r\n  },\r\n  modalView: {\r\n    margin: 20,\r\n    backgroundColor: \"white\",\r\n    borderRadius: 20,\r\n    padding: 35,\r\n    alignItems: \"center\",\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5\r\n  },\r\n  openButton: {\r\n    backgroundColor: \"#F194FF\",\r\n    borderRadius: 20,\r\n    padding: 10,\r\n    elevation: 2\r\n  },\r\n  textStyle: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\"\r\n  },\r\n  modalText: {\r\n    marginBottom: 15,\r\n    textAlign: \"center\"\r\n  },\r\n  loading_container: {\r\n    position: 'absolute',\r\n    zIndex: 10,\r\n    left: 0,\r\n    right: 0,\r\n    top: 100,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  }, \r\n  under3: {\r\n    flexDirection: 'row',\r\n    paddingTop: 40,\r\n    width: wp('100%'),\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n\r\n\r\n  },\r\n  isNotCameraContainer: {\r\n\r\n  },\r\n  \r\n  link: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    paddingLeft: wp('25%'),\r\n    paddingTop: hp(\"7%\"),\r\n    paddingBottom: hp(\"1%\")\r\n  },\r\n  imgLink: {\r\n    width: wp('15%'),\r\n    height: wp('15%'),\r\n    backgroundColor: '#008AC8',\r\n    borderRadius: 400 / 2,\r\n    marginRight: wp('2%')\r\n  },\r\n  imgText: {\r\n    color: \"white\",\r\n    fontSize: 24\r\n  },\r\n  uploadAction : {\r\n    flexDirection  :\"row\",\r\n    justifyContent :\"center\"\r\n  },\r\n   docView: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    paddingTop: hp(\"2%\"),\r\n    paddingBottom: hp(\"2%\"),\r\n  },\r\n  docButton: {\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    borderWidth: 1,\r\n    borderColor: \"white\",\r\n    borderStyle: 'dashed',\r\n    borderRadius: 50,\r\n    paddingTop: hp(\"2%\"),\r\n    paddingBottom: hp(\"2%\"),\r\n    //width: wp('70%')\r\n  }, \r\n  docText: {\r\n    \r\n  },\r\n  buttonSave: {\r\n    backgroundColor: \"#00C1B4\",\r\n    marginTop: hp('5%'),\r\n    width: wp('70%'),\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    paddingTop: hp(\"2%\"),\r\n    paddingBottom: hp(\"2%\"),\r\n\r\n  },\r\n  docText2: {\r\n    color: \"white\",\r\n    fontSize: 18\r\n\r\n  },\r\n   buttonContainer: {\r\n    position: 'absolute',\r\n    bottom: 150,\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n  },\r\n  buttonContainer2: {\r\n    position: 'absolute',\r\n    top: 50,\r\n    left: 30,\r\n    alignItems: 'center',\r\n  },\r\n  buttonContainer3: {\r\n    position: 'absolute',\r\n    bottom: 50,\r\n    left: 0,\r\n    right: 0,\r\n    alignItems: 'center',\r\n  }, \r\n  button: {\r\n    width: 200,\r\n    backgroundColor: 'transparent',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 4,\r\n    paddingVertical: 4,\r\n    borderWidth: 1.5,\r\n    borderColor: '#fff',\r\n  },\r\n  buttonText: {\r\n    fontSize: 24,\r\n    color: '#fff',\r\n  },\r\n  buttonRond: {\r\n    width: 80,\r\n    height: 80,\r\n    backgroundColor: 'transparent',\r\n  \r\n    borderRadius: 80 / 2,\r\n    paddingVertical: 4,\r\n    borderWidth: 5,\r\n    borderColor: '#fff',\r\n  },\r\n  buttonBack: {\r\n\r\n  },\r\n  textBack: {\r\n    fontSize: 16,\r\n    color: '#fff',\r\n  },\r\n  loading_container: {\r\n    position: 'absolute',\r\n    zIndex: 10,\r\n    left: 0,\r\n    right: 0,\r\n    top: 100,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  }\r\n\r\n})\r\n\r\nconst mapStateToProps = (store) => {\r\n  return {\r\n    user: store.user,\r\n    contact: store.contact,\r\n    favorite: store.favorite,\r\n    second: store.second\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Test)"]},"metadata":{},"sourceType":"module"}