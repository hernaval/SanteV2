{"ast":null,"code":"import { IS_LOGGED, USER_INFO, MODIFY_USER, CONTACT_INFO, ADD_CONTACT, DELETE_CONTACT, FAVORITE_INFO, ADD_FAVORITE, DELETE_FAVORITE, SECOND_INFO, CHANGE_INDEX, DELETE_SECOND, CHANGE_PDP } from \"./action-type\";\nimport axios from \"axios\";\nimport Bdd from \"../API/Bdd\";\nexport function setAuthentification(isLoggedIn) {\n  return function (dispatch) {\n    dispatch({\n      type: IS_LOGGED,\n      payload: isLoggedIn\n    });\n  };\n}\nexport function userConnected(user) {\n  return function (dispatch) {\n    dispatch({\n      type: USER_INFO,\n      payload: user\n    });\n  };\n}\nexport function modifyUserInfo(userModif) {\n  return function (dispatch) {\n    var idUser = userModif.idUser;\n    axios.put(Bdd.api_url + \"/\" + idUser, userModif).then(function (user) {\n      dispatch({\n        type: MODIFY_USER,\n        payload: user\n      });\n    }).catch(function (err) {});\n  };\n}\nexport function ModifyPhoto(data) {\n  return function (dispatch) {\n    var idUser = data.idUser;\n    axios.put(Bdd.api_url + \"/\" + idUser + \"/pdp\", data).then(function (user) {\n      dispatch({\n        type: CHANGE_PDP,\n        payload: user\n      });\n    });\n  };\n}\nexport function deleteSecondProfil(idUser) {\n  return function (dispatch) {\n    axios.delete(Bdd.api_url_second + \"/\" + idUser).then(function (response) {\n      dispatch({\n        type: DELETE_SECOND,\n        payload: second\n      });\n    });\n  };\n}\nexport function setIndexSelected(index) {\n  return function (dispatch) {\n    dispatch({\n      type: CHANGE_INDEX,\n      payload: index\n    });\n  };\n}\nexport function setContactInfo(idUser) {\n  return function (dispatch) {\n    axios.post(Bdd.api_url + \"/contact/list?idUser=\" + idUser).then(function (contacts) {\n      dispatch({\n        type: CONTACT_INFO,\n        payload: contacts\n      });\n    }).catch(function (err) {});\n  };\n}\nexport function addContact(contact) {\n  return function (dispatch) {\n    axios.post(Bdd.api_url + \"/contact\", contact).then(function (contacts) {\n      dispatch({\n        type: ADD_CONTACT,\n        payload: contacts\n      });\n    }).catch(function (err) {});\n  };\n}\nexport function deleteContact(idContact) {\n  return function (dispatch) {\n    axios.delete(Bdd.api_url + \"/contact/\" + idContact).then(function (contacts) {\n      dispatch({\n        type: DELETE_CONTACT,\n        payload: contacts\n      });\n    }).catch(function (err) {});\n  };\n}\nexport function setFavoriteInfo(user_id) {\n  return function (dispatch) {\n    var data = {\n      user_id: user_id\n    };\n    axios.post(Bdd.api_url + '/api/favorite/all', data).then(function (favorites) {\n      dispatch({\n        type: FAVORITE_INFO,\n        payload: favorites\n      });\n    }).catch(function (err) {});\n  };\n}\nexport function addFavorite(favorite) {\n  return function (dispatch) {\n    axios.post(Bdd.api_url + '/api/favorite/add', favorite).then(function (favorites) {\n      dispatch({\n        type: ADD_FAVORITE,\n        payload: favorites\n      });\n    }).catch(function (err) {});\n  };\n}\nexport function deleteFavorite(favorite) {\n  return function (dispatch) {\n    axios.post(Bdd.api_url + '/api/favorite/delete', favorite).then(function (favorites) {\n      dispatch({\n        type: DELETE_FAVORITE,\n        payload: favorites\n      });\n    }).catch(function (err) {});\n  };\n}","map":{"version":3,"sources":["C:/Users/Stenny Gabriel/best4sante/Best4Sante/assets/Action/index.js"],"names":["IS_LOGGED","USER_INFO","MODIFY_USER","CONTACT_INFO","ADD_CONTACT","DELETE_CONTACT","FAVORITE_INFO","ADD_FAVORITE","DELETE_FAVORITE","SECOND_INFO","CHANGE_INDEX","DELETE_SECOND","CHANGE_PDP","axios","Bdd","setAuthentification","isLoggedIn","dispatch","type","payload","userConnected","user","modifyUserInfo","userModif","idUser","put","api_url","then","catch","err","ModifyPhoto","data","deleteSecondProfil","delete","api_url_second","response","second","setIndexSelected","index","setContactInfo","post","contacts","addContact","contact","deleteContact","idContact","setFavoriteInfo","user_id","favorites","addFavorite","favorite","deleteFavorite"],"mappings":"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","sourcesContent":["import { IS_LOGGED, USER_INFO, MODIFY_USER, CONTACT_INFO, ADD_CONTACT, DELETE_CONTACT, FAVORITE_INFO, ADD_FAVORITE, DELETE_FAVORITE, SECOND_INFO, CHANGE_INDEX, DELETE_SECOND, CHANGE_PDP } from './action-type';\r\nimport axios from \"axios\";\r\nimport Bdd from '../API/Bdd';\r\nexport function setAuthentification(isLoggedIn) {\r\n\treturn function (dispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: IS_LOGGED,\r\n\t\t\tpayload: isLoggedIn\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function userConnected(user) {\r\n\treturn function (dispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: USER_INFO,\r\n\t\t\tpayload: user\r\n\t\t})\r\n\t}\r\n}\r\n\r\n/* export function setUserInfo(token) {\r\n\treturn function(dispatch) {\r\n\t\taxios.get(config.api_url+'/current',{ headers: { 'x-access-token': token }} )\r\n\t\t.then((user)=>{\r\n\t\t\tconsole.log(user)\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: USER_INFO,\r\n\t\t\t\tpayload: user\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch((err)=>{\r\n\t\t\t//ole.log(err)\r\n\t\t})\r\n\t}\r\n} */\r\nexport function modifyUserInfo(userModif) {\r\n\r\n\treturn function (dispatch) {\r\n\t\tconst idUser = userModif.idUser\r\n\t\taxios.put(`${Bdd.api_url}/${idUser}`, userModif)\r\n\t\t\t.then((user) => {\r\n\t\t\t\t//ole.log('user', user);\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: MODIFY_USER,\r\n\t\t\t\t\tpayload: user\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t//ole.log(err)\r\n\t\t\t})\r\n\r\n\r\n\t}\r\n}\r\n\r\nexport function ModifyPhoto(data) {\r\n\treturn function (dispatch) {\r\n\t\tconst idUser = data.idUser\r\n\t\taxios.put(`${Bdd.api_url}/${idUser}/pdp`, data)\r\n\t\t\t.then(user => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: CHANGE_PDP,\r\n\t\t\t\t\tpayload: user\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t}\r\n\r\n}\r\n\r\nexport function deleteSecondProfil(idUser) {\r\n\treturn function (dispatch) {\r\n\t\t\r\n\t\taxios.delete(`${Bdd.api_url_second}/${idUser}`)\r\n\t\t\t.then(response => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: DELETE_SECOND,\r\n\t\t\t\t\tpayload: second\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t}\r\n}\r\n\r\nexport function setIndexSelected(index) {\r\n\treturn function (dispatch) {\r\n\t\tdispatch({\r\n\t\t\ttype: CHANGE_INDEX,\r\n\t\t\tpayload: index\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport function setContactInfo(idUser) {\r\n\treturn function (dispatch) {\r\n\t\t\r\n\r\n\t\taxios.post(`${Bdd.api_url}/contact/list?idUser=${idUser}`)\r\n\t\t\t.then((contacts) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: CONTACT_INFO,\r\n\t\t\t\t\tpayload: contacts\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t//ole.log(err)\r\n\t\t\t})\r\n\r\n\r\n\t}\r\n}\r\n\r\nexport function addContact(contact) {\r\n\treturn function (dispatch) {\r\n\t\taxios.post(`${Bdd.api_url}/contact`, contact)\r\n\t\t\t.then((contacts) => {\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: ADD_CONTACT,\r\n\t\t\t\t\tpayload: contacts\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t//ole.log(err)\r\n\t\t\t})\r\n\r\n\r\n\t}\r\n}\r\n\r\nexport function deleteContact(idContact) {\r\n\treturn function (dispatch) {\r\n\t\taxios.delete(`${Bdd.api_url}/contact/${idContact}`)\r\n\t\t\t.then((contacts) => {\r\n\t\t\t\t//ole.log(contacts);\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: DELETE_CONTACT,\r\n\t\t\t\t\tpayload: contacts\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t//ole.log(err)\r\n\t\t\t})\r\n\r\n\r\n\t}\r\n}\r\n\r\n export function setFavoriteInfo(user_id) {\r\n\treturn function (dispatch) {\r\n\t\tlet data = {\r\n\t\t\tuser_id: user_id,\r\n\t\t}\r\n\t\t//ole.log('declenchement  dispatch favorites')\r\n\t\taxios.post(Bdd.api_url + '/api/favorite/all', data)\r\n\t\t\t.then((favorites) => {\r\n\t\t\t\t//ole.log('declenchement favorites', favorites)\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: FAVORITE_INFO,\r\n\t\t\t\t\tpayload: favorites\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t//ole.log(err)\r\n\t\t\t})\r\n\r\n\r\n\t}\r\n} \r\n\r\n export function addFavorite(favorite) {\r\n\treturn function (dispatch) {\r\n\t\t//ole.log('dipatch add  dans action')\r\n\t\taxios.post(Bdd.api_url + '/api/favorite/add', favorite)\r\n\t\t\t.then((favorites) => {\r\n\t\t\t\t//ole.log('declenchement add  favorite ', favorites)\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: ADD_FAVORITE,\r\n\t\t\t\t\tpayload: favorites\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t//ole.log(err)\r\n\t\t\t})\r\n\r\n\r\n\t}\r\n}\r\n\r\nexport function deleteFavorite(favorite) {\r\n\t//ole.log('favorite arg', favorite)\r\n\treturn function (dispatch) {\r\n\t\t//ole.log('dipatch delete dans action favorite')\r\n\t\taxios.post(Bdd.api_url + '/api/favorite/delete', favorite)\r\n\t\t\t.then((favorites) => {\r\n\t\t\t\t//ole.log('declenchement delete favorite', favorites)\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: DELETE_FAVORITE,\r\n\t\t\t\t\tpayload: favorites\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\t//ole.log(err)\r\n\t\t\t})\r\n\r\n\r\n\t} \r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}