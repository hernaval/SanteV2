{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Projets\\\\Acadys\\\\best4sante\\\\SanteV2\\\\assets\\\\Screens\\\\Profiles\\\\MySante.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Card, Input, Avatar } from 'react-native-elements';\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport { connect } from 'react-redux';\nimport { deleteContact, modifyUserInfo, setIndexSelected, setSecondInfo } from \"../../Action\";\nimport * as firebase from 'firebase';\nimport * as Permissions from 'expo-permissions';\nimport * as ImagePicker from 'expo-image-picker';\nimport * as DocumentPicker from 'expo-document-picker';\nimport RadioForm from 'react-native-simple-radio-button';\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport axios from 'axios';\nimport Bdd from \"../../API/Bdd\";\nimport RNPickerSelect from 'react-native-picker-select';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\nimport { faAngleLeft, faFilePdf, faShareAlt as faShare } from '@fortawesome/free-solid-svg-icons';\nvar DEFAUTL_USER = 'https://www.nehome-groupe.fr/wp-content/uploads/2015/09/image-de-profil-2.jpg';\n\nvar MySante = function (_Component) {\n  _inherits(MySante, _Component);\n\n  var _super = _createSuper(MySante);\n\n  function MySante(props) {\n    var _this;\n\n    _classCallCheck(this, MySante);\n\n    _this = _super.call(this, props);\n\n    _this._pickPdf = function _callee() {\n      var result;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                allowsEditing: true,\n                mediaTypes: ImagePicker.MediaTypeOptions.All\n              }));\n\n            case 2:\n              result = _context.sent;\n\n              _this._handlePdfPicked(result);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._handlePdfPicked = function _callee2(pickerResult) {\n      var uploadUrl;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              uploadUrl = \"\";\n              _context2.prev = 1;\n\n              _this.setState({\n                isLoading: true\n              });\n\n              if (pickerResult.cancelled) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 6;\n              return _regeneratorRuntime.awrap(_this.uploadPdfAsync(pickerResult.uri));\n\n            case 6:\n              uploadUrl = _context2.sent;\n\n              _this.setState({\n                uri_pdf: uploadUrl\n              });\n\n            case 8:\n              _context2.next = 14;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.log(_context2.t0);\n              alert('Upload failed, sorry :(');\n\n            case 14:\n              _context2.prev = 14;\n\n              _this.setState({\n                isLoading: false\n              });\n\n              _this.setState({\n                photo_pdf: uploadUrl\n              });\n\n              return _context2.finish(14);\n\n            case 18:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[1, 10, 14, 18]], Promise);\n    };\n\n    _this.uploadPdfAsync = function _callee3(uri) {\n      var blob, id, ref, snapshot;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n\n                xhr.onload = function () {\n                  resolve(xhr.response);\n                };\n\n                xhr.onerror = function (e) {\n                  console.log(e);\n                  reject(new TypeError('Network request failed'));\n                };\n\n                xhr.responseType = 'blob';\n                xhr.open('GET', uri, true);\n                xhr.send(null);\n              }));\n\n            case 2:\n              blob = _context3.sent;\n              id = Math.random().toString();\n              ref = firebase.storage().ref().child(id);\n              _context3.next = 7;\n              return _regeneratorRuntime.awrap(ref.put(blob));\n\n            case 7:\n              snapshot = _context3.sent;\n              blob.close();\n              _context3.next = 11;\n              return _regeneratorRuntime.awrap(snapshot.ref.getDownloadURL());\n\n            case 11:\n              return _context3.abrupt(\"return\", _context3.sent);\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderHeader_1 = function () {\n      return React.createElement(View, {\n        style: styles.main_profil,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.under_main_profil_1,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 17\n        }\n      }, React.createElement(Avatar, {\n        size: 100,\n        rounded: true,\n        source: {\n          uri: _this.state.photoUri == null ? DEFAUTL_USER : _this.state.photoUri\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 21\n        }\n      })), React.createElement(View, {\n        style: styles.under_main_profil_2,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.text_under_main_profil_2,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 21\n        }\n      }, _this.props.user.user.nomUser, \"  \", _this.props.user.user.prenomUser), _this.state.weight != '' && React.createElement(Text, {\n        style: styles.descr_under_main_profil_2,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 25\n        }\n      }, _this.state.size, \" cm - \", _this.state.weight, \" kg - \", _this.state.blood)));\n    };\n\n    _this.state = {\n      isModifbegin: false,\n      isSelectedProfile: false,\n      id: null,\n      uri_pdf: null,\n      photo_pdf: 'vide',\n      name_pdf: 'Mon fichier pdf',\n      blood: '',\n      size: 0,\n      weight: 0,\n      donate: false,\n      secu: null,\n      idFiche: null,\n      photoUri: '',\n      medecin: '',\n      allergies: '',\n      traitement: '',\n      isMedicinExist: false,\n      isAllergieExist: false,\n      isTraitementExist: false,\n      isLoading: false,\n      isFirst: false,\n      ficheSante: {},\n      bloodAnnex: {\n        label: 'B+',\n        value: 2\n      }\n    };\n    _this.name_fichier = '';\n    _this.ref = firebase.firestore().collection('profile');\n    _this.handleBackButtonClick = _this.handleBackButtonClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(MySante, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      return _regeneratorRuntime.async(function componentDidMount$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              console.log('start loading fiche sante');\n              this.setState({\n                isLoading: true,\n                photoUri: this.props.user.user.imageUser,\n                id: this.props.user.user.idUser\n              });\n\n              if (this.props.navigation.state.params) {\n                if (this.props.navigation.state.params.profil !== undefined) {\n                  this.setState({\n                    photoUri: this.props.navigation.state.params.profil\n                  });\n                }\n              }\n\n              this.setState({\n                isLoading: false\n              });\n              _context4.next = 6;\n              return _regeneratorRuntime.awrap(this.getCameraPermissions());\n\n            case 6:\n              _context4.next = 8;\n              return _regeneratorRuntime.awrap(this.fetchSante());\n\n            case 8:\n              console.log('end loading fiche sante');\n\n            case 9:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      BackHandler.addEventListener('hardwareBackPress', this.handleBackButtonClick);\n      BackHandler.addEventListener('onOpen', this.fetchSante);\n    }\n  }, {\n    key: \"UNSAFE_componentWillUnmount\",\n    value: function UNSAFE_componentWillUnmount() {\n      BackHandler.removeEventListener('hardwareBackPress', this.handleBackButtonClick);\n      BackHandler.removeEventListener('onOpen', this.fetchSante);\n    }\n  }, {\n    key: \"handleBackButtonClick\",\n    value: function handleBackButtonClick() {\n      this.props.navigation.navigate('MyProfil', {\n        profil: this.state.photoUri\n      });\n      return true;\n    }\n  }, {\n    key: \"fetchSante\",\n    value: function fetchSante() {\n      var _this2 = this;\n\n      return _regeneratorRuntime.async(function fetchSante$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return _regeneratorRuntime.awrap(axios.get(Bdd.api_url + \"/fiche-sante/list?idUser=\" + this.state.id).then(function _callee4(res) {\n                var fiche;\n                return _regeneratorRuntime.async(function _callee4$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        _context5.next = 2;\n                        return _regeneratorRuntime.awrap(!res);\n\n                      case 2:\n                        if (!_context5.sent) {\n                          _context5.next = 6;\n                          break;\n                        }\n\n                        console.log('tena misy olana');\n                        _context5.next = 9;\n                        break;\n\n                      case 6:\n                        fiche = res.data.data;\n                        console.log('get fiche');\n                        if (res.data === null) _this2.setState({\n                          isFirst: true\n                        });else {\n                          _this2.setState({\n                            isFirst: false,\n                            blood: fiche.groupeSanguin,\n                            size: fiche.taille,\n                            weight: fiche.poids,\n                            medecin: fiche.medecinTraitant,\n                            secu: fiche.numSecu,\n                            donate: fiche.donnateur,\n                            idFiche: fiche.idFiche,\n                            allergies: fiche.allergies\n                          });\n                        }\n\n                      case 9:\n                      case \"end\":\n                        return _context5.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              }).catch(function (err) {\n                console.log('erreur fetch sante');\n                console.log(err);\n              }));\n\n            case 2:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"getCameraPermissions\",\n    value: function getCameraPermissions() {\n      var _await$Permissions$as, status;\n\n      return _regeneratorRuntime.async(function getCameraPermissions$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n            case 2:\n              _await$Permissions$as = _context7.sent;\n              status = _await$Permissions$as.status;\n\n              if (status !== 'granted') {\n                Alert('permission not granteed');\n                this.setState({\n                  rollGranted: false,\n                  cameraGranted: false\n                });\n              } else {\n                this.setState({\n                  rollGranted: true,\n                  cameraGranted: true\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"_pickImage\",\n    value: function _pickImage() {\n      var result;\n      return _regeneratorRuntime.async(function _pickImage$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              _context8.next = 2;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                allowsEditing: true,\n                base64: true,\n                quality: 0.5\n              }));\n\n            case 2:\n              result = _context8.sent;\n\n              if (!result.cancelled) {\n                _context8.next = 5;\n                break;\n              }\n\n              return _context8.abrupt(\"return\");\n\n            case 5:\n              this._handleImagePicked(result);\n\n            case 6:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"_handleImagePicked\",\n    value: function _handleImagePicked(pickerResult) {\n      var uploadUrl, data;\n      return _regeneratorRuntime.async(function _handleImagePicked$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              uploadUrl = '';\n              _context9.prev = 1;\n              this.setState({\n                isLoading: true\n              });\n\n              if (pickerResult.cancelled) {\n                _context9.next = 9;\n                break;\n              }\n\n              _context9.next = 6;\n              return _regeneratorRuntime.awrap(this.uploadImageAsync(pickerResult.uri));\n\n            case 6:\n              uploadUrl = _context9.sent;\n              data = {\n                imageUser: uploadUrl,\n                idUser: this.props.user.user.idUser\n              };\n              this.saveProfileImageInfo(data);\n\n            case 9:\n              _context9.next = 15;\n              break;\n\n            case 11:\n              _context9.prev = 11;\n              _context9.t0 = _context9[\"catch\"](1);\n              console.log(_context9.t0);\n              alert('Upload failed, sorry :(');\n\n            case 15:\n              _context9.prev = 15;\n              this.setState({\n                isLoading: false\n              });\n              this.setState({\n                photoUri: uploadUrl\n              });\n              return _context9.finish(15);\n\n            case 19:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, null, this, [[1, 11, 15, 19]], Promise);\n    }\n  }, {\n    key: \"saveProfileImageInfo\",\n    value: function saveProfileImageInfo(data) {\n      this.props.ModifyPhoto(data);\n    }\n  }, {\n    key: \"uploadImageAsync\",\n    value: function uploadImageAsync(uri) {\n      var blob, id, ref, snapshot;\n      return _regeneratorRuntime.async(function uploadImageAsync$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              _context10.next = 2;\n              return _regeneratorRuntime.awrap(new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n\n                xhr.onload = function () {\n                  resolve(xhr.response);\n                };\n\n                xhr.onerror = function (e) {\n                  console.log(e);\n                  reject(new TypeError('Network request failed'));\n                };\n\n                xhr.responseType = 'blob';\n                xhr.open('GET', uri, true);\n                xhr.send(null);\n              }));\n\n            case 2:\n              blob = _context10.sent;\n              id = Math.random().toString();\n              ref = firebase.storage().ref().child(id);\n              _context10.next = 7;\n              return _regeneratorRuntime.awrap(ref.put(blob));\n\n            case 7:\n              snapshot = _context10.sent;\n              blob.close();\n              _context10.next = 11;\n              return _regeneratorRuntime.awrap(snapshot.ref.getDownloadURL());\n\n            case 11:\n              return _context10.abrupt(\"return\", _context10.sent);\n\n            case 12:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n  }, {\n    key: \"takePdf\",\n    value: function takePdf() {\n      var result;\n      return _regeneratorRuntime.async(function takePdf$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              _context11.next = 2;\n              return _regeneratorRuntime.awrap(DocumentPicker.getDocumentAsync({\n                type: 'application/pdf',\n                copyToCacheDirectory: false\n              }));\n\n            case 2:\n              result = _context11.sent;\n              this.setState({\n                name_pdf: result.name.substring(0, 8)\n              });\n\n              this._handlePdfPicked(result);\n\n            case 5:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"shareLink\",\n    value: function shareLink() {\n      if (this.state.photo_pdf === 'vide') {\n        Alert.alert('Info', 'Veuillez choisir un fichier pdf', [{\n          text: 'OK',\n          onPress: function onPress() {}\n        }]);\n        return null;\n      }\n\n      var url = this.state.photo_pdf;\n      Share.share({\n        title: 'Fiche Santé',\n        message: url\n      }).then(Alert.alert('Succes', 'Fichier Partagé', [{\n        text: 'OK',\n        onPress: function onPress() {}\n      }])).catch(function (err) {\n        return Alert.alert('Echec', 'Erreur lors de partage de lien', [{\n          text: 'OK',\n          onPress: function onPress() {}\n        }]);\n      });\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.under,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 17\n        }\n      }, this.state.isModifbegin ? React.createElement(TouchableOpacity, {\n        style: {\n          padding: 10\n        },\n        onPress: function onPress() {\n          return _this3.setState({\n            isModifbegin: false\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 31\n        }\n      }, React.createElement(Text, {\n        style: styles.header,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 33\n        }\n      }, \"Annuler\")) : React.createElement(TouchableOpacity, {\n        style: {\n          flexDirection: 'row',\n          alignItems: 'center'\n        },\n        onPress: function onPress() {\n          return _this3.props.navigation.navigate('MyProfil');\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 31\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faAngleLeft,\n        color: \"white\",\n        size: 24,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 33\n        }\n      }), React.createElement(Text, {\n        style: styles.header,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 33\n        }\n      }, \"Profil\")), React.createElement(Text, {\n        style: styles.header,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 21\n        }\n      }, \"Ma Fiche Sant\\xE9\"), this.state.isModifbegin ? React.createElement(TouchableOpacity, {\n        style: {\n          padding: 10\n        },\n        onPress: function _callee5() {\n          return _regeneratorRuntime.async(function _callee5$(_context12) {\n            while (1) {\n              switch (_context12.prev = _context12.next) {\n                case 0:\n                  if (!(_this3.state.isFirst === true)) {\n                    _context12.next = 5;\n                    break;\n                  }\n\n                  _context12.next = 3;\n                  return _regeneratorRuntime.awrap(_this3.addFiche());\n\n                case 3:\n                  _context12.next = 7;\n                  break;\n\n                case 5:\n                  _context12.next = 7;\n                  return _regeneratorRuntime.awrap(_this3.modifFiche());\n\n                case 7:\n                  _context12.next = 9;\n                  return _regeneratorRuntime.awrap(_this3.addFiche());\n\n                case 9:\n                  _this3.setState({\n                    isModifbegin: false\n                  });\n\n                case 10:\n                case \"end\":\n                  return _context12.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 31\n        }\n      }, React.createElement(Text, {\n        style: styles.header,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 403,\n          columnNumber: 33\n        }\n      }, \"Enregistrer\")) : React.createElement(TouchableOpacity, {\n        style: {\n          padding: 10\n        },\n        onPress: function onPress() {\n          return _this3.setState({\n            isModifbegin: true\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 31\n        }\n      }, React.createElement(Text, {\n        style: styles.header,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 33\n        }\n      }, \"Modifier\"))), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 17\n        }\n      }, this.renderHeader_1()));\n    }\n  }, {\n    key: \"addFiche\",\n    value: function addFiche() {\n      var _this4 = this;\n\n      var data;\n      return _regeneratorRuntime.async(function addFiche$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              this.setState({\n                isLoading: true\n              });\n              data = {\n                idUser: this.props.user.user.idUser,\n                groupeSanguin: this.state.blood,\n                taille: this.state.size,\n                poids: this.state.weight,\n                donnateur: this.state.donate,\n                numSecu: this.state.secu,\n                medecinTraitant: this.state.medecin,\n                allergies: this.state.allergies\n              };\n              _context13.next = 4;\n              return _regeneratorRuntime.awrap(axios.post(Bdd.api_url + \"/fiche-sante\", data).then(function (_) {\n                _this4.setState({\n                  isModifbegin: false,\n                  isLoading: false\n                });\n              }).catch(function (err) {\n                return console.log(err);\n              }));\n\n            case 4:\n              this.setState({\n                isLoading: false\n              });\n\n            case 5:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"modifFiche\",\n    value: function modifFiche() {\n      var _this5 = this;\n\n      var userModified;\n      return _regeneratorRuntime.async(function modifFiche$(_context14) {\n        while (1) {\n          switch (_context14.prev = _context14.next) {\n            case 0:\n              console.log('begin Put fiche sante');\n              this.setState({\n                isLoading: true\n              });\n              userModified = {\n                groupeSanguin: this.state.blood,\n                taille: this.state.size,\n                poids: this.state.weight,\n                donnateur: this.state.donate,\n                numSecu: this.state.secu,\n                medecinTraitant: this.state.medecin,\n                allergies: this.state.allergies\n              };\n              console.log('----------');\n              _context14.next = 6;\n              return _regeneratorRuntime.awrap(axios.put(Bdd.api_url + \"/fiche-sante/\" + this.state.idFiche, userModified).then(function (res) {\n                console.log('Put fiche sante');\n\n                _this5.setState({\n                  isLoading: false,\n                  isModifbegin: false\n                });\n              }).catch(function (err) {\n                _this5.setState({\n                  isLoading: false,\n                  isModifbegin: false\n                });\n\n                console.log('erreur put fiche sante');\n                console.log(err);\n              }));\n\n            case 6:\n            case \"end\":\n              return _context14.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"createTaille\",\n    value: function createTaille() {\n      var taille = [];\n\n      for (var i = 50; i <= 210; i++) {\n        var item = {\n          label: i + ' cm',\n          value: i\n        };\n        taille.push(item);\n      }\n\n      return taille;\n    }\n  }, {\n    key: \"createPoids\",\n    value: function createPoids() {\n      var poids = [];\n\n      for (var i = 1; i <= 180; i++) {\n        var item = {\n          label: i + ' kg',\n          value: i\n        };\n        poids.push(item);\n      }\n\n      return poids;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var groupeSanguin = [{\n        label: 'A+',\n        value: 0\n      }, {\n        label: 'A-',\n        value: 1\n      }, {\n        label: 'B+',\n        value: 2\n      }, {\n        label: 'B-',\n        value: 3\n      }, {\n        label: 'AB+',\n        value: 4\n      }, {\n        label: 'AB-',\n        value: 5\n      }, {\n        label: 'O+',\n        value: 6\n      }, {\n        label: 'O-',\n        value: 7\n      }];\n      return React.createElement(ScrollView, {\n        style: styles.scroll,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 17\n        }\n      }, this.state.isLoading && React.createElement(View, {\n        style: styles.loading_container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 25\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 29\n        }\n      })), React.createElement(Card, {\n        containerStyle: styles.cardContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518,\n          columnNumber: 21\n        }\n      }, this.renderHeader()), React.createElement(View, {\n        style: styles.infoContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 523,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 29\n        }\n      }, \"Groupe Sanguin\"), this.state.isModifbegin ? React.createElement(RadioForm, {\n        formHorizontal: true,\n        labelHorizontal: false,\n        radio_props: groupeSanguin,\n        value: groupeSanguin[this.state.bloodAnnex],\n        initial: -1,\n        onPress: function onPress(value) {\n          return _this6.setState({\n            blood: groupeSanguin[value].label,\n            bloodAnnex: value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 39\n        }\n      }) : React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 39\n        }\n      }, this.state.blood)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 29\n        }\n      }, \"Taille\"), this.state.isModifbegin ? React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 39\n        }\n      }, React.createElement(RNPickerSelect, {\n        placeholder: {\n          label: 'Taille en cm'\n        },\n        value: this.state.size,\n        onValueChange: function onValueChange(value) {\n          return _this6.setState({\n            size: value\n          });\n        },\n        items: this.createTaille(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 545,\n          columnNumber: 41\n        }\n      })) : React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 39\n        }\n      }, this.state.size, \" cm\")), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 29\n        }\n      }, \"Poids\"), this.state.isModifbegin ? React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 39\n        }\n      }, React.createElement(RNPickerSelect, {\n        placeholder: {\n          label: 'Poids en kg'\n        },\n        value: this.state.weight,\n        onValueChange: function onValueChange(value) {\n          return _this6.setState({\n            weight: value\n          });\n        },\n        items: this.createPoids(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 41\n        }\n      })) : React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 39\n        }\n      }, this.state.weight, \" kg\")), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 579,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 29\n        }\n      }, \"Donneur d'organe\"), this.state.isModifbegin ? React.createElement(Switch, {\n        trackColor: {\n          false: '#767577',\n          true: '#81b0ff'\n        },\n        thumbColor: this.state.donate ? '#f5dd4b' : '#f4f3f4',\n        ios_backgroundColor: \"#3e3e3e\",\n        onValueChange: function onValueChange(value) {\n          if (value === true) _this6.setState({\n            donate: true\n          });else _this6.setState({\n            donate: false\n          });\n        },\n        value: this.state.donate,\n        style: styles.switch,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 39\n        }\n      }) : React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 39\n        }\n      }, this.state.donate === true ? 'OUI' : 'NON')), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 29\n        }\n      }, \"Num\\xE9ro d'assurance/ S\\xE9curit\\xE9 sociale\"), this.state.isModifbegin ? React.createElement(Input, {\n        keyboardType: 'numeric',\n        onChangeText: function onChangeText(text) {\n          return _this6.setState({\n            secu: text\n          });\n        },\n        value: this.state.secu,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 39\n        }\n      }) : React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 608,\n          columnNumber: 39\n        }\n      }, this.state.secu)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 614,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 29\n        }\n      }, \"M\\xE9decin traitant\"), this.state.isModifbegin ? React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this6.setState({\n            medecin: text\n          });\n        },\n        value: this.state.medecin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 39\n        }\n      }) : React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 39\n        }\n      }, this.state.medecin)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 628,\n          columnNumber: 29\n        }\n      }, \"Allergies\"), this.state.isModifbegin ? React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this6.setState({\n            allergies: text\n          });\n        },\n        value: this.state.allergies,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 39\n        }\n      }) : React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 39\n        }\n      }, this.state.allergies)), React.createElement(View, {\n        style: {\n          marginTop: 50\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 25\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          justifyContent: 'space-between'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 641,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: '#62c9c2'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 647,\n          columnNumber: 33\n        }\n      }, \"Mon Rapport Medical\"), React.createElement(TouchableOpacity, {\n        style: {\n          backgroundColor: '#0389c2',\n          padding: 5,\n          borderRadius: 5\n        },\n        onPress: function onPress() {\n          return _this6.takePdf();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 648,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 37\n        }\n      }, \"Ins\\xE9rer PDF\"))), React.createElement(View, {\n        style: {\n          marginTop: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 29\n        }\n      }, React.createElement(View, {\n        style: {\n          padding: 10,\n          borderWidth: 1,\n          borderColor: '#ddd',\n          borderBottomWidth: 0,\n          shadowColor: '#000',\n          shadowOffset: {\n            width: 0,\n            height: 2\n          },\n          shadowOpacity: 0.8,\n          shadowRadius: 2,\n          elevation: 1,\n          marginLeft: 5,\n          marginRight: 5,\n          marginTop: 10,\n          width: 150,\n          height: 50,\n          flexDirection: 'row',\n          justifyContent: 'space-around',\n          alignItems: 'center',\n          borderRadius: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 660,\n          columnNumber: 33\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faFilePdf,\n        color: \"#518cb4\",\n        size: 20,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 37\n        }\n      }), React.createElement(Text, {\n        style: {\n          color: '#518cb4'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 37\n        }\n      }, this.state.name_pdf))), React.createElement(View, {\n        style: {\n          marginTop: 20,\n          marginBottom: 20,\n          marginRight: 50\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 693,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 33\n        }\n      }, \"Partagez en toute s\\xE9curit\\xE9 avec votre m\\xE9decin, coach ou famille votre rapport m\\xE9dical\")), React.createElement(TouchableOpacity, {\n        style: {\n          backgroundColor: '#0389c2',\n          padding: 10,\n          borderRadius: 5,\n          flexDirection: 'row',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        onPress: function onPress() {\n          return _this6.shareLink();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 29\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faShare,\n        color: \"#eee\",\n        size: 20,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 716,\n          columnNumber: 33\n        }\n      }), React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 33\n        }\n      }, \"  \"), React.createElement(Text, {\n        style: {\n          color: 'white',\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 33\n        }\n      }, \"Partagez Maintenant\"))))));\n    }\n  }]);\n\n  return MySante;\n}(Component);\n\nvar styles = StyleSheet.create({\n  main_profil: {\n    flex: 1,\n    flexDirection: 'row',\n    marginTop: 27,\n    marginLeft: 20,\n    marginBottom: 35\n  },\n  under_main_profil_1: {\n    flex: 1\n  },\n  under_main_profil_2: {\n    flex: 4,\n    paddingLeft: 45\n  },\n  text_under_main_profil_2: {\n    fontSize: 28,\n    fontWeight: '200',\n    paddingTop: 7\n  },\n  descr_under_main_profil_2: {\n    fontSize: 17,\n    paddingTop: 17\n  },\n  btn_photo: {\n    flex: 1,\n    paddingTop: 70,\n    paddingLeft: 5\n  },\n  img_profil: {\n    width: 200\n  },\n  infoContainer: {\n    padding: 20\n  },\n  labelText: {\n    fontWeight: 'bold',\n    fontSize: 16,\n    color: '#999'\n  },\n  labelValue: {\n    color: '#000',\n    fontSize: 16,\n    borderBottomWidth: 1,\n    paddingBottom: 5,\n    paddingTop: 10,\n    paddingLeft: 5,\n    marginBottom: 5\n  },\n  actionBtn: {\n    position: 'relative',\n    top: -10,\n    zIndex: 99999,\n    paddingLeft: 5,\n    paddingRight: 5\n  },\n  slider: {\n    width: wp('80%'),\n    marginTop: hp('1%'),\n    color: '#008AC8'\n  },\n  choiceItem: {\n    backgroundColor: 'white',\n    padding: 10,\n    margin: 10,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  cardContainer: {\n    backgroundColor: '#FFF',\n    borderWidth: 0,\n    flex: 1,\n    margin: 0,\n    padding: 0\n  },\n  container: {\n    flex: 1,\n    paddingBottom: 50\n  },\n  emailContainer: {\n    backgroundColor: '#FFF',\n    flex: 1,\n    paddingTop: 30\n  },\n  headerBackgroundImage: {\n    paddingLeft: 20,\n    paddingBottom: 20,\n    paddingTop: 35\n  },\n  headerColumn: {\n    flexDirection: 'row'\n  },\n  placeIcon: {\n    color: 'white',\n    fontSize: 26\n  },\n  scroll: {\n    backgroundColor: '#FFF'\n  },\n  telContainer: {\n    backgroundColor: '#FFF',\n    flex: 1,\n    paddingTop: 30\n  },\n  userAddressRow: {\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  userCityRow: {\n    backgroundColor: 'transparent'\n  },\n  userCityText: {\n    color: '#A5A5A5',\n    fontSize: 15,\n    fontWeight: '600',\n    textAlign: 'center'\n  },\n  userImage: {\n    width: 100,\n    height: 100,\n    borderRadius: 100,\n    backgroundColor: '#01C89E',\n    marginBottom: 15\n  },\n  userNameText: {\n    color: '#000',\n    fontSize: 30,\n    fontWeight: 'bold',\n    paddingBottom: 8,\n    textAlign: 'center',\n    marginLeft: 10\n  },\n  loading_container: {\n    position: 'absolute',\n    zIndex: 10,\n    left: 0,\n    right: 0,\n    top: 100,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  switch: {\n    marginTop: -24,\n    marginBottom: 10\n  },\n  under: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    paddingTop: 30,\n    padding: 10,\n    width: wp('100%'),\n    height: hp(\"13%\"),\n    backgroundColor: \"#00C1B4\"\n  },\n  header: {\n    color: 'white',\n    fontSize: 18\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    user: store.user\n  };\n};\n\nvar mapDispatchToProps = {\n  deleteContact: deleteContact,\n  modifyUserInfo: modifyUserInfo,\n  setSecondInfo: setSecondInfo,\n  setIndexSelected: setIndexSelected\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(MySante);","map":{"version":3,"sources":["E:/Projets/Acadys/best4sante/SanteV2/assets/Screens/Profiles/MySante.js"],"names":["React","Component","Card","Input","Avatar","connect","deleteContact","modifyUserInfo","setIndexSelected","setSecondInfo","firebase","Permissions","ImagePicker","DocumentPicker","RadioForm","widthPercentageToDP","wp","heightPercentageToDP","hp","axios","Bdd","RNPickerSelect","TouchableOpacity","FontAwesomeIcon","faAngleLeft","faFilePdf","faShareAlt","faShare","DEFAUTL_USER","MySante","props","_pickPdf","launchImageLibraryAsync","allowsEditing","mediaTypes","MediaTypeOptions","All","result","_handlePdfPicked","pickerResult","uploadUrl","setState","isLoading","cancelled","uploadPdfAsync","uri","uri_pdf","console","log","alert","photo_pdf","Promise","resolve","reject","xhr","XMLHttpRequest","onload","response","onerror","e","TypeError","responseType","open","send","blob","id","Math","random","toString","ref","storage","child","put","snapshot","close","getDownloadURL","renderHeader_1","styles","main_profil","under_main_profil_1","state","photoUri","under_main_profil_2","text_under_main_profil_2","user","nomUser","prenomUser","weight","descr_under_main_profil_2","size","blood","isModifbegin","isSelectedProfile","name_pdf","donate","secu","idFiche","medecin","allergies","traitement","isMedicinExist","isAllergieExist","isTraitementExist","isFirst","ficheSante","bloodAnnex","label","value","name_fichier","firestore","collection","handleBackButtonClick","bind","imageUser","idUser","navigation","params","profil","undefined","getCameraPermissions","fetchSante","BackHandler","addEventListener","removeEventListener","navigate","get","api_url","then","res","fiche","data","groupeSanguin","taille","poids","medecinTraitant","numSecu","donnateur","catch","err","askAsync","CAMERA_ROLL","status","Alert","rollGranted","cameraGranted","base64","quality","_handleImagePicked","uploadImageAsync","saveProfileImageInfo","ModifyPhoto","getDocumentAsync","type","copyToCacheDirectory","name","substring","text","onPress","url","Share","share","title","message","under","padding","header","flexDirection","alignItems","addFiche","modifFiche","post","_","userModified","i","item","push","scroll","container","loading_container","cardContainer","renderHeader","infoContainer","labelText","labelValue","createTaille","createPoids","false","true","switch","marginTop","justifyContent","color","backgroundColor","borderRadius","takePdf","borderWidth","borderColor","borderBottomWidth","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","marginLeft","marginRight","marginBottom","shareLink","textAlign","StyleSheet","create","flex","paddingLeft","fontSize","fontWeight","paddingTop","btn_photo","img_profil","paddingBottom","actionBtn","position","top","zIndex","paddingRight","slider","choiceItem","margin","emailContainer","headerBackgroundImage","headerColumn","placeIcon","telContainer","userAddressRow","userCityRow","userCityText","userImage","userNameText","left","right","bottom","mapStateToProps","store","mapDispatchToProps"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,MAAtB,QAAoC,uBAApC;;;;;;;;;;;AAcA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,aAAT,EAAwBC,cAAxB,EAAwCC,gBAAxC,EAA0DC,aAA1D;AAGA,OAAO,KAAKC,QAAZ,MAA0B,UAA1B;AACA,OAAO,KAAKC,WAAZ,MAA6B,kBAA7B;AACA,OAAO,KAAKC,WAAZ,MAA6B,mBAA7B;AACA,OAAO,KAAKC,cAAZ,MAAgC,sBAAhC;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,SACIC,mBAAmB,IAAIC,EAD3B,EAEIC,oBAAoB,IAAIC,EAF5B,QAGO,gCAHP;AAIA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,SAASC,gBAAT,QAAiC,8BAAjC;AACA,SAASC,eAAT,QAAgC,uCAAhC;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,UAAU,IAAIC,OAA/C,QAA8D,mCAA9D;AACA,IAAMC,YAAY,GAAG,+EAArB;;IAEMC,O;;;;;AACF,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8BAAMA,KAAN;;AADe,UAiNnBC,QAjNmB,GAiNR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACYnB,WAAW,CAACoB,uBAAZ,CAAoC;AACnDC,gBAAAA,aAAa,EAAE,IADoC;AAEnDC,gBAAAA,UAAU,EAAEtB,WAAW,CAACuB,gBAAZ,CAA6BC;AAFU,eAApC,CADZ;;AAAA;AACHC,cAAAA,MADG;;AAQP,oBAAKC,gBAAL,CAAsBD,MAAtB;;AARO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAjNQ;;AAAA,UA4NnBC,gBA5NmB,GA4NA,kBAAMC,YAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACXC,cAAAA,SADW,GACC,EADD;AAAA;;AAGX,oBAAKC,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AAHW,kBAKNH,YAAY,CAACI,SALP;AAAA;AAAA;AAAA;;AAAA;AAAA,+CAMW,MAAKC,cAAL,CAAoBL,YAAY,CAACM,GAAjC,CANX;;AAAA;AAMPL,cAAAA,SANO;;AAOP,oBAAKC,QAAL,CAAc;AAAEK,gBAAAA,OAAO,EAAEN;AAAX,eAAd;;AAPO;AAAA;AAAA;;AAAA;AAAA;AAAA;AAWXO,cAAAA,OAAO,CAACC,GAAR;AACAC,cAAAA,KAAK,CAAC,yBAAD,CAAL;;AAZW;AAAA;;AAcX,oBAAKR,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AAEA,oBAAKD,QAAL,CAAc;AAAES,gBAAAA,SAAS,EAAEV;AAAb,eAAd;;AAhBW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KA5NA;;AAAA,UAiPnBI,cAjPmB,GAiPF,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAGM,IAAIM,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAChD,oBAAMC,GAAG,GAAG,IAAIC,cAAJ,EAAZ;;AACAD,gBAAAA,GAAG,CAACE,MAAJ,GAAa,YAAY;AACrBJ,kBAAAA,OAAO,CAACE,GAAG,CAACG,QAAL,CAAP;AACH,iBAFD;;AAGAH,gBAAAA,GAAG,CAACI,OAAJ,GAAc,UAAUC,CAAV,EAAa;AACvBZ,kBAAAA,OAAO,CAACC,GAAR,CAAYW,CAAZ;AACAN,kBAAAA,MAAM,CAAC,IAAIO,SAAJ,CAAc,wBAAd,CAAD,CAAN;AACH,iBAHD;;AAKAN,gBAAAA,GAAG,CAACO,YAAJ,GAAmB,MAAnB;AACAP,gBAAAA,GAAG,CAACQ,IAAJ,CAAS,KAAT,EAAgBjB,GAAhB,EAAqB,IAArB;AACAS,gBAAAA,GAAG,CAACS,IAAJ,CAAS,IAAT;AACH,eAbkB,CAHN;;AAAA;AAGPC,cAAAA,IAHO;AAiBPC,cAAAA,EAjBO,GAiBFC,IAAI,CAACC,MAAL,GAAcC,QAAd,EAjBE;AAkBPC,cAAAA,GAlBO,GAkBD3D,QAAQ,CACf4D,OADO,GAEPD,GAFO,GAGPE,KAHO,CAGDN,EAHC,CAlBC;AAAA;AAAA,+CAsBUI,GAAG,CAACG,GAAJ,CAAQR,IAAR,CAtBV;;AAAA;AAsBPS,cAAAA,QAtBO;AAyBbT,cAAAA,IAAI,CAACU,KAAL;AAzBa;AAAA,+CA2BAD,QAAQ,CAACJ,GAAT,CAAaM,cAAb,EA3BA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAjPE;;AAAA,UA2SnBC,cA3SmB,GA2SF,YAAM;AAEnB,aACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEC,MAAM,CAACC,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACE,mBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,MAAD;AACI,QAAA,IAAI,EAAE,GADV;AAEI,QAAA,OAAO,MAFX;AAGI,QAAA,MAAM,EAAE;AAAElC,UAAAA,GAAG,EAAE,MAAKmC,KAAL,CAAWC,QAAX,IAAuB,IAAvB,GAA8BrD,YAA9B,GAA6C,MAAKoD,KAAL,CAAWC;AAA/D,SAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,EASI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEJ,MAAM,CAACK,mBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEL,MAAM,CAACM,wBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA+C,MAAKrD,KAAL,CAAWsD,IAAX,CAAgBA,IAAhB,CAAqBC,OAApE,EAA6E,IAA7E,EAAmF,MAAKvD,KAAL,CAAWsD,IAAX,CAAgBA,IAAhB,CAAqBE,UAAxG,CADJ,EAEK,MAAKN,KAAL,CAAWO,MAAX,IAAqB,EAArB,IACG,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEV,MAAM,CAACW,yBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,MAAKR,KAAL,CAAWS,IADhB,YAC4B,MAAKT,KAAL,CAAWO,MADvC,YACqD,MAAKP,KAAL,CAAWU,KADhE,CAHR,CATJ,CADJ;AAqBH,KAlUkB;;AAEf,UAAKV,KAAL,GAAa;AACTW,MAAAA,YAAY,EAAE,KADL;AAETC,MAAAA,iBAAiB,EAAE,KAFV;AAGT3B,MAAAA,EAAE,EAAE,IAHK;AAITnB,MAAAA,OAAO,EAAE,IAJA;AAKTI,MAAAA,SAAS,EAAE,MALF;AAMT2C,MAAAA,QAAQ,EAAE,iBAND;AAOTH,MAAAA,KAAK,EAAE,EAPE;AAQTD,MAAAA,IAAI,EAAE,CARG;AASTF,MAAAA,MAAM,EAAE,CATC;AAUTO,MAAAA,MAAM,EAAE,KAVC;AAWTC,MAAAA,IAAI,EAAE,IAXG;AAYTC,MAAAA,OAAO,EAAE,IAZA;AAcTf,MAAAA,QAAQ,EAAE,EAdD;AAgBTgB,MAAAA,OAAO,EAAE,EAhBA;AAiBTC,MAAAA,SAAS,EAAE,EAjBF;AAkBTC,MAAAA,UAAU,EAAE,EAlBH;AAoBTC,MAAAA,cAAc,EAAE,KApBP;AAqBTC,MAAAA,eAAe,EAAE,KArBR;AAsBTC,MAAAA,iBAAiB,EAAE,KAtBV;AAwBT5D,MAAAA,SAAS,EAAE,KAxBF;AA0BT6D,MAAAA,OAAO,EAAE,KA1BA;AA2BTC,MAAAA,UAAU,EAAE,EA3BH;AA4BTC,MAAAA,UAAU,EAAE;AAAEC,QAAAA,KAAK,EAAE,IAAT;AAAeC,QAAAA,KAAK,EAAE;AAAtB;AA5BH,KAAb;AA+BA,UAAKC,YAAL,GAAoB,EAApB;AACA,UAAKvC,GAAL,GAAW3D,QAAQ,CAACmG,SAAT,GAAqBC,UAArB,CAAgC,SAAhC,CAAX;AACA,UAAKC,qBAAL,GAA6B,MAAKA,qBAAL,CAA2BC,IAA3B,+BAA7B;AAnCe;AAoClB;;;;;;;;;AAGGjE,cAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACA,mBAAKP,QAAL,CAAc;AACVC,gBAAAA,SAAS,EAAE,IADD;AAEVuC,gBAAAA,QAAQ,EAAE,KAAKnD,KAAL,CAAWsD,IAAX,CAAgBA,IAAhB,CAAqB6B,SAFrB;AAGVhD,gBAAAA,EAAE,EAAE,KAAKnC,KAAL,CAAWsD,IAAX,CAAgBA,IAAhB,CAAqB8B;AAHf,eAAd;;AAMA,kBAAI,KAAKpF,KAAL,CAAWqF,UAAX,CAAsBnC,KAAtB,CAA4BoC,MAAhC,EAAwC;AACpC,oBAAI,KAAKtF,KAAL,CAAWqF,UAAX,CAAsBnC,KAAtB,CAA4BoC,MAA5B,CAAmCC,MAAnC,KAA8CC,SAAlD,EAA6D;AACzD,uBAAK7E,QAAL,CAAc;AAAEwC,oBAAAA,QAAQ,EAAE,KAAKnD,KAAL,CAAWqF,UAAX,CAAsBnC,KAAtB,CAA4BoC,MAA5B,CAAmCC;AAA/C,mBAAd;AACH;AACJ;;AAED,mBAAK5E,QAAL,CAAc;AACVC,gBAAAA,SAAS,EAAE;AADD,eAAd;;+CAGM,KAAK6E,oBAAL,E;;;;+CAEA,KAAKC,UAAL,E;;;AACNzE,cAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;;;;;;;;;;;yCAGiB;AACjByE,MAAAA,WAAW,CAACC,gBAAZ,CAA6B,mBAA7B,EAAkD,KAAKX,qBAAvD;AACAU,MAAAA,WAAW,CAACC,gBAAZ,CAA6B,QAA7B,EAAuC,KAAKF,UAA5C;AACH;;;kDAE6B;AAC1BC,MAAAA,WAAW,CAACE,mBAAZ,CAAgC,mBAAhC,EAAqD,KAAKZ,qBAA1D;AACAU,MAAAA,WAAW,CAACE,mBAAZ,CAAgC,QAAhC,EAA0C,KAAKH,UAA/C;AACH;;;4CAEuB;AACpB,WAAK1F,KAAL,CAAWqF,UAAX,CAAsBS,QAAtB,CAA+B,UAA/B,EAA2C;AAAEP,QAAAA,MAAM,EAAE,KAAKrC,KAAL,CAAWC;AAArB,OAA3C;AACA,aAAO,IAAP;AACH;;;;;;;;;;;+CAGS9D,KAAK,CAAC0G,GAAN,CAAazG,GAAG,CAAC0G,OAAjB,iCAAoD,KAAK9C,KAAL,CAAWf,EAA/D,EACD8D,IADC,CACI,kBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yDACQ,CAACA,GADT;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEEjF,wBAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AAFF;AAAA;;AAAA;AAIQiF,wBAAAA,KAJR,GAIgBD,GAAG,CAACE,IAAJ,CAASA,IAJzB;AAKEnF,wBAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AAEA,4BAAIgF,GAAG,CAACE,IAAJ,KAAa,IAAjB,EAAuB,MAAI,CAACzF,QAAL,CAAc;AAAE8D,0BAAAA,OAAO,EAAE;AAAX,yBAAd,EAAvB,KACK;AACD,0BAAA,MAAI,CAAC9D,QAAL,CAAc;AACV8D,4BAAAA,OAAO,EAAE,KADC;AAEVb,4BAAAA,KAAK,EAAEuC,KAAK,CAACE,aAFH;AAGV1C,4BAAAA,IAAI,EAAEwC,KAAK,CAACG,MAHF;AAIV7C,4BAAAA,MAAM,EAAE0C,KAAK,CAACI,KAJJ;AAKVpC,4BAAAA,OAAO,EAAEgC,KAAK,CAACK,eALL;AAMVvC,4BAAAA,IAAI,EAAEkC,KAAK,CAACM,OANF;AAOVzC,4BAAAA,MAAM,EAAEmC,KAAK,CAACO,SAPJ;AAQVxC,4BAAAA,OAAO,EAAEiC,KAAK,CAACjC,OARL;AASVE,4BAAAA,SAAS,EAAE+B,KAAK,CAAC/B;AATP,2BAAd;AAWH;;AApBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAwBDuC,KAxBC,CAwBK,UAAAC,GAAG,EAAI;AACV3F,gBAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAD,gBAAAA,OAAO,CAACC,GAAR,CAAY0F,GAAZ;AACH,eA3BC,C;;;;;;;;;;;;;;;;;;;+CA+BmB/H,WAAW,CAACgI,QAAZ,CAAqBhI,WAAW,CAACiI,WAAjC,C;;;;AAAjBC,cAAAA,M,yBAAAA,M;;AACR,kBAAIA,MAAM,KAAK,SAAf,EAA0B;AACtBC,gBAAAA,KAAK,CAAC,yBAAD,CAAL;AACA,qBAAKrG,QAAL,CAAc;AACVsG,kBAAAA,WAAW,EAAE,KADH;AAEVC,kBAAAA,aAAa,EAAE;AAFL,iBAAd;AAIH,eAND,MAMO;AACH,qBAAKvG,QAAL,CAAc;AACVsG,kBAAAA,WAAW,EAAE,IADH;AAEVC,kBAAAA,aAAa,EAAE;AAFL,iBAAd;AAIH;;;;;;;;;;;;;;;;;;+CAKoBpI,WAAW,CAACoB,uBAAZ,CAAoC;AACrDC,gBAAAA,aAAa,EAAE,IADsC;AAErDgH,gBAAAA,MAAM,EAAE,IAF6C;AAGrDC,gBAAAA,OAAO,EAAE;AAH4C,eAApC,C;;;AAAf7G,cAAAA,M;;mBAMFA,MAAM,CAACM,S;;;;;;;;AAIX,mBAAKwG,kBAAL,CAAwB9G,MAAxB;;;;;;;;;;;uCAGqBE,Y;;;;;;AACjBC,cAAAA,S,GAAY,E;;AAEZ,mBAAKC,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;;kBAEKH,YAAY,CAACI,S;;;;;;+CACI,KAAKyG,gBAAL,CAAsB7G,YAAY,CAACM,GAAnC,C;;;AAAlBL,cAAAA,S;AACM0F,cAAAA,I,GAAO;AACTjB,gBAAAA,SAAS,EAAEzE,SADF;AAET0E,gBAAAA,MAAM,EAAE,KAAKpF,KAAL,CAAWsD,IAAX,CAAgBA,IAAhB,CAAqB8B;AAFpB,e;AAIb,mBAAKmC,oBAAL,CAA0BnB,IAA1B;;;;;;;;;AAGJnF,cAAAA,OAAO,CAACC,GAAR;AACAC,cAAAA,KAAK,CAAC,yBAAD,CAAL;;;;AAEA,mBAAKR,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;AAEA,mBAAKD,QAAL,CAAc;AAAEwC,gBAAAA,QAAQ,EAAEzC;AAAZ,eAAd;;;;;;;;;;;;yCAIa0F,I,EAAM;AACvB,WAAKpG,KAAL,CAAWwH,WAAX,CAAuBpB,IAAvB;AACH;;;qCAEsBrF,G;;;;;;;+CAGA,IAAIM,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAChD,oBAAMC,GAAG,GAAG,IAAIC,cAAJ,EAAZ;;AACAD,gBAAAA,GAAG,CAACE,MAAJ,GAAa,YAAY;AACrBJ,kBAAAA,OAAO,CAACE,GAAG,CAACG,QAAL,CAAP;AACH,iBAFD;;AAGAH,gBAAAA,GAAG,CAACI,OAAJ,GAAc,UAAUC,CAAV,EAAa;AACvBZ,kBAAAA,OAAO,CAACC,GAAR,CAAYW,CAAZ;AACAN,kBAAAA,MAAM,CAAC,IAAIO,SAAJ,CAAc,wBAAd,CAAD,CAAN;AACH,iBAHD;;AAIAN,gBAAAA,GAAG,CAACO,YAAJ,GAAmB,MAAnB;AACAP,gBAAAA,GAAG,CAACQ,IAAJ,CAAS,KAAT,EAAgBjB,GAAhB,EAAqB,IAArB;AACAS,gBAAAA,GAAG,CAACS,IAAJ,CAAS,IAAT;AACH,eAZkB,C;;;AAAbC,cAAAA,I;AAaAC,cAAAA,E,GAAKC,IAAI,CAACC,MAAL,GAAcC,QAAd,E;AACLC,cAAAA,G,GAAM3D,QAAQ,CACf4D,OADO,GAEPD,GAFO,GAGPE,KAHO,CAGDN,EAHC,C;;+CAIWI,GAAG,CAACG,GAAJ,CAAQR,IAAR,C;;;AAAjBS,cAAAA,Q;AAGNT,cAAAA,IAAI,CAACU,KAAL;;+CAEaD,QAAQ,CAACJ,GAAT,CAAaM,cAAb,E;;;;;;;;;;;;;;;;;;;;;+CAIM9D,cAAc,CAAC0I,gBAAf,CAAgC;AAC/CC,gBAAAA,IAAI,EAAE,iBADyC;AAE/CC,gBAAAA,oBAAoB,EAAE;AAFyB,eAAhC,C;;;AAAfpH,cAAAA,M;AAQJ,mBAAKI,QAAL,CAAc;AACVoD,gBAAAA,QAAQ,EAAExD,MAAM,CAACqH,IAAP,CAAYC,SAAZ,CAAsB,CAAtB,EAAyB,CAAzB;AADA,eAAd;;AAGA,mBAAKrH,gBAAL,CAAsBD,MAAtB;;;;;;;;;;;gCAiEQ;AACR,UAAI,KAAK2C,KAAL,CAAW9B,SAAX,KAAyB,MAA7B,EAAqC;AACjC4F,QAAAA,KAAK,CAAC7F,KAAN,CAAY,MAAZ,EAAoB,iCAApB,EAAuD,CACnD;AACI2G,UAAAA,IAAI,EAAE,IADV;AAEIC,UAAAA,OAAO,EAAE,mBAAM,CAAG;AAFtB,SADmD,CAAvD;AAMA,eAAO,IAAP;AACH;;AACD,UAAMC,GAAG,GAAG,KAAK9E,KAAL,CAAW9B,SAAvB;AACA6G,MAAAA,KAAK,CAACC,KAAN,CAAY;AAAEC,QAAAA,KAAK,EAAE,aAAT;AAAwBC,QAAAA,OAAO,EAAEJ;AAAjC,OAAZ,EAAoD/B,IAApD,CACIe,KAAK,CAAC7F,KAAN,CAAY,QAAZ,EAAsB,iBAAtB,EAAyC,CACrC;AACI2G,QAAAA,IAAI,EAAE,IADV;AAEIC,QAAAA,OAAO,EAAE,mBAAM,CAAG;AAFtB,OADqC,CAAzC,CADJ,EAOEpB,KAPF,CAQI,UAAAC,GAAG;AAAA,eAAII,KAAK,CAAC7F,KAAN,CAAY,OAAZ,EAAqB,gCAArB,EAAuD,CAC1D;AACI2G,UAAAA,IAAI,EAAE,IADV;AAEIC,UAAAA,OAAO,EAAE,mBAAM,CAAG;AAFtB,SAD0D,CAAvD,CAAJ;AAAA,OARP;AAeH;;;mCA2Bc;AAAA;;AACX,aACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEhF,MAAM,CAACsF,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEQ,KAAKnF,KAAL,CAAWW,YAAX,GACM,oBAAC,gBAAD;AACE,QAAA,KAAK,EAAE;AAAEyE,UAAAA,OAAO,EAAE;AAAX,SADT;AAEE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAC3H,QAAL,CAAc;AAAEkD,YAAAA,YAAY,EAAE;AAAhB,WAAd,CAAN;AAAA,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEd,MAAM,CAACwF,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHF,CADN,GAMM,oBAAC,gBAAD;AACE,QAAA,KAAK,EAAE;AAAEC,UAAAA,aAAa,EAAE,KAAjB;AAAwBC,UAAAA,UAAU,EAAE;AAApC,SADT;AAEE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACzI,KAAL,CAAWqF,UAAX,CAAsBS,QAAtB,CAA+B,UAA/B,CAAN;AAAA,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGE,oBAAC,eAAD;AACI,QAAA,IAAI,EAAEpG,WADV;AAEI,QAAA,KAAK,EAAC,OAFV;AAGI,QAAA,IAAI,EAAE,EAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAQE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEqD,MAAM,CAACwF,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARF,CARd,EAmBI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAExF,MAAM,CAACwF,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAnBJ,EAqBQ,KAAKrF,KAAL,CAAWW,YAAX,GACM,oBAAC,gBAAD;AACE,QAAA,KAAK,EAAE;AAAEyE,UAAAA,OAAO,EAAE;AAAX,SADT;AAEE,QAAA,OAAO,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA,wBACD,MAAI,CAACpF,KAAL,CAAWuB,OAAX,KAAuB,IADtB;AAAA;AAAA;AAAA;;AAAA;AAAA,mDAEK,MAAI,CAACiE,QAAL,EAFL;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,mDAIK,MAAI,CAACC,UAAL,EAJL;;AAAA;AAAA;AAAA,mDAMC,MAAI,CAACD,QAAL,EAND;;AAAA;AAOL,kBAAA,MAAI,CAAC/H,QAAL,CAAc;AAAEkD,oBAAAA,YAAY,EAAE;AAAhB,mBAAd;;AAPK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAgBE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEd,MAAM,CAACwF,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAhBF,CADN,GAmBM,oBAAC,gBAAD;AACE,QAAA,KAAK,EAAE;AAAED,UAAAA,OAAO,EAAE;AAAX,SADT;AAEE,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAAC3H,QAAL,CAAc;AAAEkD,YAAAA,YAAY,EAAE;AAAhB,WAAd,CAAN;AAAA,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAGE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEd,MAAM,CAACwF,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,CAxCd,CADJ,EAmDI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKzF,cAAL,EADL,CAnDJ,CADJ;AAyDH;;;;;;;;;;;AAGG,mBAAKnC,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;AACMwF,cAAAA,I,GAAO;AACThB,gBAAAA,MAAM,EAAE,KAAKpF,KAAL,CAAWsD,IAAX,CAAgBA,IAAhB,CAAqB8B,MADpB;AAETiB,gBAAAA,aAAa,EAAE,KAAKnD,KAAL,CAAWU,KAFjB;AAGT0C,gBAAAA,MAAM,EAAE,KAAKpD,KAAL,CAAWS,IAHV;AAIT4C,gBAAAA,KAAK,EAAE,KAAKrD,KAAL,CAAWO,MAJT;AAKTiD,gBAAAA,SAAS,EAAE,KAAKxD,KAAL,CAAWc,MALb;AAMTyC,gBAAAA,OAAO,EAAE,KAAKvD,KAAL,CAAWe,IANX;AAOTuC,gBAAAA,eAAe,EAAE,KAAKtD,KAAL,CAAWiB,OAPnB;AAQTC,gBAAAA,SAAS,EAAE,KAAKlB,KAAL,CAAWkB;AARb,e;;+CAWP/E,KAAK,CAACuJ,IAAN,CAActJ,GAAG,CAAC0G,OAAlB,mBAAyCI,IAAzC,EACDH,IADC,CACI,UAAA4C,CAAC,EAAI;AACP,gBAAA,MAAI,CAAClI,QAAL,CAAc;AAAEkD,kBAAAA,YAAY,EAAE,KAAhB;AAAuBjD,kBAAAA,SAAS,EAAE;AAAlC,iBAAd;AACH,eAHC,EAID+F,KAJC,CAIK,UAAAC,GAAG;AAAA,uBAAI3F,OAAO,CAACC,GAAR,CAAY0F,GAAZ,CAAJ;AAAA,eAJR,C;;;AAKN,mBAAKjG,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;;;;;;;;;;;;;;;;;;;AAIAK,cAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACA,mBAAKP,QAAL,CAAc;AAAEC,gBAAAA,SAAS,EAAE;AAAb,eAAd;AACMkI,cAAAA,Y,GAAe;AACjBzC,gBAAAA,aAAa,EAAE,KAAKnD,KAAL,CAAWU,KADT;AAEjB0C,gBAAAA,MAAM,EAAE,KAAKpD,KAAL,CAAWS,IAFF;AAGjB4C,gBAAAA,KAAK,EAAE,KAAKrD,KAAL,CAAWO,MAHD;AAIjBiD,gBAAAA,SAAS,EAAE,KAAKxD,KAAL,CAAWc,MAJL;AAKjByC,gBAAAA,OAAO,EAAE,KAAKvD,KAAL,CAAWe,IALH;AAMjBuC,gBAAAA,eAAe,EAAE,KAAKtD,KAAL,CAAWiB,OANX;AAOjBC,gBAAAA,SAAS,EAAE,KAAKlB,KAAL,CAAWkB;AAPL,e;AAWrBnD,cAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;;+CAGM7B,KAAK,CAACqD,GAAN,CAAapD,GAAG,CAAC0G,OAAjB,qBAAwC,KAAK9C,KAAL,CAAWgB,OAAnD,EAA8D4E,YAA9D,EACD7C,IADC,CACI,UAAAC,GAAG,EAAI;AACTjF,gBAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;;AACA,gBAAA,MAAI,CAACP,QAAL,CAAc;AAAEC,kBAAAA,SAAS,EAAE,KAAb;AAAoBiD,kBAAAA,YAAY,EAAE;AAAlC,iBAAd;AACH,eAJC,EAKD8C,KALC,CAKK,UAAAC,GAAG,EAAI;AACV,gBAAA,MAAI,CAACjG,QAAL,CAAc;AAAEC,kBAAAA,SAAS,EAAE,KAAb;AAAoBiD,kBAAAA,YAAY,EAAE;AAAlC,iBAAd;;AACA5C,gBAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ;AACAD,gBAAAA,OAAO,CAACC,GAAR,CAAY0F,GAAZ;AACH,eATC,C;;;;;;;;;;;mCAYK;AACX,UAAMN,MAAM,GAAG,EAAf;;AACA,WAAK,IAAIyC,CAAC,GAAG,EAAb,EAAiBA,CAAC,IAAI,GAAtB,EAA2BA,CAAC,EAA5B,EAAgC;AAC5B,YAAMC,IAAI,GAAG;AACTpE,UAAAA,KAAK,EAAEmE,CAAC,GAAG,KADF;AAETlE,UAAAA,KAAK,EAAEkE;AAFE,SAAb;AAIAzC,QAAAA,MAAM,CAAC2C,IAAP,CAAYD,IAAZ;AACH;;AACD,aAAO1C,MAAP;AACH;;;kCAEa;AACV,UAAMC,KAAK,GAAG,EAAd;;AACA,WAAK,IAAIwC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,GAArB,EAA0BA,CAAC,EAA3B,EAA+B;AAC3B,YAAMC,IAAI,GAAG;AACTpE,UAAAA,KAAK,EAAEmE,CAAC,GAAG,KADF;AAETlE,UAAAA,KAAK,EAAEkE;AAFE,SAAb;AAIAxC,QAAAA,KAAK,CAAC0C,IAAN,CAAWD,IAAX;AACH;;AACD,aAAOzC,KAAP;AACH;;;6BAEQ;AAAA;;AACL,UAAIF,aAAa,GAAG,CAChB;AAAEzB,QAAAA,KAAK,EAAE,IAAT;AAAeC,QAAAA,KAAK,EAAE;AAAtB,OADgB,EAEhB;AAAED,QAAAA,KAAK,EAAE,IAAT;AAAeC,QAAAA,KAAK,EAAE;AAAtB,OAFgB,EAGhB;AAAED,QAAAA,KAAK,EAAE,IAAT;AAAeC,QAAAA,KAAK,EAAE;AAAtB,OAHgB,EAIhB;AAAED,QAAAA,KAAK,EAAE,IAAT;AAAeC,QAAAA,KAAK,EAAE;AAAtB,OAJgB,EAKhB;AAAED,QAAAA,KAAK,EAAE,KAAT;AAAgBC,QAAAA,KAAK,EAAE;AAAvB,OALgB,EAMhB;AAAED,QAAAA,KAAK,EAAE,KAAT;AAAgBC,QAAAA,KAAK,EAAE;AAAvB,OANgB,EAOhB;AAAED,QAAAA,KAAK,EAAE,IAAT;AAAeC,QAAAA,KAAK,EAAE;AAAtB,OAPgB,EAQhB;AAAED,QAAAA,KAAK,EAAE,IAAT;AAAeC,QAAAA,KAAK,EAAE;AAAtB,OARgB,CAApB;AAUA,aACI,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAE9B,MAAM,CAACmG,MAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEnG,MAAM,CAACoG,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEQ,KAAKjG,KAAL,CAAWtC,SAAX,IACA,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEmC,MAAM,CAACqG,iBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,iBAAD;AAAmB,QAAA,IAAI,EAAC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CAHR,EASI,oBAAC,IAAD;AAAM,QAAA,cAAc,EAAErG,MAAM,CAACsG,aAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKC,YAAL,EADL,CATJ,EAaI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEvG,MAAM,CAACwG,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAExG,MAAM,CAACyG,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,EAGQ,KAAKtG,KAAL,CAAWW,YAAX,GACM,oBAAC,SAAD;AACE,QAAA,cAAc,EAAE,IADlB;AAEE,QAAA,eAAe,EAAE,KAFnB;AAGE,QAAA,WAAW,EAAEwC,aAHf;AAIE,QAAA,KAAK,EAAEA,aAAa,CAAC,KAAKnD,KAAL,CAAWyB,UAAZ,CAJtB;AAKE,QAAA,OAAO,EAAE,CAAC,CALZ;AAME,QAAA,OAAO,EAAE,iBAACE,KAAD;AAAA,iBAAW,MAAI,CAAClE,QAAL,CAAc;AAAEiD,YAAAA,KAAK,EAAEyC,aAAa,CAACxB,KAAD,CAAb,CAAqBD,KAA9B;AAAqCD,YAAAA,UAAU,EAAEE;AAAjD,WAAd,CAAX;AAAA,SANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADN,GASM,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE9B,MAAM,CAAC0G,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKvG,KAAL,CAAWU,KADd,CAZd,CADJ,EAkBI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEb,MAAM,CAACyG,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,EAGQ,KAAKtG,KAAL,CAAWW,YAAX,GACM,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,cAAD;AACI,QAAA,WAAW,EAAE;AACTe,UAAAA,KAAK,EAAE;AADE,SADjB;AAII,QAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWS,IAJtB;AAKI,QAAA,aAAa,EAAE,uBAACkB,KAAD;AAAA,iBAAW,MAAI,CAAClE,QAAL,CAAc;AAAEgD,YAAAA,IAAI,EAAEkB;AAAR,WAAd,CAAX;AAAA,SALnB;AAMI,QAAA,KAAK,EAAE,KAAK6E,YAAL,EANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADN,GAWM,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE3G,MAAM,CAAC0G,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKvG,KAAL,CAAWS,IADd,QAdd,CAlBJ,EAsCI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEZ,MAAM,CAACyG,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,EAGQ,KAAKtG,KAAL,CAAWW,YAAX,GACM,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,cAAD;AACI,QAAA,WAAW,EAAE;AACTe,UAAAA,KAAK,EAAE;AADE,SADjB;AAII,QAAA,KAAK,EAAE,KAAK1B,KAAL,CAAWO,MAJtB;AAKI,QAAA,aAAa,EAAE,uBAACoB,KAAD;AAAA,iBAAW,MAAI,CAAClE,QAAL,CAAc;AAAE8C,YAAAA,MAAM,EAAEoB;AAAV,WAAd,CAAX;AAAA,SALnB;AAMI,QAAA,KAAK,EAAE,KAAK8E,WAAL,EANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADN,GAWM,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE5G,MAAM,CAAC0G,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKvG,KAAL,CAAWO,MADd,QAdd,CAtCJ,EAyDI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEV,MAAM,CAACyG,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ,EAGQ,KAAKtG,KAAL,CAAWW,YAAX,GACM,oBAAC,MAAD;AACE,QAAA,UAAU,EAAE;AAAE+F,UAAAA,KAAK,EAAE,SAAT;AAAoBC,UAAAA,IAAI,EAAE;AAA1B,SADd;AAEE,QAAA,UAAU,EAAE,KAAK3G,KAAL,CAAWc,MAAX,GAAoB,SAApB,GAAgC,SAF9C;AAGE,QAAA,mBAAmB,EAAC,SAHtB;AAIE,QAAA,aAAa,EAAE,uBAACa,KAAD,EAAW;AACtB,cAAIA,KAAK,KAAK,IAAd,EAAoB,MAAI,CAAClE,QAAL,CAAc;AAAEqD,YAAAA,MAAM,EAAE;AAAV,WAAd,EAApB,KACK,MAAI,CAACrD,QAAL,CAAc;AAAEqD,YAAAA,MAAM,EAAE;AAAV,WAAd;AACR,SAPH;AAQE,QAAA,KAAK,EAAE,KAAKd,KAAL,CAAWc,MARpB;AASE,QAAA,KAAK,EAAEjB,MAAM,CAAC+G,MAThB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADN,GAYM,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE/G,MAAM,CAAC0G,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKvG,KAAL,CAAWc,MAAX,KAAsB,IAAtB,GAA6B,KAA7B,GAAqC,KADxC,CAfd,CAzDJ,EA6EI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEjB,MAAM,CAACyG,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yDADJ,EAGQ,KAAKtG,KAAL,CAAWW,YAAX,GACM,oBAAC,KAAD;AACE,QAAA,YAAY,EAAE,SADhB;AAEE,QAAA,YAAY,EAAE,sBAACiE,IAAD;AAAA,iBAAU,MAAI,CAACnH,QAAL,CAAc;AAAEsD,YAAAA,IAAI,EAAE6D;AAAR,WAAd,CAAV;AAAA,SAFhB;AAGE,QAAA,KAAK,EAAE,KAAK5E,KAAL,CAAWe,IAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADN,GAMM,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAElB,MAAM,CAAC0G,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKvG,KAAL,CAAWe,IADd,CATd,CA7EJ,EA4FI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAElB,MAAM,CAACyG,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADJ,EAGQ,KAAKtG,KAAL,CAAWW,YAAX,GACM,oBAAC,KAAD;AACE,QAAA,YAAY,EAAE,sBAACiE,IAAD;AAAA,iBAAU,MAAI,CAACnH,QAAL,CAAc;AAAEwD,YAAAA,OAAO,EAAE2D;AAAX,WAAd,CAAV;AAAA,SADhB;AAEE,QAAA,KAAK,EAAE,KAAK5E,KAAL,CAAWiB,OAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADN,GAKM,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEpB,MAAM,CAAC0G,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKvG,KAAL,CAAWiB,OADd,CARd,CA5FJ,EAyGI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEpB,MAAM,CAACyG,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,EAGQ,KAAKtG,KAAL,CAAWW,YAAX,GACM,oBAAC,KAAD;AACE,QAAA,YAAY,EAAE,sBAACiE,IAAD;AAAA,iBAAU,MAAI,CAACnH,QAAL,CAAc;AAAEyD,YAAAA,SAAS,EAAE0D;AAAb,WAAd,CAAV;AAAA,SADhB;AAEE,QAAA,KAAK,EAAE,KAAK5E,KAAL,CAAWkB,SAFpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADN,GAKM,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAErB,MAAM,CAAC0G,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKvG,KAAL,CAAWkB,SADd,CARd,CAzGJ,EAsHI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAE2F,UAAAA,SAAS,EAAE;AAAb,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AACI,QAAA,KAAK,EAAE;AACHvB,UAAAA,aAAa,EAAE,KADZ;AAEHwB,UAAAA,cAAc,EAAE;AAFb,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BANJ,EAOI,oBAAC,gBAAD;AACI,QAAA,KAAK,EAAE;AACHC,UAAAA,eAAe,EAAE,SADd;AAEH5B,UAAAA,OAAO,EAAE,CAFN;AAGH6B,UAAAA,YAAY,EAAE;AAHX,SADX;AAMI,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACC,OAAL,EAAN;AAAA,SANb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEH,UAAAA,KAAK,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BARJ,CAPJ,CADJ,EAmBI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEF,UAAAA,SAAS,EAAE;AAAb,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AACI,QAAA,KAAK,EAAE;AACHzB,UAAAA,OAAO,EAAE,EADN;AAEH+B,UAAAA,WAAW,EAAE,CAFV;AAGHC,UAAAA,WAAW,EAAE,MAHV;AAIHC,UAAAA,iBAAiB,EAAE,CAJhB;AAKHC,UAAAA,WAAW,EAAE,MALV;AAMHC,UAAAA,YAAY,EAAE;AAAEC,YAAAA,KAAK,EAAE,CAAT;AAAYC,YAAAA,MAAM,EAAE;AAApB,WANX;AAOHC,UAAAA,aAAa,EAAE,GAPZ;AAQHC,UAAAA,YAAY,EAAE,CARX;AASHC,UAAAA,SAAS,EAAE,CATR;AAUHC,UAAAA,UAAU,EAAE,CAVT;AAWHC,UAAAA,WAAW,EAAE,CAXV;AAYHjB,UAAAA,SAAS,EAAE,EAZR;AAaHW,UAAAA,KAAK,EAAE,GAbJ;AAcHC,UAAAA,MAAM,EAAE,EAdL;AAeHnC,UAAAA,aAAa,EAAE,KAfZ;AAgBHwB,UAAAA,cAAc,EAAE,cAhBb;AAiBHvB,UAAAA,UAAU,EAAE,QAjBT;AAkBH0B,UAAAA,YAAY,EAAE;AAlBX,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAsBI,oBAAC,eAAD;AACI,QAAA,IAAI,EAAExK,SADV;AAEI,QAAA,KAAK,EAAC,SAFV;AAGI,QAAA,IAAI,EAAE,EAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAtBJ,EA4BI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEsK,UAAAA,KAAK,EAAE;AAAT,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAK/G,KAAL,CAAWa,QADhB,CA5BJ,CADJ,CAnBJ,EAqDI,oBAAC,IAAD;AACI,QAAA,KAAK,EAAE;AACHgG,UAAAA,SAAS,EAAE,EADR;AAEHkB,UAAAA,YAAY,EAAE,EAFX;AAGHD,UAAAA,WAAW,EAAE;AAHV,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6GAPJ,CArDJ,EAiEI,oBAAC,gBAAD;AACI,QAAA,KAAK,EAAE;AACHd,UAAAA,eAAe,EAAE,SADd;AAEH5B,UAAAA,OAAO,EAAE,EAFN;AAGH6B,UAAAA,YAAY,EAAE,CAHX;AAIH3B,UAAAA,aAAa,EAAE,KAJZ;AAKHC,UAAAA,UAAU,EAAE,QALT;AAMHuB,UAAAA,cAAc,EAAE;AANb,SADX;AASI,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAI,CAACkB,SAAL,EAAN;AAAA,SATb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAWI,oBAAC,eAAD;AACI,QAAA,IAAI,EAAErL,OADV;AAEI,QAAA,KAAK,EAAC,MAFV;AAGI,QAAA,IAAI,EAAE,EAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXJ,EAgBI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAhBJ,EAiBI,oBAAC,IAAD;AACI,QAAA,KAAK,EAAE;AACHoK,UAAAA,KAAK,EAAE,OADJ;AAEHkB,UAAAA,SAAS,EAAE;AAFR,SADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAjBJ,CAjEJ,CAtHJ,CAbJ,CADJ,CADJ;AAsOH;;;;EA5rBiBhN,S;;AA+rBtB,IAAM4E,MAAM,GAAGqI,UAAU,CAACC,MAAX,CAAkB;AAC7BrI,EAAAA,WAAW,EAAE;AACTsI,IAAAA,IAAI,EAAE,CADG;AAET9C,IAAAA,aAAa,EAAE,KAFN;AAGTuB,IAAAA,SAAS,EAAE,EAHF;AAITgB,IAAAA,UAAU,EAAE,EAJH;AAKTE,IAAAA,YAAY,EAAE;AALL,GADgB;AAQ7BhI,EAAAA,mBAAmB,EAAE;AACjBqI,IAAAA,IAAI,EAAE;AADW,GARQ;AAW7BlI,EAAAA,mBAAmB,EAAE;AACjBkI,IAAAA,IAAI,EAAE,CADW;AAEjBC,IAAAA,WAAW,EAAE;AAFI,GAXQ;AAe7BlI,EAAAA,wBAAwB,EAAE;AACtBmI,IAAAA,QAAQ,EAAE,EADY;AAEtBC,IAAAA,UAAU,EAAE,KAFU;AAGtBC,IAAAA,UAAU,EAAE;AAHU,GAfG;AAoB7BhI,EAAAA,yBAAyB,EAAE;AACvB8H,IAAAA,QAAQ,EAAE,EADa;AAEvBE,IAAAA,UAAU,EAAE;AAFW,GApBE;AAwB7BC,EAAAA,SAAS,EAAE;AACPL,IAAAA,IAAI,EAAE,CADC;AAEPI,IAAAA,UAAU,EAAE,EAFL;AAGPH,IAAAA,WAAW,EAAE;AAHN,GAxBkB;AA6B7BK,EAAAA,UAAU,EAAE;AACRlB,IAAAA,KAAK,EAAE;AADC,GA7BiB;AAgC7BnB,EAAAA,aAAa,EAAE;AACXjB,IAAAA,OAAO,EAAE;AADE,GAhCc;AAmC7BkB,EAAAA,SAAS,EAAE;AACPiC,IAAAA,UAAU,EAAE,MADL;AAEPD,IAAAA,QAAQ,EAAE,EAFH;AAGPvB,IAAAA,KAAK,EAAE;AAHA,GAnCkB;AAwC7BR,EAAAA,UAAU,EAAE;AACRQ,IAAAA,KAAK,EAAE,MADC;AAERuB,IAAAA,QAAQ,EAAE,EAFF;AAGRjB,IAAAA,iBAAiB,EAAE,CAHX;AAIRsB,IAAAA,aAAa,EAAE,CAJP;AAKRH,IAAAA,UAAU,EAAE,EALJ;AAMRH,IAAAA,WAAW,EAAE,CANL;AAORN,IAAAA,YAAY,EAAE;AAPN,GAxCiB;AAiD7Ba,EAAAA,SAAS,EAAE;AACPC,IAAAA,QAAQ,EAAE,UADH;AAEPC,IAAAA,GAAG,EAAE,CAAC,EAFC;AAGPC,IAAAA,MAAM,EAAE,KAHD;AAIPV,IAAAA,WAAW,EAAE,CAJN;AAKPW,IAAAA,YAAY,EAAE;AALP,GAjDkB;AAwD7BC,EAAAA,MAAM,EAAE;AACJzB,IAAAA,KAAK,EAAExL,EAAE,CAAC,KAAD,CADL;AAEJ6K,IAAAA,SAAS,EAAE3K,EAAE,CAAC,IAAD,CAFT;AAGJ6K,IAAAA,KAAK,EAAE;AAHH,GAxDqB;AA8D7BmC,EAAAA,UAAU,EAAE;AACRlC,IAAAA,eAAe,EAAE,OADT;AAER5B,IAAAA,OAAO,EAAE,EAFD;AAGR+D,IAAAA,MAAM,EAAE,EAHA;AAIR7B,IAAAA,WAAW,EAAE,MAJL;AAKRC,IAAAA,YAAY,EAAE;AACVC,MAAAA,KAAK,EAAE,CADG;AAEVC,MAAAA,MAAM,EAAE;AAFE,KALN;AASRC,IAAAA,aAAa,EAAE,IATP;AAURC,IAAAA,YAAY,EAAE,IAVN;AAWRC,IAAAA,SAAS,EAAE;AAXH,GA9DiB;AA2E7BzB,EAAAA,aAAa,EAAE;AACXa,IAAAA,eAAe,EAAE,MADN;AAEXG,IAAAA,WAAW,EAAE,CAFF;AAGXiB,IAAAA,IAAI,EAAE,CAHK;AAIXe,IAAAA,MAAM,EAAE,CAJG;AAKX/D,IAAAA,OAAO,EAAE;AALE,GA3Ec;AAkF7Ba,EAAAA,SAAS,EAAE;AACPmC,IAAAA,IAAI,EAAE,CADC;AAEPO,IAAAA,aAAa,EAAE;AAFR,GAlFkB;AAsF7BS,EAAAA,cAAc,EAAE;AACZpC,IAAAA,eAAe,EAAE,MADL;AAEZoB,IAAAA,IAAI,EAAE,CAFM;AAGZI,IAAAA,UAAU,EAAE;AAHA,GAtFa;AA2F7Ba,EAAAA,qBAAqB,EAAE;AACnBhB,IAAAA,WAAW,EAAE,EADM;AAEnBM,IAAAA,aAAa,EAAE,EAFI;AAGnBH,IAAAA,UAAU,EAAE;AAHO,GA3FM;AAgG7Bc,EAAAA,YAAY,EAAE;AACVhE,IAAAA,aAAa,EAAE;AADL,GAhGe;AAmG7BiE,EAAAA,SAAS,EAAE;AACPxC,IAAAA,KAAK,EAAE,OADA;AAEPuB,IAAAA,QAAQ,EAAE;AAFH,GAnGkB;AAuG7BtC,EAAAA,MAAM,EAAE;AACJgB,IAAAA,eAAe,EAAE;AADb,GAvGqB;AA0G7BwC,EAAAA,YAAY,EAAE;AACVxC,IAAAA,eAAe,EAAE,MADP;AAEVoB,IAAAA,IAAI,EAAE,CAFI;AAGVI,IAAAA,UAAU,EAAE;AAHF,GA1Ge;AA+G7BiB,EAAAA,cAAc,EAAE;AACZlE,IAAAA,UAAU,EAAE,QADA;AAEZD,IAAAA,aAAa,EAAE;AAFH,GA/Ga;AAmH7BoE,EAAAA,WAAW,EAAE;AACT1C,IAAAA,eAAe,EAAE;AADR,GAnHgB;AAsH7B2C,EAAAA,YAAY,EAAE;AACV5C,IAAAA,KAAK,EAAE,SADG;AAEVuB,IAAAA,QAAQ,EAAE,EAFA;AAGVC,IAAAA,UAAU,EAAE,KAHF;AAIVN,IAAAA,SAAS,EAAE;AAJD,GAtHe;AA4H7B2B,EAAAA,SAAS,EAAE;AACPpC,IAAAA,KAAK,EAAE,GADA;AAEPC,IAAAA,MAAM,EAAE,GAFD;AAGPR,IAAAA,YAAY,EAAE,GAHP;AAIPD,IAAAA,eAAe,EAAE,SAJV;AAKPe,IAAAA,YAAY,EAAE;AALP,GA5HkB;AAmI7B8B,EAAAA,YAAY,EAAE;AACV9C,IAAAA,KAAK,EAAE,MADG;AAEVuB,IAAAA,QAAQ,EAAE,EAFA;AAGVC,IAAAA,UAAU,EAAE,MAHF;AAIVI,IAAAA,aAAa,EAAE,CAJL;AAKVV,IAAAA,SAAS,EAAE,QALD;AAMVJ,IAAAA,UAAU,EAAE;AANF,GAnIe;AA2I7B3B,EAAAA,iBAAiB,EAAE;AACf2C,IAAAA,QAAQ,EAAE,UADK;AAEfE,IAAAA,MAAM,EAAE,EAFO;AAGfe,IAAAA,IAAI,EAAE,CAHS;AAIfC,IAAAA,KAAK,EAAE,CAJQ;AAKfjB,IAAAA,GAAG,EAAE,GALU;AAMfkB,IAAAA,MAAM,EAAE,CANO;AAOfzE,IAAAA,UAAU,EAAE,QAPG;AAQfuB,IAAAA,cAAc,EAAE;AARD,GA3IU;AAqJ7BF,EAAAA,MAAM,EAAE;AACJC,IAAAA,SAAS,EAAE,CAAC,EADR;AAEJkB,IAAAA,YAAY,EAAE;AAFV,GArJqB;AAyJ7B5C,EAAAA,KAAK,EAAE;AACHG,IAAAA,aAAa,EAAE,KADZ;AAEHwB,IAAAA,cAAc,EAAE,eAFb;AAGHvB,IAAAA,UAAU,EAAE,QAHT;AAIHiD,IAAAA,UAAU,EAAE,EAJT;AAKHpD,IAAAA,OAAO,EAAE,EALN;AAMHoC,IAAAA,KAAK,EAAExL,EAAE,CAAC,MAAD,CANN;AAOHyL,IAAAA,MAAM,EAAEvL,EAAE,CAAC,KAAD,CAPP;AAQH8K,IAAAA,eAAe,EAAE;AARd,GAzJsB;AAmK7B3B,EAAAA,MAAM,EAAE;AACJ0B,IAAAA,KAAK,EAAE,OADH;AAEJuB,IAAAA,QAAQ,EAAE;AAFN;AAnKqB,CAAlB,CAAf;;AAyKA,IAAM2B,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAC/B,SAAO;AACH9J,IAAAA,IAAI,EAAE8J,KAAK,CAAC9J;AADT,GAAP;AAGH,CAJD;;AAMA,IAAM+J,kBAAkB,GAAG;AACvB7O,EAAAA,aAAa,EAAbA,aADuB;AAEvBC,EAAAA,cAAc,EAAdA,cAFuB;AAGvBE,EAAAA,aAAa,EAAbA,aAHuB;AAIvBD,EAAAA,gBAAgB,EAAhBA;AAJuB,CAA3B;AAOA,eAAeH,OAAO,CAAC4O,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CtN,OAA7C,CAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport { Card, Input, Avatar } from 'react-native-elements'\r\nimport {\r\n    BackHandler,\r\n    Image,\r\n    ScrollView,\r\n    StyleSheet,\r\n    Text,\r\n    View,\r\n    Switch,\r\n    ActivityIndicator,\r\n    Alert,\r\n    Share\r\n} from 'react-native'\r\n\r\nimport { connect } from 'react-redux'\r\nimport { deleteContact, modifyUserInfo, setIndexSelected, setSecondInfo } from '../../Action'\r\n\r\n// import TopMenu from '../../component/Menu/TopMenu'\r\nimport * as firebase from 'firebase'\r\nimport * as Permissions from 'expo-permissions'\r\nimport * as ImagePicker from 'expo-image-picker'\r\nimport * as DocumentPicker from 'expo-document-picker';\r\nimport RadioForm from 'react-native-simple-radio-button'\r\nimport {\r\n    widthPercentageToDP as wp,\r\n    heightPercentageToDP as hp\r\n} from 'react-native-responsive-screen'\r\nimport axios from 'axios'\r\nimport Bdd from '../../API/Bdd'\r\nimport RNPickerSelect from 'react-native-picker-select'\r\nimport { TouchableOpacity } from 'react-native-gesture-handler'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome'\r\nimport { faAngleLeft, faFilePdf, faShareAlt as faShare } from '@fortawesome/free-solid-svg-icons'\r\nconst DEFAUTL_USER = 'https://www.nehome-groupe.fr/wp-content/uploads/2015/09/image-de-profil-2.jpg'\r\n\r\nclass MySante extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            isModifbegin: false,\r\n            isSelectedProfile: false,\r\n            id: null,\r\n            uri_pdf: null,\r\n            photo_pdf: 'vide',\r\n            name_pdf: 'Mon fichier pdf',\r\n            blood: '',\r\n            size: 0,\r\n            weight: 0,\r\n            donate: false,\r\n            secu: null,\r\n            idFiche: null,\r\n\r\n            photoUri: '',\r\n\r\n            medecin: '',\r\n            allergies: '',\r\n            traitement: '',\r\n\r\n            isMedicinExist: false,\r\n            isAllergieExist: false,\r\n            isTraitementExist: false,\r\n\r\n            isLoading: false,\r\n\r\n            isFirst: false,\r\n            ficheSante: {},\r\n            bloodAnnex: { label: 'B+', value: 2 }\r\n\r\n        }\r\n        this.name_fichier = '';\r\n        this.ref = firebase.firestore().collection('profile')\r\n        this.handleBackButtonClick = this.handleBackButtonClick.bind(this)\r\n    }\r\n\r\n    async componentDidMount() {\r\n        console.log('start loading fiche sante')\r\n        this.setState({\r\n            isLoading: true,\r\n            photoUri: this.props.user.user.imageUser,\r\n            id: this.props.user.user.idUser\r\n        })\r\n\r\n        if (this.props.navigation.state.params) {\r\n            if (this.props.navigation.state.params.profil !== undefined) {\r\n                this.setState({ photoUri: this.props.navigation.state.params.profil })\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            isLoading: false\r\n        })\r\n        await this.getCameraPermissions()\r\n        // await this.fetchSante()\r\n        await this.fetchSante()\r\n        console.log('end loading fiche sante')\r\n    }\r\n\r\n    componentWillMount() {\r\n        BackHandler.addEventListener('hardwareBackPress', this.handleBackButtonClick)\r\n        BackHandler.addEventListener('onOpen', this.fetchSante)\r\n    }\r\n\r\n    UNSAFE_componentWillUnmount() {\r\n        BackHandler.removeEventListener('hardwareBackPress', this.handleBackButtonClick)\r\n        BackHandler.removeEventListener('onOpen', this.fetchSante)\r\n    }\r\n\r\n    handleBackButtonClick() {\r\n        this.props.navigation.navigate('MyProfil', { profil: this.state.photoUri })\r\n        return true\r\n    }\r\n\r\n    async fetchSante() {\r\n        await axios.get(`${Bdd.api_url}/fiche-sante/list?idUser=${this.state.id}`)\r\n            .then(async res => {\r\n                if (await !res) {\r\n                    console.log('tena misy olana')\r\n                } else {\r\n                    const fiche = res.data.data\r\n                    console.log('get fiche')\r\n                    // console.log(fiche)\r\n                    if (res.data === null) this.setState({ isFirst: true })\r\n                    else {\r\n                        this.setState({\r\n                            isFirst: false,\r\n                            blood: fiche.groupeSanguin,\r\n                            size: fiche.taille,\r\n                            weight: fiche.poids,\r\n                            medecin: fiche.medecinTraitant,\r\n                            secu: fiche.numSecu,\r\n                            donate: fiche.donnateur,\r\n                            idFiche: fiche.idFiche,\r\n                            allergies: fiche.allergies\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log('erreur fetch sante')\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    async getCameraPermissions() {\r\n        const { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL)\r\n        if (status !== 'granted') {\r\n            Alert('permission not granteed')\r\n            this.setState({\r\n                rollGranted: false,\r\n                cameraGranted: false\r\n            })\r\n        } else {\r\n            this.setState({\r\n                rollGranted: true,\r\n                cameraGranted: true\r\n            })\r\n        }\r\n    }\r\n\r\n    async _pickImage() {\r\n        // launchCameraAsync\r\n        const result = await ImagePicker.launchImageLibraryAsync({\r\n            allowsEditing: true,\r\n            base64: true,\r\n            quality: 0.5\r\n        })\r\n\r\n        if (result.cancelled) {\r\n            return\r\n        }\r\n\r\n        this._handleImagePicked(result)\r\n    }\r\n\r\n    async _handleImagePicked(pickerResult) {\r\n        let uploadUrl = ''\r\n        try {\r\n            this.setState({ isLoading: true })\r\n\r\n            if (!pickerResult.cancelled) {\r\n                uploadUrl = await this.uploadImageAsync(pickerResult.uri)\r\n                const data = {\r\n                    imageUser: uploadUrl,\r\n                    idUser: this.props.user.user.idUser\r\n                }\r\n                this.saveProfileImageInfo(data)\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n            alert('Upload failed, sorry :(')\r\n        } finally {\r\n            this.setState({ isLoading: false })\r\n            /* this.props.navigation.navigate(\"MonProfil\") */\r\n            this.setState({ photoUri: uploadUrl })\r\n        }\r\n    }\r\n\r\n    saveProfileImageInfo(data) {\r\n        this.props.ModifyPhoto(data)\r\n    }\r\n\r\n    async uploadImageAsync(uri) {\r\n        // Why are we using XMLHttpRequest? See:\r\n        // https://github.com/expo/expo/issues/2402#issuecomment-443726662\r\n        const blob = await new Promise((resolve, reject) => {\r\n            const xhr = new XMLHttpRequest()\r\n            xhr.onload = function () {\r\n                resolve(xhr.response)\r\n            }\r\n            xhr.onerror = function (e) {\r\n                console.log(e)\r\n                reject(new TypeError('Network request failed'))\r\n            }\r\n            xhr.responseType = 'blob'\r\n            xhr.open('GET', uri, true)\r\n            xhr.send(null)\r\n        })\r\n        const id = Math.random().toString()\r\n        const ref = firebase\r\n            .storage()\r\n            .ref()\r\n            .child(id)\r\n        const snapshot = await ref.put(blob)\r\n\r\n        // We're done with the blob, close and release it\r\n        blob.close()\r\n\r\n        return await snapshot.ref.getDownloadURL()\r\n    }\r\n\r\n    async takePdf() {\r\n        let result = await DocumentPicker.getDocumentAsync({\r\n            type: 'application/pdf',\r\n            copyToCacheDirectory: false\r\n        });\r\n        // console.log(result.type);\r\n        // console.log(result.name);\r\n        // console.log(result.uri);\r\n        // console.log(result.size);\r\n        this.setState({\r\n            name_pdf: result.name.substring(0, 8)\r\n        })\r\n        this._handlePdfPicked(result);\r\n    }\r\n\r\n    _pickPdf = async () => {\r\n        let result = await ImagePicker.launchImageLibraryAsync({\r\n            allowsEditing: true,\r\n            mediaTypes: ImagePicker.MediaTypeOptions.All,\r\n        });\r\n\r\n        //console.log(result)\r\n\r\n        this._handlePdfPicked(result);\r\n    }\r\n\r\n    _handlePdfPicked = async pickerResult => {\r\n        let uploadUrl = \"\"\r\n        try {\r\n            this.setState({ isLoading: true });\r\n\r\n            if (!pickerResult.cancelled) {\r\n                uploadUrl = await this.uploadPdfAsync(pickerResult.uri);\r\n                this.setState({ uri_pdf: uploadUrl })\r\n\r\n            }\r\n        } catch (e) {\r\n            console.log(e);\r\n            alert('Upload failed, sorry :(');\r\n        } finally {\r\n            this.setState({ isLoading: false });\r\n            /* this.props.navigation.navigate(\"MonProfil\") */\r\n            this.setState({ photo_pdf: uploadUrl })\r\n            // console.log('link share pdf ', this.state.photo_pdf);\r\n        }\r\n    }\r\n\r\n    uploadPdfAsync = async (uri) => {\r\n        // Why are we using XMLHttpRequest? See:\r\n        // https://github.com/expo/expo/issues/2402#issuecomment-443726662\r\n        const blob = await new Promise((resolve, reject) => {\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.onload = function () {\r\n                resolve(xhr.response);\r\n            };\r\n            xhr.onerror = function (e) {\r\n                console.log(e);\r\n                reject(new TypeError('Network request failed'));\r\n            };\r\n\r\n            xhr.responseType = 'blob';\r\n            xhr.open('GET', uri, true);\r\n            xhr.send(null);\r\n        });\r\n        const id = Math.random().toString()\r\n        const ref = firebase\r\n            .storage()\r\n            .ref()\r\n            .child(id);\r\n        const snapshot = await ref.put(blob);\r\n\r\n        // We're done with the blob, close and release it\r\n        blob.close();\r\n\r\n        return await snapshot.ref.getDownloadURL();\r\n    }\r\n\r\n    shareLink() {\r\n        if (this.state.photo_pdf === 'vide') {\r\n            Alert.alert('Info', 'Veuillez choisir un fichier pdf', [\r\n                {\r\n                    text: 'OK',\r\n                    onPress: () => { }\r\n                }\r\n            ])\r\n            return null;\r\n        }\r\n        const url = this.state.photo_pdf;\r\n        Share.share({ title: 'Fiche Santé', message: url }).then(\r\n            Alert.alert('Succes', 'Fichier Partagé', [\r\n                {\r\n                    text: 'OK',\r\n                    onPress: () => { }\r\n                }\r\n            ])\r\n        ).catch(\r\n            err => Alert.alert('Echec', 'Erreur lors de partage de lien', [\r\n                {\r\n                    text: 'OK',\r\n                    onPress: () => { }\r\n                }\r\n            ])\r\n        )\r\n    }\r\n\r\n    renderHeader_1 = () => {\r\n\r\n        return (\r\n            <View style={styles.main_profil}>\r\n                <View style={styles.under_main_profil_1}>\r\n                    <Avatar\r\n                        size={100}\r\n                        rounded\r\n                        source={{ uri: this.state.photoUri == null ? DEFAUTL_USER : this.state.photoUri }}\r\n                    />\r\n                </View>\r\n\r\n                <View style={styles.under_main_profil_2}>\r\n                    <Text style={styles.text_under_main_profil_2}>{this.props.user.user.nomUser}{\"  \"}{this.props.user.user.prenomUser}</Text>\r\n                    {this.state.weight != '' && (\r\n                        <Text style={styles.descr_under_main_profil_2}>\r\n                            {this.state.size} cm - {this.state.weight} kg - {this.state.blood}\r\n                        </Text>)\r\n                    }\r\n                </View>\r\n\r\n            </View>\r\n        )\r\n    }\r\n\r\n    renderHeader() {\r\n        return (\r\n            <View>\r\n                <View style={styles.under}>\r\n                    {\r\n                        this.state.isModifbegin\r\n                            ? <TouchableOpacity\r\n                                style={{ padding: 10 }}\r\n                                onPress={() => this.setState({ isModifbegin: false })} >\r\n                                <Text style={styles.header}>Annuler</Text>\r\n                            </TouchableOpacity>\r\n                            : <TouchableOpacity\r\n                                style={{ flexDirection: 'row', alignItems: 'center' }}\r\n                                onPress={() => this.props.navigation.navigate('MyProfil')} >\r\n                                <FontAwesomeIcon\r\n                                    icon={faAngleLeft}\r\n                                    color=\"white\"\r\n                                    size={24}\r\n                                />\r\n                                <Text style={styles.header}>Profil</Text>\r\n                            </TouchableOpacity>\r\n                    }\r\n                    <Text style={styles.header}>Ma Fiche Santé</Text>\r\n                    {\r\n                        this.state.isModifbegin\r\n                            ? <TouchableOpacity\r\n                                style={{ padding: 10 }}\r\n                                onPress={async () => {\r\n                                    if (this.state.isFirst === true) {\r\n                                        await this.addFiche()\r\n                                    } else {\r\n                                        await this.modifFiche()\r\n                                    }\r\n                                    await this.addFiche()\r\n                                    this.setState({ isModifbegin: false })\r\n                                    /* if (this.props.second.indexSelected === 0) {\r\n                                      await this.modifInfoPerso()\r\n                                    } else {\r\n                                      await this.modifySecondInfoPerso()\r\n                                    } */\r\n                                }}>\r\n                                <Text style={styles.header}>Enregistrer</Text>\r\n                            </TouchableOpacity>\r\n                            : <TouchableOpacity\r\n                                style={{ padding: 10 }}\r\n                                onPress={() => this.setState({ isModifbegin: true })} >\r\n                                <Text style={styles.header}>Modifier</Text>\r\n                            </TouchableOpacity>\r\n                    }\r\n\r\n                    {/* <TopMenu navigation={this.props.navigation} /> */}\r\n                </View>\r\n\r\n                <View>\r\n                    {this.renderHeader_1()}\r\n                </View>\r\n            </View>\r\n        )\r\n    }\r\n\r\n    async addFiche() {\r\n        this.setState({ isLoading: true })\r\n        const data = {\r\n            idUser: this.props.user.user.idUser,\r\n            groupeSanguin: this.state.blood,\r\n            taille: this.state.size,\r\n            poids: this.state.weight,\r\n            donnateur: this.state.donate,\r\n            numSecu: this.state.secu,\r\n            medecinTraitant: this.state.medecin,\r\n            allergies: this.state.allergies\r\n        }\r\n\r\n        await axios.post(`${Bdd.api_url}/fiche-sante`, data)\r\n            .then(_ => {\r\n                this.setState({ isModifbegin: false, isLoading: false })\r\n            })\r\n            .catch(err => console.log(err))\r\n        this.setState({ isLoading: false })\r\n    }\r\n\r\n    async modifFiche() {\r\n        console.log('begin Put fiche sante')\r\n        this.setState({ isLoading: true })\r\n        const userModified = {\r\n            groupeSanguin: this.state.blood,\r\n            taille: this.state.size,\r\n            poids: this.state.weight,\r\n            donnateur: this.state.donate,\r\n            numSecu: this.state.secu,\r\n            medecinTraitant: this.state.medecin,\r\n            allergies: this.state.allergies\r\n        }\r\n\r\n        // console.log(this.state)\r\n        console.log('----------')\r\n        // console.log(userModified)\r\n        // this.saveAutre(this.state.medecin, this.state.allergies, this.state.traitement)\r\n        await axios.put(`${Bdd.api_url}/fiche-sante/${this.state.idFiche}`, userModified)\r\n            .then(res => {\r\n                console.log('Put fiche sante')\r\n                this.setState({ isLoading: false, isModifbegin: false })\r\n            })\r\n            .catch(err => {\r\n                this.setState({ isLoading: false, isModifbegin: false })\r\n                console.log('erreur put fiche sante')\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n    createTaille() {\r\n        const taille = []\r\n        for (let i = 50; i <= 210; i++) {\r\n            const item = {\r\n                label: i + ' cm',\r\n                value: i\r\n            }\r\n            taille.push(item)\r\n        }\r\n        return taille\r\n    }\r\n\r\n    createPoids() {\r\n        const poids = []\r\n        for (let i = 1; i <= 180; i++) {\r\n            const item = {\r\n                label: i + ' kg',\r\n                value: i\r\n            }\r\n            poids.push(item)\r\n        }\r\n        return poids\r\n    }\r\n\r\n    render() {\r\n        var groupeSanguin = [\r\n            { label: 'A+', value: 0 },\r\n            { label: 'A-', value: 1 },\r\n            { label: 'B+', value: 2 },\r\n            { label: 'B-', value: 3 },\r\n            { label: 'AB+', value: 4 },\r\n            { label: 'AB-', value: 5 },\r\n            { label: 'O+', value: 6 },\r\n            { label: 'O-', value: 7 }\r\n        ]\r\n        return (\r\n            <ScrollView style={styles.scroll}>\r\n                <View style={styles.container}>\r\n                    {\r\n                        this.state.isLoading &&\r\n                        <View style={styles.loading_container}>\r\n                            <ActivityIndicator size=\"large\" />\r\n                        </View>\r\n\r\n                    }\r\n\r\n                    <Card containerStyle={styles.cardContainer}>\r\n                        {this.renderHeader()}\r\n                    </Card>\r\n\r\n                    <View style={styles.infoContainer}>\r\n                        <View>\r\n                            <Text style={styles.labelText}>Groupe Sanguin</Text>\r\n                            {\r\n                                this.state.isModifbegin\r\n                                    ? <RadioForm\r\n                                        formHorizontal={true}\r\n                                        labelHorizontal={false}\r\n                                        radio_props={groupeSanguin}\r\n                                        value={groupeSanguin[this.state.bloodAnnex]}\r\n                                        initial={-1}\r\n                                        onPress={(value) => this.setState({ blood: groupeSanguin[value].label, bloodAnnex: value })}\r\n                                    />\r\n                                    : <Text style={styles.labelValue}>\r\n                                        {this.state.blood}\r\n                                    </Text>\r\n                            }\r\n                        </View>\r\n                        <View>\r\n                            <Text style={styles.labelText}>Taille</Text>\r\n                            {\r\n                                this.state.isModifbegin\r\n                                    ? <View>\r\n                                        <RNPickerSelect\r\n                                            placeholder={{\r\n                                                label: 'Taille en cm'\r\n                                            }}\r\n                                            value={this.state.size}\r\n                                            onValueChange={(value) => this.setState({ size: value })}\r\n                                            items={this.createTaille()}\r\n                                        />\r\n                                    </View>\r\n                                    : <Text style={styles.labelValue}>\r\n                                        {this.state.size} cm\r\n                                    </Text>\r\n                            }\r\n                        </View>\r\n\r\n                        <View>\r\n                            <Text style={styles.labelText}>Poids</Text>\r\n                            {\r\n                                this.state.isModifbegin\r\n                                    ? <View>\r\n                                        <RNPickerSelect\r\n                                            placeholder={{\r\n                                                label: 'Poids en kg'\r\n                                            }}\r\n                                            value={this.state.weight}\r\n                                            onValueChange={(value) => this.setState({ weight: value })}\r\n                                            items={this.createPoids()}\r\n                                        />\r\n                                    </View>\r\n                                    : <Text style={styles.labelValue}>\r\n                                        {this.state.weight} kg\r\n                                    </Text>\r\n                            }\r\n                        </View>\r\n                        <View>\r\n                            <Text style={styles.labelText}>Donneur d'organe</Text>\r\n                            {\r\n                                this.state.isModifbegin\r\n                                    ? <Switch\r\n                                        trackColor={{ false: '#767577', true: '#81b0ff' }}\r\n                                        thumbColor={this.state.donate ? '#f5dd4b' : '#f4f3f4'}\r\n                                        ios_backgroundColor=\"#3e3e3e\"\r\n                                        onValueChange={(value) => {\r\n                                            if (value === true) this.setState({ donate: true })\r\n                                            else this.setState({ donate: false })\r\n                                        }}\r\n                                        value={this.state.donate}\r\n                                        style={styles.switch}\r\n                                    />\r\n                                    : <Text style={styles.labelValue}>\r\n                                        {this.state.donate === true ? 'OUI' : 'NON'}\r\n                                    </Text>\r\n                            }\r\n                        </View>\r\n                        <View>\r\n                            <Text style={styles.labelText}>Numéro d'assurance/ Sécurité sociale</Text>\r\n                            {\r\n                                this.state.isModifbegin\r\n                                    ? <Input\r\n                                        keyboardType={'numeric'}\r\n                                        onChangeText={(text) => this.setState({ secu: text })}\r\n                                        value={this.state.secu}\r\n                                    />\r\n                                    : <Text style={styles.labelValue}>\r\n                                        {this.state.secu}\r\n                                    </Text>\r\n                            }\r\n                        </View>\r\n\r\n                        <View>\r\n                            <Text style={styles.labelText}>Médecin traitant</Text>\r\n                            {\r\n                                this.state.isModifbegin\r\n                                    ? <Input\r\n                                        onChangeText={(text) => this.setState({ medecin: text })}\r\n                                        value={this.state.medecin}\r\n                                    />\r\n                                    : <Text style={styles.labelValue}>\r\n                                        {this.state.medecin}\r\n                                    </Text>\r\n                            }\r\n                        </View>\r\n                        <View>\r\n                            <Text style={styles.labelText}>Allergies</Text>\r\n                            {\r\n                                this.state.isModifbegin\r\n                                    ? <Input\r\n                                        onChangeText={(text) => this.setState({ allergies: text })}\r\n                                        value={this.state.allergies}\r\n                                    />\r\n                                    : <Text style={styles.labelValue}>\r\n                                        {this.state.allergies}\r\n                                    </Text>\r\n                            }\r\n                        </View>\r\n                        <View style={{ marginTop: 50 }}>\r\n                            <View\r\n                                style={{\r\n                                    flexDirection: 'row',\r\n                                    justifyContent: 'space-between'\r\n                                }}\r\n                            >\r\n                                <Text style={{ color: '#62c9c2' }}>Mon Rapport Medical</Text>\r\n                                <TouchableOpacity\r\n                                    style={{\r\n                                        backgroundColor: '#0389c2',\r\n                                        padding: 5,\r\n                                        borderRadius: 5\r\n                                    }}\r\n                                    onPress={() => this.takePdf()}\r\n                                >\r\n                                    <Text style={{ color: 'white' }}>Insérer PDF</Text>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                            <View style={{ marginTop: 10 }}>\r\n                                <View\r\n                                    style={{\r\n                                        padding: 10,\r\n                                        borderWidth: 1,\r\n                                        borderColor: '#ddd',\r\n                                        borderBottomWidth: 0,\r\n                                        shadowColor: '#000',\r\n                                        shadowOffset: { width: 0, height: 2 },\r\n                                        shadowOpacity: 0.8,\r\n                                        shadowRadius: 2,\r\n                                        elevation: 1,\r\n                                        marginLeft: 5,\r\n                                        marginRight: 5,\r\n                                        marginTop: 10,\r\n                                        width: 150,\r\n                                        height: 50,\r\n                                        flexDirection: 'row',\r\n                                        justifyContent: 'space-around',\r\n                                        alignItems: 'center',\r\n                                        borderRadius: 10\r\n                                    }}\r\n                                >\r\n                                    <FontAwesomeIcon\r\n                                        icon={faFilePdf}\r\n                                        color=\"#518cb4\"\r\n                                        size={20}\r\n                                    />\r\n\r\n                                    <Text style={{ color: '#518cb4' }}>\r\n                                        {this.state.name_pdf}\r\n                                    </Text>\r\n                                </View>\r\n                            </View>\r\n                            <View\r\n                                style={{\r\n                                    marginTop: 20,\r\n                                    marginBottom: 20,\r\n                                    marginRight: 50\r\n                                }}\r\n                            >\r\n                                <Text>\r\n                                    Partagez en toute sécurité avec votre\r\n                                    médecin, coach ou famille votre rapport médical\r\n                                </Text>\r\n                            </View>\r\n                            <TouchableOpacity\r\n                                style={{\r\n                                    backgroundColor: '#0389c2',\r\n                                    padding: 10,\r\n                                    borderRadius: 5,\r\n                                    flexDirection: 'row',\r\n                                    alignItems: 'center',\r\n                                    justifyContent: 'center'\r\n                                }}\r\n                                onPress={() => this.shareLink()}\r\n                            >\r\n                                <FontAwesomeIcon\r\n                                    icon={faShare}\r\n                                    color=\"#eee\"\r\n                                    size={20}\r\n                                />\r\n                                <Text>  </Text>\r\n                                <Text\r\n                                    style={{\r\n                                        color: 'white',\r\n                                        textAlign: 'center'\r\n                                    }}\r\n                                >\r\n                                    Partagez Maintenant\r\n                                </Text>\r\n                            </TouchableOpacity>\r\n\r\n                        </View>\r\n                    </View>\r\n                </View>\r\n            </ScrollView>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    main_profil: {\r\n        flex: 1,\r\n        flexDirection: 'row',\r\n        marginTop: 27,\r\n        marginLeft: 20,\r\n        marginBottom: 35\r\n    },\r\n    under_main_profil_1: {\r\n        flex: 1\r\n    },\r\n    under_main_profil_2: {\r\n        flex: 4,\r\n        paddingLeft: 45\r\n    },\r\n    text_under_main_profil_2: {\r\n        fontSize: 28,\r\n        fontWeight: '200',\r\n        paddingTop: 7\r\n    },\r\n    descr_under_main_profil_2: {\r\n        fontSize: 17,\r\n        paddingTop: 17\r\n    },\r\n    btn_photo: {\r\n        flex: 1,\r\n        paddingTop: 70,\r\n        paddingLeft: 5\r\n    },\r\n    img_profil: {\r\n        width: 200\r\n    },\r\n    infoContainer: {\r\n        padding: 20\r\n    },\r\n    labelText: {\r\n        fontWeight: 'bold',\r\n        fontSize: 16,\r\n        color: '#999'\r\n    },\r\n    labelValue: {\r\n        color: '#000',\r\n        fontSize: 16,\r\n        borderBottomWidth: 1,\r\n        paddingBottom: 5,\r\n        paddingTop: 10,\r\n        paddingLeft: 5,\r\n        marginBottom: 5\r\n    },\r\n    actionBtn: {\r\n        position: 'relative',\r\n        top: -10,\r\n        zIndex: 99999,\r\n        paddingLeft: 5,\r\n        paddingRight: 5\r\n    },\r\n    slider: {\r\n        width: wp('80%'),\r\n        marginTop: hp('1%'),\r\n        color: '#008AC8'\r\n\r\n    },\r\n    choiceItem: {\r\n        backgroundColor: 'white',\r\n        padding: 10,\r\n        margin: 10,\r\n        shadowColor: '#000',\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 2\r\n        },\r\n        shadowOpacity: 0.25,\r\n        shadowRadius: 3.84,\r\n        elevation: 5\r\n    },\r\n    cardContainer: {\r\n        backgroundColor: '#FFF',\r\n        borderWidth: 0,\r\n        flex: 1,\r\n        margin: 0,\r\n        padding: 0\r\n    },\r\n    container: {\r\n        flex: 1,\r\n        paddingBottom: 50\r\n    },\r\n    emailContainer: {\r\n        backgroundColor: '#FFF',\r\n        flex: 1,\r\n        paddingTop: 30\r\n    },\r\n    headerBackgroundImage: {\r\n        paddingLeft: 20,\r\n        paddingBottom: 20,\r\n        paddingTop: 35\r\n    },\r\n    headerColumn: {\r\n        flexDirection: 'row'\r\n    },\r\n    placeIcon: {\r\n        color: 'white',\r\n        fontSize: 26\r\n    },\r\n    scroll: {\r\n        backgroundColor: '#FFF'\r\n    },\r\n    telContainer: {\r\n        backgroundColor: '#FFF',\r\n        flex: 1,\r\n        paddingTop: 30\r\n    },\r\n    userAddressRow: {\r\n        alignItems: 'center',\r\n        flexDirection: 'row'\r\n    },\r\n    userCityRow: {\r\n        backgroundColor: 'transparent'\r\n    },\r\n    userCityText: {\r\n        color: '#A5A5A5',\r\n        fontSize: 15,\r\n        fontWeight: '600',\r\n        textAlign: 'center'\r\n    },\r\n    userImage: {\r\n        width: 100,\r\n        height: 100,\r\n        borderRadius: 100,\r\n        backgroundColor: '#01C89E',\r\n        marginBottom: 15\r\n    },\r\n    userNameText: {\r\n        color: '#000',\r\n        fontSize: 30,\r\n        fontWeight: 'bold',\r\n        paddingBottom: 8,\r\n        textAlign: 'center',\r\n        marginLeft: 10\r\n    },\r\n    loading_container: {\r\n        position: 'absolute',\r\n        zIndex: 10,\r\n        left: 0,\r\n        right: 0,\r\n        top: 100,\r\n        bottom: 0,\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    switch: {\r\n        marginTop: -24,\r\n        marginBottom: 10\r\n    },\r\n    under: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        paddingTop: 30,\r\n        padding: 10,\r\n        width: wp('100%'),\r\n        height: hp(\"13%\"),\r\n        backgroundColor: \"#00C1B4\"\r\n    },\r\n    header: {\r\n        color: 'white',\r\n        fontSize: 18\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        user: store.user\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    deleteContact,\r\n    modifyUserInfo,\r\n    setSecondInfo,\r\n    setIndexSelected\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MySante)\r\n"]},"metadata":{},"sourceType":"module"}