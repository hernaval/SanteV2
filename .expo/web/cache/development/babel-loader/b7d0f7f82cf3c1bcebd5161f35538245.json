{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Projets\\\\Acadys\\\\best4sante\\\\SanteV2\\\\assets\\\\component\\\\SignupNew.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport { CheckBox, ThemeProvider } from 'react-native-elements';\nimport Loader from \"./loader\";\nimport axios from 'axios';\nimport Bdd from \"../API/Bdd\";\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp, listenOrientationChange as loc, removeOrientationListener as rol } from 'react-native-responsive-screen';\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scrollview';\nimport * as Location from 'expo-location';\nimport { urgency } from \"../API/urgency\";\nimport google from \"../API/google\";\nvar API_KEY = google.cloud_key;\n\nvar SignupNew = function (_React$Component) {\n  _inherits(SignupNew, _React$Component);\n\n  var _super = _createSuper(SignupNew);\n\n  function SignupNew(props) {\n    var _this;\n\n    _classCallCheck(this, SignupNew);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              loc(_assertThisInitialized(_this));\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(_this._getCountryCodeByLocation());\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._getCountryCodeByLocation = function _callee3() {\n      var location;\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 2:\n              location = _context3.sent;\n              axios.get(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\" + location.coords.latitude + \",\" + location.coords.longitude + \"&key=\" + API_KEY).then(function _callee2(response) {\n                var globalRes, resObj;\n                return _regeneratorRuntime.async(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        globalRes = response.data.results[0].address_components;\n                        _context2.next = 3;\n                        return _regeneratorRuntime.awrap(globalRes.filter(function (el) {\n                          return el.types.includes(\"country\");\n                        }));\n\n                      case 3:\n                        resObj = _context2.sent;\n                        _context2.next = 6;\n                        return _regeneratorRuntime.awrap(resObj[0].long_name);\n\n                      case 6:\n                        _this.localCountry = _context2.sent;\n                        console.log('Pays ', _this.localCountry);\n                        return _context2.abrupt(\"return\", _this.localCountry);\n\n                      case 9:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              }).catch(function (err) {\n                console.log(err);\n                return null;\n              });\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      error: null,\n      isLoading: false,\n      checked: false\n    };\n    _this.firstName = \"\";\n    _this.lastName = \"\";\n    _this.email = \"\";\n    _this.password = \"\";\n    _this.localisation = {};\n    _this.localCountry = \"\";\n    return _this;\n  }\n\n  _createClass(SignupNew, [{\n    key: \"componentWillUnMount\",\n    value: function componentWillUnMount() {\n      rol();\n    }\n  }, {\n    key: \"_creation\",\n    value: function _creation() {\n      var data = {\n        prenomUser: this.firstName,\n        nomUser: this.lastName,\n        emailUser: this.email,\n        passwordUser: this.password,\n        deviceUser: null,\n        paysUser: null\n      };\n\n      if (Platform.OS === 'ios') {\n        data.deviceUser = 'ios';\n      } else if (Platform.OS === 'android') {\n        data.deviceUser = 'android';\n      }\n\n      data.paysUser = this.localCountry;\n      console.log(data);\n    }\n  }, {\n    key: \"register\",\n    value: function register() {\n      var _this2 = this;\n\n      var form = this.checkForm();\n\n      if (form === false) {\n        return;\n      }\n\n      var data = {\n        prenomUser: this.firstName,\n        nomUser: this.lastName,\n        emailUser: this.email,\n        passwordUser: this.password,\n        deviceUser: null,\n        paysUser: null\n      };\n      data.paysUser = this.localCountry;\n\n      if (Platform.OS === 'ios') {\n        data.deviceUser = 'ios';\n      } else if (Platform.OS === 'android') {\n        data.deviceUser = 'android';\n      }\n\n      this.setState({\n        isLoading: true\n      });\n      axios.post(Bdd.api_url + '/signup', data).then(function (res) {\n        if (res.status === 400) {\n          _this2.setState({\n            isLoading: false,\n            error: \"email existant\"\n          });\n        } else {\n          _this2.setState({\n            isLoading: false\n          });\n\n          _this2.gotToWaitMail();\n        }\n      }).catch(function (err) {\n        console.log('err', err);\n      });\n    }\n  }, {\n    key: \"gotToWaitMail\",\n    value: function gotToWaitMail() {\n      this.props.navigation.navigate(\"ActiveAccount\", {\n        tempEmail: this.email\n      });\n    }\n  }, {\n    key: \"goLogin\",\n    value: function goLogin() {\n      this.props.navigation.navigate(\"Login\");\n    }\n  }, {\n    key: \"checkForm\",\n    value: function checkForm() {\n      if (this.lastName === \"\") {\n        Alert.alert(\"Champ incomplet\", \"Vous n'avez pas remplis votre nom\");\n        return false;\n      }\n\n      if (this.firstName === \"\") {\n        Alert.alert(\"Champ incomplet\", \"Vous n'avez pas remplis votre pr√©nom\");\n        return false;\n      }\n\n      if (this.email === \"\") {\n        Alert.alert(\"Champ incomplet\", \"Vous n'avez pas remplis votre email\");\n        return false;\n      }\n\n      if (this.password === \"\") {\n        Alert.alert(\"Champ incomplet\", \"Vous n'avez pas remplis votre mot de passe\");\n        return false;\n      }\n\n      if (this.state.checked === false) {\n        Alert.alert(\"Champ incomplet\", \"Vous devez valider la politique RGPD\");\n        return false;\n      }\n\n      var reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n\n      if (reg.test(this.email) === false) {\n        Alert.alert(\"Votre email n'est pas valide\");\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"onChangeInput\",\n    value: function onChangeInput(text, type) {\n      this[type] = text;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(ScrollView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1,\n          marginTop: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        innerRef: function innerRef(ref) {\n          _this3.scroll = ref;\n        },\n        style: styles.main_contenair,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.main_Input,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }\n      }, React.createElement(Loader, {\n        loading: this.state.isLoading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }\n      }), this.state.error !== null && React.createElement(Text, {\n        style: styles.error,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 43\n        }\n      }, this.state.error), React.createElement(View, {\n        style: styles.inputContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 15\n        }\n      }, React.createElement(Image, {\n        style: styles.inputIcon,\n        source: require(\"../images/userIcon.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 17\n        }\n      }), React.createElement(TextInput, {\n        onChangeText: function onChangeText(text) {\n          return _this3.onChangeInput(text, 'lastName');\n        },\n        style: styles.inputs,\n        placeholder: \"Nom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 17\n        }\n      })), React.createElement(View, {\n        style: styles.inputContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 15\n        }\n      }, React.createElement(Image, {\n        style: styles.inputIcon,\n        source: require(\"../images/userIcon.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }\n      }), React.createElement(TextInput, {\n        onChangeText: function onChangeText(text) {\n          return _this3.onChangeInput(text, 'firstName');\n        },\n        style: styles.inputs,\n        placeholder: \"Prenom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }\n      })), React.createElement(View, {\n        style: styles.inputContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 15\n        }\n      }, React.createElement(Image, {\n        style: styles.inputIcon1,\n        source: require(\"../images/mail.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 17\n        }\n      }), React.createElement(TextInput, {\n        autoCapitalize: \"none\",\n        onChangeText: function onChangeText(text) {\n          return _this3.onChangeInput(text, 'email');\n        },\n        style: styles.inputs,\n        placeholder: \"Adresse email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }\n      })), React.createElement(View, {\n        style: styles.inputContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 15\n        }\n      }, React.createElement(Image, {\n        style: styles.inputIcon2,\n        source: require(\"../images/password.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 17\n        }\n      }), React.createElement(TextInput, {\n        autoCapitalize: \"none\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(text) {\n          return _this3.onChangeInput(text, 'password');\n        },\n        style: styles.inputs,\n        placeholder: \"Mot de passe\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }\n      })), React.createElement(View, {\n        style: styles.checkBox,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 15\n        }\n      }, React.createElement(CheckBox, {\n        checked: this.state.checked,\n        onPress: function onPress() {\n          return _this3.setState({\n            checked: !_this3.state.checked\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 17\n        }\n      }), React.createElement(Text, {\n        style: styles.checkBoxText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 17\n        }\n      }, \"J'accepte les CGU et la politique de gestion de la confidentialit\\xE9 de mes donn\\xE9es\")), React.createElement(TouchableOpacity, {\n        style: [styles.buttonContainer, styles.signupButton],\n        onPress: function onPress() {\n          return _this3.register();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: styles.signUpText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 17\n        }\n      }, \"S'inscrire \", \"  \"))))));\n    }\n  }]);\n\n  return SignupNew;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  main_contenair: {\n    flex: 1,\n    height: hp(\"100%\"),\n    zIndex: 0\n  },\n  image: {\n    width: wp(\"10%\"),\n    height: wp(\"10%\"),\n    alignSelf: 'center'\n  },\n  imageFacebook: {\n    width: 20,\n    height: 20,\n    marginTop: 10\n  },\n  main_logo: {\n    marginTop: hp(\"3%\"),\n    height: hp(\"40%\"),\n    alignSelf: 'center',\n    width: wp(\"100%\"),\n    paddingTop: hp(\"7%\"),\n    backgroundColor: \"#00C1B4\",\n    borderBottomRightRadius: 10,\n    borderBottomLeftRadius: 10\n  },\n  text_Logo: {\n    alignSelf: 'center',\n    color: '#fff',\n    fontSize: 30,\n    fontWeight: \"bold\"\n  },\n  tex_Connexion: {\n    alignSelf: 'center',\n    color: '#008ac8',\n    fontSize: 21,\n    marginTop: 15,\n    marginBottom: 15,\n    fontWeight: \"bold\"\n  },\n  main_Input: {\n    alignSelf: 'center',\n    width: wp(\"90%\"),\n    maxHeight: hp(\"80%\"),\n    backgroundColor: \"#fff\",\n    borderRadius: 20,\n    padding: 10,\n    position: \"absolute\",\n    top: hp(\"2%\")\n  },\n  body_container: {\n    flex: 1,\n    height: hp(\"100%\"),\n    zIndex: -1\n  },\n  Input: {\n    backgroundColor: '#fff',\n    height: 40,\n    marginTop: 10,\n    borderRadius: 5,\n    paddingLeft: 20\n  },\n  inputContainer: {\n    marginTop: 8,\n    borderColor: \"#d3d3d3\",\n    backgroundColor: '#FFFFFF',\n    borderRadius: 10,\n    borderWidth: 1,\n    width: \"100%\",\n    height: 50,\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 5,\n    zIndex: 1\n  },\n  inputs: {\n    height: 50,\n    marginLeft: 16,\n    width: \"100%\"\n  },\n  inputIcon: {\n    width: 22,\n    height: 22,\n    marginLeft: 15,\n    justifyContent: 'center'\n  },\n  inputIcon1: {\n    width: 22,\n    height: 15,\n    marginLeft: 15,\n    justifyContent: 'center'\n  },\n  inputIcon2: {\n    width: 18,\n    height: 23,\n    marginLeft: 15,\n    marginRight: 7,\n    justifyContent: 'center'\n  },\n  checkBox: {\n    flexDirection: 'row',\n    marginLeft: 0,\n    marginTop: 10\n  },\n  checkBoxText: {\n    color: \"#000\",\n    fontSize: 13,\n    alignSelf: 'center',\n    marginLeft: -12,\n    width: wp('60%')\n  },\n  buttonContainer: {\n    marginTop: 15,\n    height: 45,\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: \"100%\",\n    borderRadius: 10\n  },\n  signupButton: {\n    backgroundColor: \"#008ac8\"\n  },\n  signUpText: {\n    color: 'white',\n    fontWeight: 'bold',\n    fontSize: 16\n  },\n  error: {\n    alignSelf: 'center',\n    color: 'red',\n    fontSize: 14,\n    marginTop: 10\n  },\n  seConnecter: {\n    height: 50,\n    backgroundColor: '#00C1BC',\n    textAlign: 'center',\n    alignContent: 'center',\n    marginTop: 10,\n    borderWidth: 0.2,\n    borderRadius: 5,\n    paddingTop: 5,\n    paddingBottom: 5,\n    paddingLeft: 50,\n    paddingRight: 50,\n    fontSize: 15,\n    shadowColor: 'rgba(1, 161, 156, 1)',\n    shadowOpacity: 1.5,\n    elevation: 8,\n    shadowRadius: 20,\n    shadowOffset: {\n      width: 1,\n      height: 13\n    },\n    backgroundColor: '#00C1BC',\n    color: '#FFFFFF'\n  },\n  medecin: {\n    height: 50,\n    textAlign: 'center',\n    alignContent: 'center',\n    marginTop: 25,\n    borderWidth: 0.2,\n    borderTopLeftRadius: 10,\n    borderTopRightRadius: 10,\n    paddingTop: 5,\n    paddingBottom: 5,\n    paddingLeft: 50,\n    paddingRight: 50,\n    fontSize: 15,\n    shadowColor: 'rgba(1, 161, 156, 1)',\n    shadowOpacity: 1.5,\n    elevation: 8,\n    shadowRadius: 20,\n    shadowOffset: {\n      width: 1,\n      height: 13\n    },\n    backgroundColor: '#008ac8',\n    color: '#FFFFFF'\n  },\n  seConnecterFacebook: {\n    height: 50,\n    backgroundColor: '#00C1BC',\n    textAlign: 'center',\n    alignContent: 'center',\n    marginTop: 10,\n    borderWidth: 0.2,\n    borderRadius: 5,\n    paddingTop: 5,\n    paddingBottom: 5,\n    paddingLeft: 50,\n    paddingRight: 50,\n    fontSize: 15,\n    shadowColor: 'rgba(23, 149, 205, 0.5)',\n    shadowOpacity: 1.5,\n    elevation: 8,\n    shadowRadius: 20,\n    shadowOffset: {\n      width: 1,\n      height: 13\n    },\n    backgroundColor: '#FFF',\n    color: '#1795cd'\n  },\n  textFacebook: {\n    color: '#1795cd',\n    fontSize: 15,\n    width: 200,\n    marginTop: 10,\n    marginLeft: 10,\n    fontWeight: 'bold'\n  },\n  textConnexion: {\n    color: '#FFF',\n    fontSize: 15,\n    width: 200,\n    marginTop: 10,\n    fontWeight: 'bold',\n    textAlign: 'center'\n  },\n  textmedecin: {\n    color: '#FFF',\n    fontSize: 15,\n    width: 200,\n    marginTop: 10,\n    marginLeft: 50,\n    fontWeight: 'bold'\n  },\n  textLink: {\n    alignSelf: 'center',\n    marginTop: 12,\n    fontSize: 17\n  },\n  textLinkWhite: {\n    fontWeight: \"bold\",\n    alignSelf: 'center',\n    marginTop: 10,\n    color: '#00C1B4',\n    textDecorationLine: \"underline\",\n    fontSize: 16\n  }\n});\nexport default SignupNew;","map":{"version":3,"sources":["E:/Projets/Acadys/best4sante/SanteV2/assets/component/SignupNew.js"],"names":["React","CheckBox","ThemeProvider","Loader","axios","Bdd","widthPercentageToDP","wp","heightPercentageToDP","hp","listenOrientationChange","loc","removeOrientationListener","rol","KeyboardAwareScrollView","Location","urgency","google","API_KEY","cloud_key","SignupNew","props","componentDidMount","_getCountryCodeByLocation","getCurrentPositionAsync","location","get","coords","latitude","longitude","then","response","globalRes","data","results","address_components","filter","el","types","includes","resObj","long_name","localCountry","console","log","catch","err","state","error","isLoading","checked","firstName","lastName","email","password","localisation","prenomUser","nomUser","emailUser","passwordUser","deviceUser","paysUser","Platform","OS","form","checkForm","setState","post","api_url","res","status","gotToWaitMail","navigation","navigate","tempEmail","Alert","alert","reg","test","text","type","flex","marginTop","ref","scroll","styles","main_contenair","main_Input","inputContainer","inputIcon","require","onChangeInput","inputs","inputIcon1","inputIcon2","checkBox","checkBoxText","buttonContainer","signupButton","register","signUpText","Component","StyleSheet","create","height","zIndex","image","width","alignSelf","imageFacebook","main_logo","paddingTop","backgroundColor","borderBottomRightRadius","borderBottomLeftRadius","text_Logo","color","fontSize","fontWeight","tex_Connexion","marginBottom","maxHeight","borderRadius","padding","position","top","body_container","Input","paddingLeft","borderColor","borderWidth","flexDirection","alignItems","marginLeft","justifyContent","marginRight","seConnecter","textAlign","alignContent","paddingBottom","paddingRight","shadowColor","shadowOpacity","elevation","shadowRadius","shadowOffset","medecin","borderTopLeftRadius","borderTopRightRadius","seConnecterFacebook","textFacebook","textConnexion","textmedecin","textLink","textLinkWhite","textDecorationLine"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { View, Text, StyleSheet, Image, TextInput, Platform, StatusBar, Button, Keyboard, Alert, TouchableOpacity, ScrollView, KeyboardAvoidingView } from 'react-native'\r\nimport { CheckBox, ThemeProvider } from 'react-native-elements'\r\nimport Loader from './loader'\r\nimport axios from 'axios';\r\nimport Bdd from '../API/Bdd'\r\nimport {\r\n  widthPercentageToDP as wp,\r\n  heightPercentageToDP as hp,\r\n  listenOrientationChange as loc,\r\n  removeOrientationListener as rol\r\n} from 'react-native-responsive-screen'\r\nimport {KeyboardAwareScrollView} from 'react-native-keyboard-aware-scrollview'\r\nimport * as Location from 'expo-location';\r\nimport { urgency } from \"../API/urgency\";\r\nimport google from \"../API/google\"\r\nconst API_KEY = google.cloud_key;\r\n\r\nclass SignupNew extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      error: null,\r\n      isLoading: false,\r\n      checked: false\r\n    }\r\n    this.firstName = \"\";\r\n    this.lastName = \"\";\r\n    this.email = \"\";\r\n    this.password = \"\";\r\n    this.localisation = {};\r\n    this.localCountry = \"\";\r\n  }\r\n\r\n\r\n  componentDidMount = async () => {\r\n    loc(this);\r\n    await this._getCountryCodeByLocation()\r\n  }\r\n\r\n  componentWillUnMount() {\r\n    rol();\r\n  }\r\n\r\n\r\n  _creation() {\r\n    let data = {\r\n      prenomUser: this.firstName,\r\n      nomUser: this.lastName,\r\n      emailUser: this.email,\r\n      passwordUser: this.password,\r\n      deviceUser: null,\r\n      paysUser: null\r\n    }\r\n\r\n    if (Platform.OS === 'ios') {\r\n      data.deviceUser = 'ios';\r\n    } else if (Platform.OS === 'android') {\r\n      data.deviceUser = 'android';\r\n    }\r\n\r\n    data.paysUser = this.localCountry\r\n    console.log(data)\r\n  }\r\n\r\n  _getCountryCodeByLocation = async () => {\r\n      let location = await Location.getCurrentPositionAsync({});\r\n      axios.get(\"https://maps.googleapis.com/maps/api/geocode/json?latlng=\" + location.coords.latitude + \",\" + location.coords.longitude + \"&key=\" + API_KEY)\r\n            .then(async response => {\r\n                const globalRes = response.data.results[0].address_components\r\n\r\n                let resObj = await globalRes.filter(el => {\r\n                    return el.types.includes(\"country\")\r\n                })\r\n                this.localCountry = await resObj[0].long_name\r\n                console.log('Pays ',this.localCountry)\r\n                return this.localCountry\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                return null\r\n            })\r\n  };\r\n\r\n  register() {\r\n    let form = this.checkForm()\r\n    if (form === false) {\r\n      return;\r\n    }\r\n\r\n    let data = {\r\n      prenomUser: this.firstName,\r\n      nomUser: this.lastName,\r\n      emailUser: this.email,\r\n      passwordUser: this.password,\r\n      deviceUser: null,\r\n      paysUser: null\r\n    }\r\n    data.paysUser = this.localCountry;\r\n    if (Platform.OS === 'ios') {\r\n      data.deviceUser = 'ios';\r\n    } else if (Platform.OS === 'android') {\r\n      data.deviceUser = 'android';\r\n    }\r\n\r\n    this.setState({ isLoading: true });\r\n    axios.post(Bdd.api_url + '/signup', data)\r\n      .then((res) => {\r\n        if (res.status === 400) {\r\n          this.setState({ isLoading: false, error: \"email existant\" })\r\n        }\r\n        else {\r\n          this.setState({ isLoading: false })\r\n          this.gotToWaitMail()\r\n        }\r\n      }).catch((err) => {\r\n        console.log('err', err);\r\n\r\n      })\r\n  }\r\n\r\n  gotToWaitMail() {\r\n    this.props.navigation.navigate(\"ActiveAccount\", { tempEmail: this.email })\r\n  }\r\n  goLogin() {\r\n    this.props.navigation.navigate(\"Login\")\r\n  }\r\n  checkForm() {\r\n\r\n    if (this.lastName === \"\") {\r\n      Alert.alert(\"Champ incomplet\", \"Vous n'avez pas remplis votre nom\")\r\n      return false;\r\n    }\r\n\r\n    if (this.firstName === \"\") {\r\n      Alert.alert(\"Champ incomplet\", \"Vous n'avez pas remplis votre pr√©nom\")\r\n      return false;\r\n    }\r\n\r\n\r\n\r\n    if (this.email === \"\") {\r\n      Alert.alert(\"Champ incomplet\", \"Vous n'avez pas remplis votre email\")\r\n      return false;\r\n    }\r\n\r\n    if (this.password === \"\") {\r\n      Alert.alert(\"Champ incomplet\", \"Vous n'avez pas remplis votre mot de passe\")\r\n      return false;\r\n    }\r\n    if (this.state.checked === false) {\r\n      Alert.alert(\"Champ incomplet\", \"Vous devez valider la politique RGPD\")\r\n      return false;\r\n    }\r\n\r\n    const reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\r\n\r\n    if (reg.test(this.email) === false) {\r\n      Alert.alert(\"Votre email n'est pas valide\")\r\n      return false;\r\n    }\r\n\r\n    /*   if(this.state.checked === false) {\r\n         this.setState({error: \"Vous devez valider la politique RGPD\"});\r\n         return false;\r\n       }\r\n   */\r\n    return true;\r\n\r\n  }\r\n  onChangeInput(text, type) {\r\n    this[type] = text;\r\n  }\r\n  render() {\r\n    return (\r\n      <ScrollView>\r\n      <View style={{ flex: 1, marginTop: 0 }}>\r\n        <View innerRef={ref => { this.scroll = ref }} style={styles.main_contenair}>\r\n          <View style={styles.main_Input} >\r\n          <Loader loading={this.state.isLoading} />\r\n            {this.state.error !== null && <Text style={styles.error}>{this.state.error}</Text>}\r\n              <View style={styles.inputContainer}>\r\n                <Image style={styles.inputIcon} source={require('../images/userIcon.png')} />\r\n                <TextInput onChangeText={(text) => this.onChangeInput(text, 'lastName')} \r\n                style={styles.inputs} placeholder=\"Nom\" />\r\n              </View>\r\n\r\n              <View style={styles.inputContainer}>\r\n                <Image style={styles.inputIcon} source={require('../images/userIcon.png')} />\r\n                <TextInput onChangeText={(text) => this.onChangeInput(text, 'firstName')} \r\n                style={styles.inputs} placeholder=\"Prenom\" />\r\n\r\n              </View>\r\n\r\n              <View style={styles.inputContainer}>\r\n                <Image style={styles.inputIcon1} source={require('../images/mail.png')} />\r\n                <TextInput autoCapitalize='none' onChangeText={(text) => this.onChangeInput(text, 'email')} \r\n                style={styles.inputs} placeholder=\"Adresse email\" />\r\n              </View>\r\n\r\n              <View style={styles.inputContainer}>\r\n                <Image style={styles.inputIcon2} source={require('../images/password.png')} />\r\n                <TextInput autoCapitalize='none' secureTextEntry={true} onChangeText={(text) => this.onChangeInput(text, 'password')} \r\n                style={styles.inputs} placeholder=\"Mot de passe\"\r\n                />\r\n              </View>\r\n\r\n              <View style={styles.checkBox}>\r\n                <CheckBox checked={this.state.checked} onPress={() => this.setState({ checked: !this.state.checked })} />\r\n                <Text style={styles.checkBoxText}>\r\n                  J'accepte les CGU et la politique de\r\n                  gestion de la confidentialit√© de\r\n                  mes donn√©es\r\n                </Text>\r\n              </View>\r\n\r\n\r\n              <TouchableOpacity style={[styles.buttonContainer, styles.signupButton]} onPress={() => this.register()}>\r\n                <Text style={styles.signUpText}>S'inscrire {\"  \"}</Text>\r\n              </TouchableOpacity>\r\n\r\n          </View>\r\n\r\n        </View >\r\n      </View>\r\n      </ScrollView>\r\n    );\r\n  }\r\n}\r\nconst styles = StyleSheet.create(\r\n  {\r\n    main_contenair: {\r\n      flex: 1,\r\n      height: hp(\"100%\"),\r\n      zIndex: 0\r\n    },\r\n    image: {\r\n      width: wp(\"10%\"),\r\n      height: wp(\"10%\"),\r\n      alignSelf: 'center'\r\n    },\r\n    imageFacebook: {\r\n      width: 20,\r\n      height: 20,\r\n      marginTop: 10\r\n    },\r\n    main_logo: {\r\n      marginTop: hp(\"3%\"),\r\n      height: hp(\"40%\"),\r\n      alignSelf: 'center',\r\n      width: wp(\"100%\"),\r\n      paddingTop: hp(\"7%\"),\r\n      backgroundColor: \"#00C1B4\",\r\n      borderBottomRightRadius: 10,\r\n      borderBottomLeftRadius: 10,\r\n    },\r\n    text_Logo: {\r\n      alignSelf: 'center',\r\n      color: '#fff',\r\n      fontSize: 30,\r\n      fontWeight: \"bold\"\r\n    },\r\n    tex_Connexion: {\r\n      alignSelf: 'center',\r\n      color: '#008ac8',\r\n      fontSize: 21,\r\n      marginTop: 15,\r\n      marginBottom: 15,\r\n      fontWeight: \"bold\",\r\n    },\r\n    main_Input: {\r\n      // flex:1,\r\n      alignSelf: 'center',\r\n      width: wp(\"90%\"),\r\n      maxHeight: hp(\"80%\"),\r\n      backgroundColor: \"#fff\",\r\n      borderRadius: 20,\r\n      padding: 10,\r\n      position: \"absolute\",\r\n      top: hp(\"2%\")\r\n    },\r\n\r\n    body_container: {\r\n\r\n      flex: 1,\r\n      height: hp(\"100%\"),\r\n      // backgroundColor: \"green\",\r\n      zIndex: -1\r\n    },\r\n    Input: {\r\n      backgroundColor: '#fff',\r\n      height: 40,\r\n      marginTop: 10,\r\n      borderRadius: 5,\r\n      paddingLeft: 20\r\n\r\n    },\r\n\r\n    inputContainer: {\r\n      marginTop: 8,\r\n      borderColor: \"#d3d3d3\",\r\n      backgroundColor: '#FFFFFF',\r\n      borderRadius: 10,\r\n      borderWidth: 1,\r\n      width: \"100%\",\r\n      height: 50,\r\n      flexDirection: 'row',\r\n      alignItems: 'center',\r\n      marginBottom: 5,\r\n      zIndex: 1\r\n    },\r\n    inputs: {\r\n      height: 50,\r\n      marginLeft: 16,\r\n      width: \"100%\",\r\n\r\n    },\r\n    inputIcon: {\r\n      width: 22,\r\n      height: 22,\r\n      marginLeft: 15,\r\n      justifyContent: 'center'\r\n    },\r\n    inputIcon1: {\r\n      width: 22,\r\n      height: 15,\r\n      marginLeft: 15,\r\n      justifyContent: 'center',\r\n    },\r\n    inputIcon2: {\r\n      width: 18,\r\n      height: 23,\r\n      marginLeft: 15,\r\n      marginRight: 7,\r\n      justifyContent: 'center',\r\n    },\r\n    checkBox: {\r\n      flexDirection: 'row',\r\n      marginLeft : 0,\r\n      marginTop: 10\r\n    },\r\n    checkBoxText: {\r\n      color: \"#000\",\r\n      fontSize: 13,\r\n      alignSelf: 'center',\r\n      marginLeft: -12,\r\n      width: wp('60%')\r\n    },\r\n\r\n    buttonContainer: {\r\n      marginTop: 15,\r\n     \r\n      height: 45,\r\n      flexDirection: 'row',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      width: \"100%\",\r\n      borderRadius: 10,\r\n      // shadowColor: 'rgba(1, 161, 156, 1)',\r\n      //   shadowOpacity: 1.5,\r\n      //   elevation: 8,\r\n      //   shadowRadius: 20 ,\r\n      //   shadowOffset : { width: 1, height: 13},\r\n    },\r\n    signupButton: {\r\n      backgroundColor: \"#008ac8\",\r\n    },\r\n    signUpText: {\r\n      color: 'white',\r\n      fontWeight: 'bold',\r\n      fontSize: 16\r\n    },\r\n    error: {\r\n      alignSelf: 'center',\r\n      color: 'red',\r\n      fontSize: 14,\r\n      marginTop: 10\r\n    },\r\n    seConnecter: {\r\n      height: 50,\r\n      backgroundColor: '#00C1BC',\r\n      textAlign: 'center',\r\n      alignContent: 'center',\r\n      marginTop: 10,\r\n      borderWidth: 0.2,\r\n      borderRadius: 5,\r\n      paddingTop: 5,\r\n      paddingBottom: 5,\r\n      paddingLeft: 50,\r\n      paddingRight: 50,\r\n      fontSize: 15,\r\n      shadowColor: 'rgba(1, 161, 156, 1)',\r\n      shadowOpacity: 1.5,\r\n      elevation: 8,\r\n      shadowRadius: 20,\r\n      shadowOffset: { width: 1, height: 13 },\r\n      backgroundColor: '#00C1BC',\r\n      color: '#FFFFFF'\r\n    },\r\n    medecin: {\r\n      height: 50,\r\n      textAlign: 'center',\r\n      alignContent: 'center',\r\n      marginTop: 25,\r\n      borderWidth: 0.2,\r\n      borderTopLeftRadius: 10,\r\n      borderTopRightRadius: 10,\r\n      paddingTop: 5,\r\n      paddingBottom: 5,\r\n      paddingLeft: 50,\r\n      paddingRight: 50,\r\n      fontSize: 15,\r\n      shadowColor: 'rgba(1, 161, 156, 1)',\r\n      shadowOpacity: 1.5,\r\n      elevation: 8,\r\n      shadowRadius: 20,\r\n      shadowOffset: { width: 1, height: 13 },\r\n      backgroundColor: '#008ac8',\r\n      color: '#FFFFFF'\r\n    },\r\n    seConnecterFacebook: {\r\n      height: 50,\r\n      backgroundColor: '#00C1BC',\r\n      textAlign: 'center',\r\n      alignContent: 'center',\r\n      marginTop: 10,\r\n      borderWidth: 0.2,\r\n      borderRadius: 5,\r\n      paddingTop: 5,\r\n      paddingBottom: 5,\r\n      paddingLeft: 50,\r\n      paddingRight: 50,\r\n      fontSize: 15,\r\n      shadowColor: 'rgba(23, 149, 205, 0.5)',\r\n      shadowOpacity: 1.5,\r\n      elevation: 8,\r\n      shadowRadius: 20,\r\n      shadowOffset: { width: 1, height: 13 },\r\n      backgroundColor: '#FFF',\r\n      color: '#1795cd',\r\n    },\r\n    textFacebook: {\r\n      color: '#1795cd',\r\n      fontSize: 15,\r\n      width: 200,\r\n      marginTop: 10,\r\n      marginLeft: 10,\r\n      fontWeight: 'bold'\r\n    },\r\n    textConnexion: {\r\n      color: '#FFF',\r\n      fontSize: 15,\r\n      width: 200,\r\n      marginTop: 10,\r\n      fontWeight: 'bold',\r\n      textAlign: 'center'\r\n    },\r\n    textmedecin: {\r\n      color: '#FFF',\r\n      fontSize: 15,\r\n      width: 200,\r\n      marginTop: 10,\r\n      marginLeft: 50,\r\n      fontWeight: 'bold'\r\n    },\r\n    textLink: {\r\n      alignSelf: 'center',\r\n      marginTop: 12,\r\n      fontSize: 17\r\n    },\r\n    textLinkWhite: {\r\n      fontWeight: \"bold\",\r\n      alignSelf: 'center',\r\n      marginTop: 10,\r\n      color: '#00C1B4',\r\n      textDecorationLine : \"underline\",\r\n      fontSize: 16\r\n    }\r\n\r\n  }\r\n)\r\nexport default SignupNew;"]},"metadata":{},"sourceType":"module"}