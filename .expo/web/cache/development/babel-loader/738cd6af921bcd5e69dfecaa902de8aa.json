{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Stenny Gabriel\\\\best4sante\\\\Best4Sante\\\\assets\\\\component\\\\Home.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport Slider from \"react-native-web/dist/exports/Slider\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { KeyboardAvoidView } from \"react-native-web/dist/index\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Button } from 'react-native-elements';\nimport { withNavigation } from 'react-navigation';\nimport { connect } from 'react-redux';\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport MapView, { Marker, Callout } from 'react-native-maps';\nimport MapViewDirections from \"react-native-maps-directions\";\nimport Constants from 'expo-constants';\nimport * as Location from 'expo-location';\nimport * as Permissions from 'expo-permissions';\nimport Header from \"./Menu/Header\";\nimport DetailCard from \"./DetailCard\";\nimport axios from 'axios';\nimport { choices } from \"../API/practioners\";\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\nimport { faLocationArrow, faBroom, faBackward, faChevronDown } from '@fortawesome/free-solid-svg-icons';\nimport Bdd from \"../API/Bdd\";\nimport Loader from \"./loader\";\nimport Footer from \"./Menu/Footer\";\nimport TopMenu from \"./Menu/TopMenu\";\nimport BottomMenu from \"./Menu/BottomMenu\";\nvar DEFAULT_COORD = {\n  coords: {\n    latitude: 48.859268,\n    longitude: 2.347060\n  }\n};\nvar DEP_COORD = {\n  latitude: -23.3399372,\n  longitude: 43.6596225\n};\nvar DEST_COORD = {\n  latitude: -23.3568974,\n  longitude: 43.664497\n};\nvar API_KEY = 'AIzaSyBOoJBp0W8ksY21rV4yAGoHHCSaJRVyibs';\n\nvar Home = function (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  var _super = _createSuper(Home);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(_this._getLocationAsync());\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._onChangeFavo = function () {\n      _this.setState({\n        isFavo: !_this.state.isFavo\n      });\n    };\n\n    _this._onClickClose = function (type) {\n      _this.setState({\n        isDisplay: false\n      });\n    };\n\n    _this._getLocationAsync = function _callee2() {\n      var _await$Permissions$as, status, location;\n\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.LOCATION));\n\n            case 2:\n              _await$Permissions$as = _context2.sent;\n              status = _await$Permissions$as.status;\n\n              if (!(status !== 'granted')) {\n                _context2.next = 8;\n                break;\n              }\n\n              _this.setState({\n                errorMessage: 'Permission to access location was denied'\n              });\n\n              _context2.next = 12;\n              break;\n\n            case 8:\n              _context2.next = 10;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 10:\n              location = _context2.sent;\n\n              _this.setState({\n                location: location,\n                mapLocation: location\n              });\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._onClickDirection = function () {\n      _this.setState({\n        isDirection: true\n      });\n    };\n\n    _this.onClickBack = function () {\n      _this.setState({\n        isDirection: false,\n        mapLocation: _this.state.location\n      });\n    };\n\n    _this.state = {\n      location: DEFAULT_COORD,\n      destination: DEFAULT_COORD,\n      mapLocation: DEFAULT_COORD,\n      radius: 500,\n      errorMessage: null,\n      search: \"\",\n      selected: \"\",\n      autocomplete: [],\n      markers: [],\n      deltaLat: 0.1000,\n      deltaLng: 0.0500,\n      isDisplay: false,\n      detail: null,\n      isDirection: false,\n      isFavo: false,\n      favoriteId: \"ChIJqwot8jt-8CERZxtjIIStjNs\",\n      isLoading: false\n    };\n    _this.testRad = 500;\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"onChangeInput\",\n    value: function onChangeInput(text) {\n      var _this2 = this;\n\n      this.setState({\n        search: text\n      }, function () {\n        _this2.createGoodList(_this2.state.search);\n      });\n    }\n  }, {\n    key: \"createGoodList\",\n    value: function createGoodList(keyword) {\n      var selected = keyword.replace('é', 'e').replace('è', 'e').replace('ç', 'c').replace('à', 'a');\n      var autocomplete = choices.filter(function (choice) {\n        return choice.val.indexOf(selected.toLowerCase()) !== -1;\n      });\n      this.setState({\n        autocomplete: autocomplete\n      });\n    }\n  }, {\n    key: \"renderList\",\n    value: function renderList() {\n      var _this3 = this;\n\n      return this.state.autocomplete.map(function (auto, index) {\n        return React.createElement(TouchableOpacity, {\n          key: index,\n          style: styles.list,\n          onPress: function onPress() {\n            _this3.setState({\n              selected: auto.val\n            }, _this3.onPressList(auto.val));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }\n        }, React.createElement(Text, {\n          style: styles.listText,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 17\n          }\n        }, auto.name));\n      });\n    }\n  }, {\n    key: \"onPressList\",\n    value: function onPressList(value) {\n      var _this4 = this;\n\n      if (this.state.selected !== \"\") {\n        this.setState({\n          isLoading: true,\n          autocomplete: []\n        });\n        axios.get('https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=' + API_KEY + '&location=' + this.state.location.coords.latitude + ',' + this.state.location.coords.longitude + '&radius=5000&keyword=restaurant').then(function (res) {\n          console.log(\"gùa^\", res.data);\n\n          _this4.setState({\n            isLoading: false\n          });\n\n          var autocomplete = [];\n\n          _this4.setState({\n            markers: res.data.results,\n            autocomplete: autocomplete\n          }, function () {\n            _this4.setState({\n              search: \"\"\n            });\n\n            Keyboard.dismiss();\n          });\n        }).catch(function (err) {});\n      }\n    }\n  }, {\n    key: \"changeRadius\",\n    value: function changeRadius(value) {\n      this.setState({\n        radius: value\n      });\n      var deltaLat = 0.1000;\n      var deltaLng = 0.0500;\n\n      if (value < 1000) {\n        deltaLat = 0.0200;\n        deltaLng = 0.0100;\n      } else if (value < 2500) {\n        deltaLat = 0.0200;\n        deltaLng = 0.0100;\n      }\n\n      this.setState({\n        radius: value,\n        deltaLat: deltaLat,\n        deltaLng: deltaLng\n      }, this.onPressList(this.state.selected));\n    }\n  }, {\n    key: \"createMarkers\",\n    value: function createMarkers() {\n      return this.state.markers.map(function (marker) {\n        return React.createElement(Marker, {\n          key: marker.id,\n          coordinate: {\n            latitude: marker.geometry.location.lat,\n            longitude: marker.geometry.location.lat\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 16\n          }\n        });\n      });\n    }\n  }, {\n    key: \"onPressDetail\",\n    value: function onPressDetail(placeId) {\n      var _this5 = this;\n\n      axios.get('https://maps.googleapis.com/maps/api/place/details/json?place_id=' + placeId + '&key=' + API_KEY).then(function (res) {\n        var location = {\n          coords: {\n            latitude: res.data.result.geometry.location.lat,\n            longitude: res.data.result.geometry.location.lng\n          }\n        };\n        var g_id = res.data.result.place_id;\n        var idUser = _this5.props.user.user.idUser;\n        axios.get(Bdd.api_url + \"/favoris/list?idUser=\" + idUser + \"&placeId=\" + g_id).then(function _callee3(favoris) {\n          return _regeneratorRuntime.async(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  console.log(favoris);\n                  _context3.next = 3;\n                  return _regeneratorRuntime.awrap(!favoris.data);\n\n                case 3:\n                  if (!_context3.sent) {\n                    _context3.next = 7;\n                    break;\n                  }\n\n                  _this5.setState({\n                    isDisplay: true,\n                    detail: res.data.result,\n                    mapLocation: location,\n                    destination: location,\n                    isFavo: false\n                  });\n\n                  _context3.next = 8;\n                  break;\n\n                case 7:\n                  _this5.setState({\n                    isDisplay: true,\n                    detail: res.data.result,\n                    mapLocation: location,\n                    destination: location,\n                    isFavo: true,\n                    favoriteId: favoris.geoIdFavoris\n                  });\n\n                case 8:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        });\n      }).catch(function (err) {});\n    }\n  }, {\n    key: \"onClickGoLocation\",\n    value: function onClickGoLocation() {\n      this.setState({\n        mapLocation: this.state.location\n      });\n    }\n  }, {\n    key: \"onClickDelete\",\n    value: function onClickDelete() {\n      this.setState({\n        markers: [],\n        isDisplay: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      return React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 7\n        }\n      }, React.createElement(ScrollView, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 1\n        }\n      }, React.createElement(Loader, {\n        loading: this.state.isLoading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 23\n        }\n      }), React.createElement(View, {\n        style: Platform.OS === 'ios' ? styles.under_ios : styles.under,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 9\n        }\n      }, React.createElement(TopMenu, {\n        navigation: this.props.navigation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: styles.location,\n        onPress: function onPress(e) {\n          _this6.onClickGoLocation();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: wp('10%'),\n          height: wp('10%'),\n          backgroundColor: 'white'\n        },\n        source: require(\"../images/cible.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }\n      })), this.state.isDirection == false && React.createElement(TouchableOpacity, {\n        style: styles.broom,\n        onPress: function onPress(e) {\n          _this6.onClickDelete();\n\n          _this6.onClickGoLocation();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 44\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: wp('10%'),\n          height: wp('10%'),\n          backgroundColor: 'white'\n        },\n        source: require(\"../images/Gomme.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 9\n        }\n      })), this.state.isDirection == true && React.createElement(TouchableOpacity, {\n        style: styles.broom,\n        onPress: function onPress(e) {\n          _this6.onClickBack();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 43\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        size: 30,\n        icon: faBackward,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 9\n        }\n      })), React.createElement(View, {\n        style: Platform.OS === 'ios' ? styles.head_ios : styles.head,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1,\n          flexDirection: \"row\",\n          paddingTop: hp(\"3%\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }\n      }, React.createElement(TextInput, {\n        style: styles.textinput,\n        onChangeText: function onChangeText(text) {\n          return _this6.onChangeInput(text);\n        },\n        value: this.state.search,\n        placeholder: \"Que cherchez vous ?\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }\n      }), React.createElement(FontAwesomeIcon, {\n        icon: faChevronDown,\n        color: \"#008AC8\",\n        size: 24,\n        style: {\n          width: wp('5%'),\n          height: wp('5%'),\n          position: 'relative',\n          right: wp(\"12%\"),\n          top: hp('2%')\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 11\n        }\n      })), this.state.autocomplete.length !== 0 && React.createElement(View, {\n        style: styles.autoDiv,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 53\n        }\n      }, React.createElement(ScrollView, {\n        style: styles.auto,\n        indicatorStyle: \"white\",\n        keyboardShouldPersistTaps: \"always\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 14\n        }\n      }, this.renderList()))), React.createElement(View, {\n        style: styles.main,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.map,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }\n      }, React.createElement(MapView, {\n        style: {\n          flex: 1\n        },\n        region: {\n          latitude: this.state.mapLocation.coords.latitude,\n          longitude: this.state.mapLocation.coords.longitude,\n          latitudeDelta: this.state.deltaLat,\n          longitudeDelta: this.state.deltaLng\n        },\n        showsUserLocation: true,\n        scrollEnabled: true,\n        liteMode: false,\n        zoom: 15,\n        zoomEnabled: true,\n        zoomControlEnabled: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }\n      }, this.state.isDirection == false && this.state.markers.map(function (marker, index) {\n        return React.createElement(MapView.Marker, {\n          key: 'key-' + index,\n          d: true,\n          title: marker.name,\n          coordinate: {\n            latitude: marker.geometry.location.lat,\n            longitude: marker.geometry.location.lng\n          },\n          onPress: function onPress() {\n            _this6.onPressDetail(marker.place_id);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 27\n          }\n        });\n      }), this.state.isDirection === true && React.createElement(Marker, {\n        coordinate: {\n          latitude: this.state.destination.coords.latitude,\n          longitude: this.state.destination.coords.longitude\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 19\n        }\n      }), this.state.isDirection === true && React.createElement(MapViewDirections, {\n        zIndex: 2,\n        origin: {\n          latitude: this.state.location.coords.latitude,\n          longitude: this.state.location.coords.longitude\n        },\n        destination: {\n          latitude: this.state.destination.coords.latitude,\n          longitude: this.state.destination.coords.longitude\n        },\n        apikey: API_KEY,\n        strokeWidth: 3,\n        strokeColor: \"green\",\n        optimizeWaypoints: true,\n        mode: \"WALKING\",\n        onStart: function onStart(params) {},\n        onReady: function onReady(result) {},\n        onError: function onError(errorMessage) {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 19\n        }\n      })))), React.createElement(View, {\n        style: styles.sliderContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 9\n        }\n      }, React.createElement(Slider, {\n        style: styles.slider,\n        step: 1,\n        maximumValue: 15,\n        onSlidingComplete: function onSlidingComplete(value) {\n          _this6.changeRadius(value);\n        },\n        value: this.state.radius,\n        maximumTrackTintColor: \"#e2e0e0\",\n        minimumTrackTintColor: \"#008AC8\",\n        thumbTintColor: \"#008AC8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 11\n        }\n      }), React.createElement(Text, {\n        style: {\n          marginBottom: hp('1%'),\n          color: '#008AC8',\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }\n      }, this.state.radius, \" m\")), this.state.isDisplay && React.createElement(DetailCard, {\n        style: styles.card,\n        detail: this.state.detail,\n        isFavo: this.state.isFavo,\n        onClickClose: this._onClickClose,\n        onClickDirection: this._onClickDirection,\n        onChangeFavo: this._onChangeFavo,\n        favoriteId: this.state.favoriteId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 42\n        }\n      })));\n    }\n  }]);\n\n  return Home;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    backgroundColor: '#fff',\n    backgroundColor: '#00C1B4'\n  },\n  main: {},\n  footer: {},\n  map: {\n    width: wp('100%'),\n    height: hp('57%')\n  },\n  sliderContainer: {\n    height: hp(\"13%\"),\n    width: wp('100%'),\n    backgroundColor: \"white\",\n    alignItems: 'center'\n  },\n  slider: {\n    width: wp('80%'),\n    marginTop: hp(\"1%\"),\n    color: \"#008AC8\"\n  },\n  head_ios: {\n    flex: 1.5,\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 1\n  },\n  head: {\n    flex: 1.5,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  textinput: {\n    marginLeft: wp(\"10%\"),\n    textAlign: 'center',\n    height: 50,\n    width: wp(\"90%\"),\n    paddingLeft: 5,\n    backgroundColor: 'white',\n    borderRadius: 5,\n    marginBottom: hp('2%')\n  },\n  autoDiv: {\n    flex: 1,\n    paddingLeft: wp('10%'),\n    paddingRight: wp('10%'),\n    position: \"absolute\",\n    top: hp('10%'),\n    zIndex: 8,\n    backgroundColor: '#00C1B4',\n    width: wp('84%'),\n    maxHeight: hp(\"40%\")\n  },\n  auto: {\n    flex: 1,\n    paddingLeft: wp('5%'),\n    paddingRight: wp('5%')\n  },\n  list: {\n    paddingLeft: wp('2%'),\n    paddingRight: wp('2%'),\n    paddingBottom: hp('1%'),\n    paddingTop: hp('1%'),\n    zIndex: 10,\n    color: \"#008AC8\"\n  },\n  listText: {\n    color: \"white\",\n    textAlign: \"center\",\n    fontWeight: 'bold'\n  },\n  location: {\n    position: \"absolute\",\n    bottom: hp(\"30%\"),\n    right: wp('5%'),\n    zIndex: 10,\n    backgroundColor: \"white\",\n    paddingTop: hp('1%'),\n    paddingBottom: hp('1%'),\n    paddingLeft: wp('1%'),\n    paddingRight: wp('1%'),\n    borderRadius: 12\n  },\n  broom: {\n    position: \"absolute\",\n    bottom: hp(\"22%\"),\n    right: wp('5%'),\n    zIndex: 10,\n    backgroundColor: \"white\",\n    paddingTop: hp('1%'),\n    paddingBottom: hp('1%'),\n    paddingLeft: wp('1%'),\n    paddingRight: wp('1%'),\n    borderRadius: 12\n  },\n  loading_container: {\n    position: 'absolute',\n    zIndex: 10,\n    left: 0,\n    right: 0,\n    top: 100,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  under: {\n    height: hp('10%'),\n    width: wp(\"100%\")\n  },\n  under_ios: {\n    width: wp(\"100%\"),\n    height: hp('10%'),\n    zIndex: 2\n  },\n  card: {\n    zIndex: 99999\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    favorite: store.favorite,\n    user: store.user\n  };\n};\n\nvar mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["C:/Users/Stenny Gabriel/best4sante/Best4Sante/assets/component/Home.js"],"names":["React","KeyboardAvoidView","Button","withNavigation","connect","widthPercentageToDP","wp","heightPercentageToDP","hp","MapView","Marker","Callout","MapViewDirections","Constants","Location","Permissions","Header","DetailCard","axios","choices","FontAwesomeIcon","faLocationArrow","faBroom","faBackward","faChevronDown","Bdd","Loader","Footer","TopMenu","BottomMenu","DEFAULT_COORD","coords","latitude","longitude","DEP_COORD","DEST_COORD","API_KEY","Home","props","componentDidMount","_getLocationAsync","_onChangeFavo","setState","isFavo","state","_onClickClose","type","isDisplay","askAsync","LOCATION","status","errorMessage","getCurrentPositionAsync","location","mapLocation","_onClickDirection","isDirection","onClickBack","destination","radius","search","selected","autocomplete","markers","deltaLat","deltaLng","detail","favoriteId","isLoading","testRad","text","createGoodList","keyword","replace","filter","choice","val","indexOf","toLowerCase","map","auto","index","styles","list","onPressList","listText","name","value","get","then","res","console","log","data","results","Keyboard","dismiss","catch","err","marker","id","geometry","lat","placeId","result","lng","g_id","place_id","idUser","user","api_url","favoris","geoIdFavoris","flex","container","Platform","OS","under_ios","under","navigation","e","onClickGoLocation","width","height","backgroundColor","require","broom","onClickDelete","head_ios","head","flexDirection","paddingTop","textinput","onChangeInput","position","right","top","length","autoDiv","renderList","main","latitudeDelta","longitudeDelta","onPressDetail","params","sliderContainer","slider","changeRadius","marginBottom","color","fontWeight","card","Component","StyleSheet","create","footer","alignItems","marginTop","justifyContent","zIndex","marginLeft","textAlign","paddingLeft","borderRadius","paddingRight","maxHeight","paddingBottom","bottom","loading_container","left","mapStateToProps","store","favorite","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport{StyleSheet, ScrollView, Text, View, AsyncStorage, Slider, Image, TextInput, KeyboardAvoidView, TouchableOpacity, Keyboard, ActivityIndicator } from 'react-native'\r\nimport {Button} from 'react-native-elements';\r\nimport {withNavigation} from 'react-navigation'\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    widthPercentageToDP as wp,\r\n    heightPercentageToDP as hp,\r\n  } from 'react-native-responsive-screen';\r\nimport MapView,{Marker,Callout} from 'react-native-maps'\r\nimport MapViewDirections from \"react-native-maps-directions\"\r\nimport Constants from 'expo-constants';\r\nimport * as Location from 'expo-location';\r\nimport * as Permissions from 'expo-permissions';\r\nimport Header from './Menu/Header'\r\nimport DetailCard from \"./DetailCard\"\r\nimport axios from 'axios';\r\nimport {choices} from '../API/practioners';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome'\r\nimport { faLocationArrow, faBroom, faBackward, faChevronDown } from '@fortawesome/free-solid-svg-icons'\r\nimport Bdd from '../API/Bdd'\r\nimport Loader from './loader'\r\nimport Footer from './Menu/Footer'\r\nimport TopMenu from './Menu/TopMenu';\r\nimport BottomMenu from \"./Menu/BottomMenu\"\r\nconst DEFAULT_COORD = {coords: {\r\n    latitude: 48.859268,\r\n    longitude: 2.347060\r\n  }\r\n};\r\n\r\nconst DEP_COORD = {\r\n  latitude: -23.3399372,\r\n  longitude: 43.6596225\r\n}\r\nconst DEST_COORD = {\r\n  latitude: -23.3568974,\r\n  longitude: 43.664497\r\n}\r\nconst API_KEY = 'AIzaSyBOoJBp0W8ksY21rV4yAGoHHCSaJRVyibs';\r\nclass Home extends React.Component{\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      location: DEFAULT_COORD,\r\n      destination:DEFAULT_COORD,\r\n      mapLocation: DEFAULT_COORD,\r\n      radius: 500,\r\n      errorMessage: null,\r\n      search: \"\",\r\n      selected: \"\",\r\n      autocomplete: [],\r\n      markers: [],\r\n      deltaLat: 0.1000,\r\n      deltaLng:0.0500,\r\n      isDisplay: false,\r\n      detail: null,\r\n      isDirection: false,\r\n      isFavo:false,\r\n      favoriteId: \"ChIJqwot8jt-8CERZxtjIIStjNs\",\r\n      isLoading: false\r\n    }\r\n\r\n    this.testRad = 500\r\n  }\r\n\r\n  componentDidMount = async () =>{\r\n     await  this._getLocationAsync();\r\n  }\r\n\r\n\r\n  _onChangeFavo = ()=>{\r\n    \r\n    this.setState({isFavo: !this.state.isFavo})\r\n    \r\n  }\r\n\r\n  _onClickClose = (type)=>{\r\n    this.setState({isDisplay: false});\r\n  }\r\n\r\n  onChangeInput(text){\r\n    this.setState({search: text},()=>{\r\n      this.createGoodList(this.state.search)\r\n    })\r\n\r\n  }\r\n\r\n  createGoodList(keyword) {\r\n    let selected = keyword.replace('é', 'e').replace('è', 'e').replace('ç', 'c').replace('à', 'a');\r\n    let autocomplete = choices.filter(choice => choice.val.indexOf(selected.toLowerCase()) !== -1);\r\n    //.log('auto, ', autocomplete);\r\n    this.setState({autocomplete});\r\n  }\r\n\r\n  _getLocationAsync = async () => {\r\n    let { status } = await Permissions.askAsync(Permissions.LOCATION);\r\n    if (status !== 'granted') {\r\n      this.setState({\r\n        errorMessage: 'Permission to access location was denied',\r\n      });\r\n    }else{\r\n      let location = await Location.getCurrentPositionAsync({});\r\n      this.setState({ location, mapLocation: location }); \r\n    }\r\n\r\n     \r\n   \r\n  };\r\n\r\n  renderList() {\r\n    return this.state.autocomplete.map((auto, index)=>{\r\n      return (<TouchableOpacity\r\n                key={index}\r\n                style={styles.list}\r\n                onPress={()=>{\r\n                  this.setState({selected: auto.val},\r\n                    this.onPressList(auto.val)\r\n                  );\r\n                  \r\n                }}\r\n              >\r\n                <Text style={styles.listText}>{auto.name}</Text>\r\n              </TouchableOpacity>)\r\n    })\r\n  }\r\n\r\n  onPressList(value) {\r\n   \r\n   \r\n     if (this.state.selected !== \"\") {\r\n      this.setState({isLoading: true, autocomplete: []});\r\n         // axios.get('https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=23.3382965,43.6517931&radius=50000&keyword=hotel&key='+API_KEY)\r\n         axios.get('https://maps.googleapis.com/maps/api/place/nearbysearch/json?key='+API_KEY+'&location='+this.state.location.coords.latitude+','+this.state.location.coords.longitude+'&radius=5000&keyword=restaurant')\r\n\r\n         .then((res)=>{\r\n           console.log(\"gùa^\",res.data)\r\n         \r\n          this.setState({isLoading: false});\r\n          let autocomplete = []\r\n          this.setState({markers: res.data.results, autocomplete: autocomplete},\r\n            ()=>{\r\n              this.setState({search: \"\"});\r\n              Keyboard.dismiss();\r\n            }\r\n          );\r\n        })\r\n        .catch((err)=>{\r\n          //.log(err);\r\n      })\r\n    } \r\n\r\n\r\n  }\r\n\r\n  changeRadius(value) {\r\n    this.setState({\r\n      radius : value\r\n    })\r\n      let deltaLat = 0.1000\r\n    let deltaLng = 0.0500\r\n\r\n    if(value < 1000) {\r\n      deltaLat = 0.0200\r\n      deltaLng = 0.0100\r\n    } else if (value < 2500) {\r\n      deltaLat = 0.0200\r\n      deltaLng = 0.0100\r\n    }\r\n    \r\n       this.setState({radius: value, deltaLat: deltaLat, deltaLng: deltaLng},\r\n        this.onPressList(this.state.selected) \r\n    );  \r\n\r\n   \r\n  \r\n //.log(value)\r\n\r\n  }\r\n  createMarkers() {\r\n     return (this.state.markers.map((marker)=>{\r\n       return (<Marker\r\n        key={marker.id}\r\n        coordinate={{\r\n                      latitude: marker.geometry.location.lat,\r\n                      longitude: marker.geometry.location.lat\r\n                    }}\r\n       /> )\r\n    }))\r\n  }\r\n\r\n\r\n  onPressDetail(placeId){\r\n    axios.get('https://maps.googleapis.com/maps/api/place/details/json?place_id='+placeId+'&key='+API_KEY)\r\n    .then((res)=>{\r\n ////.log('dans le detail',res.data.result.international_phone_number);\r\n      let location = {\r\n        coords: {\r\n          latitude: res.data.result.geometry.location.lat,\r\n          longitude: res.data.result.geometry.location.lng\r\n        }\r\n      }\r\n\r\n      let  g_id = res.data.result.place_id\r\n      \r\n      let idUser =  this.props.user.user.idUser\r\n\r\n\r\n\r\n      axios.get(`${Bdd.api_url}/favoris/list?idUser=${idUser}&placeId=${g_id}`)\r\n        .then(async favoris=>{\r\n          console.log(favoris)\r\n          if(await !favoris.data){\r\n            this.setState({isDisplay: true, detail: res.data.result, mapLocation: location, destination: location, isFavo: false})\r\n\r\n          }else{\r\n            this.setState({isDisplay: true, detail: res.data.result, mapLocation: location, destination: location, isFavo: true, favoriteId:favoris.geoIdFavoris})\r\n\r\n          }\r\n        })\r\n      \r\n\r\n    }).catch((err)=>{\r\n      //.log(err);\r\n    })\r\n  }\r\n\r\n  _onClickDirection = ()=>{\r\n    this.setState({isDirection: true})\r\n  }\r\n\r\n  onClickBack = ()=>{\r\n    this.setState({isDirection: false, mapLocation: this.state.location})\r\n  }\r\n\r\n  onClickGoLocation() {\r\n    this.setState({mapLocation: this.state.location});\r\n  }\r\n\r\n  onClickDelete() {\r\n    this.setState({markers: [], isDisplay: false});\r\n  }\r\n\r\n  render(){\r\n   \r\n    return (\r\n      <View style={{flex : 1}}>\r\n<ScrollView style={styles.container}>\r\n                      <Loader loading={this.state.isLoading} />\r\n        <View style={Platform.OS === 'ios' ? styles.under_ios : styles.under}>\r\n          <TopMenu navigation={this.props.navigation} />\r\n        </View>\r\n        <TouchableOpacity \r\n        style={styles.location}\r\n        onPress={(e)=>{\r\n          this.onClickGoLocation()\r\n        }}\r\n        >\r\n          <Image\r\n              style={{ width: wp('10%'), height: wp('10%'), backgroundColor: 'white'}}\r\n              source={require('../images/cible.png')}\r\n          />\r\n      </TouchableOpacity>\r\n      {this.state.isDirection == false  && <TouchableOpacity \r\n        style={styles.broom}\r\n        onPress={(e)=>{\r\n          this.onClickDelete()\r\n          this.onClickGoLocation()\r\n        }}\r\n      >\r\n        <Image\r\n              style={{ width: wp('10%'), height: wp('10%'), backgroundColor: 'white'}}\r\n              source={require('../images/Gomme.png')}\r\n          />\r\n      </TouchableOpacity>}\r\n      {this.state.isDirection == true  && <TouchableOpacity \r\n        style={styles.broom}\r\n        onPress={(e)=>{\r\n          this.onClickBack()\r\n        }}\r\n      >\r\n        <FontAwesomeIcon  size={30}  icon={ faBackward } />\r\n      </TouchableOpacity>}\r\n        <View style={Platform.OS === 'ios' ? styles.head_ios : styles.head}>\r\n          <View style={{flex:1, flexDirection: \"row\", paddingTop: hp(\"3%\")}}>\r\n          <TextInput \r\n            style={styles.textinput}\r\n            onChangeText={(text) => this.onChangeInput(text)}\r\n            value={this.state.search}\r\n            placeholder=\"Que cherchez vous ?\"\r\n          />\r\n          \r\n          <FontAwesomeIcon \r\n                            icon={faChevronDown} \r\n                            color=\"#008AC8\" \r\n                            size={24} \r\n                            style={{width: wp('5%'), height: wp('5%'), position: 'relative', right: wp(\"12%\"), top: hp('2%')}}\r\n                          \r\n                        />\r\n          </View>\r\n           {this.state.autocomplete.length !== 0 && <View style={styles.autoDiv}>\r\n             <ScrollView \r\n              style={styles.auto}\r\n              indicatorStyle=\"white\"\r\n              keyboardShouldPersistTaps=\"always\"\r\n            >\r\n              { this.renderList()}\r\n          </ScrollView></View>}\r\n        </View>\r\n        <View style={styles.main}>\r\n          <View  style={styles.map}>\r\n            <MapView \r\n              style={{flex: 1}}\r\n               region={{\r\n                latitude: this.state.mapLocation.coords.latitude,\r\n                longitude: this.state.mapLocation.coords.longitude,\r\n                latitudeDelta: this.state.deltaLat,\r\n                longitudeDelta: this.state.deltaLng\r\n              }} \r\n              showsUserLocation = {true}\r\n              scrollEnabled={true}\r\n              liteMode={false}\r\n              zoom={15}\r\n              zoomEnabled={true}\r\n              zoomControlEnabled={true}\r\n            >\r\n                \r\n                {this.state.isDirection == false && this.state.markers.map((marker, index) => {\r\n                  return (<MapView.Marker\r\n                    key={'key-'+index}d\r\n                    title={marker.name}\r\n                    coordinate={{\r\n                      latitude: marker.geometry.location.lat,\r\n                      longitude: marker.geometry.location.lng,\r\n                   \r\n                    }}\r\n                    onPress={()=>{\r\n                      //.log('je presse')\r\n                      this.onPressDetail(marker.place_id)\r\n                    }}\r\n                    \r\n                >\r\n                \r\n                \r\n                </MapView.Marker>)}\r\n\r\n\r\n                )}\r\n                {this.state.isDirection === true &&\r\n                  <Marker\r\n                    coordinate={{\r\n                      latitude: this.state.destination.coords.latitude,\r\n                      longitude: this.state.destination.coords.longitude\r\n                    }}\r\n                  />\r\n                }\r\n              \r\n                  {this.state.isDirection === true &&\r\n                  <MapViewDirections\r\n                    zIndex={2}\r\n                    origin={{latitude: this.state.location.coords.latitude, longitude: this.state.location.coords.longitude}}\r\n                   // waypoints={ null}\r\n                    destination={{latitude: this.state.destination.coords.latitude, longitude: this.state.destination.coords.longitude}}\r\n                    apikey={API_KEY}\r\n                    strokeWidth={3}\r\n                    strokeColor=\"green\"\r\n                    optimizeWaypoints={true}\r\n                    mode=\"WALKING\"\r\n                    onStart={(params) => {\r\n                      //.log('on start', params);\r\n                    }}\r\n                    onReady={result => {\r\n                      //.log('ready', result)\r\n                    }}\r\n                    onError={(errorMessage) => {\r\n                       //.log('GOT AN ERROR', errorMessage);\r\n                    }}\r\n                  />\r\n                  }\r\n      \r\n                  \r\n               \r\n            </MapView>\r\n          </View>\r\n        </View>\r\n        <View style={styles.sliderContainer}>\r\n          <Slider \r\n            style={styles.slider}\r\n            step={1}\r\n            maximumValue={15}\r\n            onSlidingComplete={(value)=> {this.changeRadius(value)}}\r\n            value={this.state.radius}\r\n            maximumTrackTintColor='#e2e0e0'  \r\n            minimumTrackTintColor='#008AC8'\r\n            thumbTintColor='#008AC8'\r\n           \r\n          />\r\n          <Text style={{marginBottom: hp('1%'), color: '#008AC8', fontWeight: 'bold'}}>{this.state.radius} m</Text>\r\n        </View>\r\n                {this.state.isDisplay && <DetailCard   style={styles.card} detail = {this.state.detail} isFavo={this.state.isFavo} onClickClose={this._onClickClose} onClickDirection={this._onClickDirection} onChangeFavo= {this._onChangeFavo} favoriteId = {this.state.favoriteId}  />  }\r\n\r\n      </ScrollView>\r\n{/*       <BottomMenu navigation={this.props.navigation}  />\r\n */}\r\n      </View>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: '#fff',\r\n    backgroundColor: '#00C1B4'\r\n  },\r\n  main: {\r\n\r\n\r\n  },\r\n  footer: {\r\n    \r\n    \r\n  },\r\n  map: {\r\n    \r\n    width: wp('100%'),\r\n    height: hp('57%')\r\n  },\r\n  sliderContainer : {\r\n    height: hp(\"13%\"),\r\n    width: wp('100%'),\r\n    backgroundColor: \"white\",\r\n    alignItems: 'center',\r\n  },\r\n  slider: {\r\n    width: wp('80%'),\r\n    marginTop: hp(\"1%\"),\r\n    color: \"#008AC8\",\r\n\r\n  },\r\n  head_ios: {\r\n    flex:1.5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    zIndex: 1\r\n  },\r\n  head: {\r\n    flex:1.5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  textinput: {\r\n    marginLeft: wp(\"10%\"),\r\n    textAlign: 'center',\r\n    height: 50,\r\n    width: wp(\"90%\"),\r\n    paddingLeft: 5,\r\n    backgroundColor: 'white',\r\n    borderRadius: 5,\r\n    marginBottom: hp('2%')\r\n  },\r\n  autoDiv: {\r\n    flex: 1,\r\n    paddingLeft: wp('10%'),\r\n    paddingRight: wp('10%'),\r\n    position: \"absolute\",\r\n    top: hp('10%'),\r\n    zIndex: 8,\r\n    backgroundColor: '#00C1B4',\r\n    width: wp('84%'),\r\n    maxHeight: hp(\"40%\"),\r\n  },\r\n  auto: {\r\n    flex: 1,\r\n    paddingLeft: wp('5%'),\r\n    paddingRight: wp('5%'),\r\n  },\r\n  list: {\r\n    paddingLeft: wp('2%'),\r\n    paddingRight: wp('2%'),\r\n    paddingBottom: hp('1%'),\r\n    paddingTop: hp('1%'),\r\n    zIndex: 10,\r\n    color: \"#008AC8\"\r\n  },\r\n  listText: {\r\n    color: \"white\",\r\n    textAlign: \"center\",\r\n    fontWeight: 'bold'\r\n  },\r\n  location: {\r\n    position: \"absolute\",\r\n    bottom: hp(\"30%\"),\r\n    right: wp('5%'),\r\n    zIndex: 10,\r\n    backgroundColor: \"white\",\r\n    paddingTop: hp('1%'),\r\n    paddingBottom: hp('1%'),\r\n    paddingLeft: wp('1%'),\r\n    paddingRight: wp('1%'),\r\n    \r\n    borderRadius: 12\r\n  },\r\n  broom: {\r\n    position: \"absolute\",\r\n    bottom: hp(\"22%\"),\r\n    right: wp('5%'),\r\n    zIndex: 10,\r\n    backgroundColor: \"white\",\r\n    paddingTop: hp('1%'),\r\n    paddingBottom: hp('1%'),\r\n    paddingLeft: wp('1%'),\r\n    paddingRight: wp('1%'),\r\n    \r\n    borderRadius: 12\r\n  },\r\n  loading_container: {\r\n    position: 'absolute',\r\n    zIndex:10,\r\n    left: 0,\r\n    right: 0,\r\n    top: 100,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  under: {\r\n  \r\n    height: hp('10%'),\r\n    width: wp(\"100%\")\r\n   // zIndex: 2\r\n  },\r\n  under_ios: {\r\n    width: wp(\"100%\"),\r\n    height: hp('10%'),\r\n    zIndex: 2\r\n  },\r\n  card: {\r\n    zIndex: 99999,\r\n  }\r\n});\r\n\r\nconst mapStateToProps = (store) => {\r\n  return {\r\n      favorite: store.favorite,\r\n      user: store.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n \r\n}\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Home)\r\n//source={require('../images/cible.png')}"]},"metadata":{},"sourceType":"module"}