{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Stenny Gabriel\\\\best4sante\\\\Best4Sante\\\\assets\\\\Screens\\\\Profiles\\\\Switch.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Card, Icon, Input } from 'react-native-elements';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport ListView from \"react-native-web/dist/exports/ListView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport PropTypes from 'prop-types';\nimport { FlatList, TouchableOpacity } from 'react-native-gesture-handler';\nimport { connect } from 'react-redux';\nimport { deleteContact, modifyUserInfo, setIndexSelected, setSecondInfo, ModifyPhoto } from \"../../Action\";\nimport { Avatar } from 'react-native-elements';\nimport TopMenu from \"../../component/Menu/TopMenu\";\nimport * as firebase from 'firebase';\nimport firestore from 'firebase/firestore';\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\nimport { faEdit } from '@fortawesome/free-solid-svg-icons';\nimport * as Permissions from 'expo-permissions';\nimport * as ImagePicker from 'expo-image-picker';\nvar DEFAUTL_USER = \"https://www.nehome-groupe.fr/wp-content/uploads/2015/09/image-de-profil-2.jpg\";\n\nvar Switch = function (_Component) {\n  _inherits(Switch, _Component);\n\n  var _super = _createSuper(Switch);\n\n  function Switch(props) {\n    var _this;\n\n    _classCallCheck(this, Switch);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                isLoading: true\n              });\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(_this.getCameraPermissions());\n\n            case 3:\n              _this.setState({\n                isLoading: false\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderHeader = function () {\n      return React.createElement(View, {\n        style: styles.headerContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: Platform.OS === 'ios' ? styles.under_ios : styles.under,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }, React.createElement(TopMenu, {\n        navigation: _this.props.navigation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }\n      })), React.createElement(ImageBackground, {\n        style: styles.headerBackgroundImage,\n        blurRadius: 10,\n        source: {\n          uri: _this.state.photoUri == null ? DEFAUTL_USER : _this.state.photoUri\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.headerColumn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }\n      }, React.createElement(Image, {\n        style: styles.userImage,\n        source: {\n          uri: _this.state.photoUri == null ? DEFAUTL_USER : _this.state.photoUri\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        style: styles.userNameText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }\n      }, _this.props.user.user.nomUser, \" \", _this.props.user.user.prenomUser, \" \"), React.createElement(View, {\n        style: styles.userAddressRow,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.actionBtn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this.props.navigation.navigate(\"MySante\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'share',\n          type: 'font-awesome'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 19\n        }\n      }))), _this.state.isModifbegin === false && React.createElement(View, {\n        style: styles.actionBtn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this.setState({\n            isModifbegin: !_this.state.isModifbegin\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 19\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'pencil',\n          type: 'font-awesome'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      }))), _this.state.isModifbegin === true && React.createElement(View, {\n        style: styles.actionBtn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          console.log(\"ato tsika e\");\n\n          _this.modifInfoPerso();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 19\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'save',\n          type: 'font-awesome'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }\n      }))), React.createElement(View, {\n        style: styles.actionBtn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 15\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this._pickImage();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'camera',\n          type: 'font-awesome'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 19\n        }\n      })))))));\n    };\n\n    _this.modifInfoPerso = function _callee2() {\n      var userModified;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.setState({\n                isLoading: true\n              });\n\n              userModified = {\n                idUser: _this.props.user.user.idUser,\n                nomUser: _this.props.user.user.nomUser,\n                prenomUser: _this.props.user.user.prenomUser,\n                phoneUser: _this.props.user.user.phoneUser,\n                adresseUser: _this.props.user.user.adresseUser,\n                zipUser: _this.props.user.user.zipUser,\n                villeUser: _this.props.user.user.villeUser\n              };\n              userModified.nomUser = _this.state.firstName;\n              userModified.prenomUser = _this.state.lastName;\n              userModified.phoneUser = _this.state.phone;\n              userModified.adresseUser = _this.state.address;\n              userModified.villeUser = _this.state.city;\n              userModified.zipUser = _this.state.zip;\n\n              _this.props.modifyUserInfo(userModified);\n\n              _this.setState({\n                isModifbegin: false,\n                isLoading: false\n              });\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getCameraPermissions = function _callee3() {\n      var _await$Permissions$as, status;\n\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n            case 2:\n              _await$Permissions$as = _context3.sent;\n              status = _await$Permissions$as.status;\n\n              if (status !== 'granted') {\n                Alert(\"permission not granteed\");\n\n                _this.setState({\n                  rollGranted: false,\n                  cameraGranted: false\n                });\n              } else {\n                _this.setState({\n                  rollGranted: true,\n                  cameraGranted: true\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._pickImage = function _callee4() {\n      var result;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                allowsEditing: true,\n                base64: true,\n                quality: 0.5\n              }));\n\n            case 2:\n              result = _context4.sent;\n              console.log(\"ok\");\n\n              _this._handleImagePicked(result);\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._handleImagePicked = function _callee5(pickerResult) {\n      var uploadUrl, data;\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              uploadUrl = \"\";\n              _context5.prev = 1;\n\n              _this.setState({\n                isLoading: true\n              });\n\n              if (pickerResult.cancelled) {\n                _context5.next = 9;\n                break;\n              }\n\n              _context5.next = 6;\n              return _regeneratorRuntime.awrap(_this.uploadImageAsync(pickerResult.uri));\n\n            case 6:\n              uploadUrl = _context5.sent;\n              data = {\n                imageUser: uploadUrl,\n                idUser: _this.props.user.user.idUser\n              };\n\n              _this.saveProfileImageInfo(data);\n\n            case 9:\n              _context5.next = 15;\n              break;\n\n            case 11:\n              _context5.prev = 11;\n              _context5.t0 = _context5[\"catch\"](1);\n              console.log(_context5.t0);\n              alert('Upload failed, sorry :(');\n\n            case 15:\n              _context5.prev = 15;\n\n              _this.setState({\n                isLoading: false\n              });\n\n              _this.setState({\n                photoUri: uploadUrl\n              });\n\n              return _context5.finish(15);\n\n            case 19:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, [[1, 11, 15, 19]], Promise);\n    };\n\n    _this.saveProfileImageInfo = function (data) {\n      _this.props.ModifyPhoto(data);\n    };\n\n    _this.uploadImageAsync = function _callee6(uri) {\n      var blob, id, ref, snapshot;\n      return _regeneratorRuntime.async(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return _regeneratorRuntime.awrap(new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n\n                xhr.onload = function () {\n                  resolve(xhr.response);\n                };\n\n                xhr.onerror = function (e) {\n                  console.log(e);\n                  reject(new TypeError('Network request failed'));\n                };\n\n                xhr.responseType = 'blob';\n                xhr.open('GET', uri, true);\n                xhr.send(null);\n              }));\n\n            case 2:\n              blob = _context6.sent;\n              id = Math.random().toString();\n              ref = firebase.storage().ref().child(id);\n              _context6.next = 7;\n              return _regeneratorRuntime.awrap(ref.put(blob));\n\n            case 7:\n              snapshot = _context6.sent;\n              blob.close();\n              _context6.next = 11;\n              return _regeneratorRuntime.awrap(snapshot.ref.getDownloadURL());\n\n            case 11:\n              return _context6.abrupt(\"return\", _context6.sent);\n\n            case 12:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      isSelectedProfile: false,\n      photoUri: \"\",\n      firstName: _this.props.user.user.nomUser,\n      lastName: _this.props.user.user.prenomUser,\n      phone: _this.props.user.user.phoneUser,\n      address: _this.props.user.user.adresseUser,\n      zip: _this.props.user.user.zipUser,\n      city: _this.props.user.user.villeUser,\n      id: _this.props.user.user.idUser,\n      rollGranted: true,\n      cameraGranted: false,\n      uri_doc: null,\n      base64Img: null,\n      photoUri: _this.props.user.user.imageUser,\n      errLastName: \"\",\n      errFirstName: \"\",\n      errAddress: \"\",\n      errZip: \"\",\n      errVille: \"\",\n      errPhone: \"\",\n      isLoading: false,\n      isModifbegin: false\n    };\n    _this.ref = firebase.firestore().collection('profile');\n    return _this;\n  }\n\n  _createClass(Switch, [{\n    key: \"validationInfo\",\n    value: function validationInfo(data) {\n      var numberPattern, alphaPattern, count;\n      return _regeneratorRuntime.async(function validationInfo$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              numberPattern = /^[0-9]+$/;\n              alphaPattern = /^([a-zA-Z0-9 _-]+)$/;\n              count = 0;\n\n              if (data.phone.length < 8 || data.phone.length > 12 || isNaN(data.phone)) {\n                count++;\n                this.setState({\n                  errPhone: \"Vous devez entrer un numéro de téléphone valide\"\n                });\n              } else {\n                this.setState({\n                  errPhone: null\n                });\n              }\n\n              if (numberPattern.test(this.state.zip) === false || this.state.zip == \"\" || this.state.zip.length < 3 || this.state.zip.length > 6) {\n                count++;\n                this.setState({\n                  errZip: \"Vous devez entrer un code postal valide\"\n                });\n              } else {\n                this.setState({\n                  errZip: null\n                });\n              }\n\n              if (alphaPattern.test(this.state.firstName) === false || this.state.firstName == \"\") {\n                count++;\n                this.setState({\n                  errFirstName: \"Vous devez entrer un prénom valide\"\n                });\n              } else {\n                this.setState({\n                  errFirstName: null\n                });\n              }\n\n              if (alphaPattern.test(this.state.lastName) === false || this.state.lastName == \"\") {\n                count++;\n                this.setState({\n                  errLastName: \"Vous devez entrer un nom valide\"\n                });\n              } else {\n                this.setState({\n                  errLastName: null\n                });\n              }\n\n              if (alphaPattern.test(this.state.city) === false || this.state.city == \"\") {\n                count++;\n                this.setState({\n                  errVille: \"Vous devez entrer un nom de ville valide\"\n                });\n              } else {\n                this.setState({\n                  errVille: null\n                });\n              }\n\n              return _context7.abrupt(\"return\", count);\n\n            case 9:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(\"render\");\n      return React.createElement(ScrollView, {\n        style: styles.scroll,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 9\n        }\n      }, this.state.isLoading && React.createElement(View, {\n        style: styles.loading_container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 36\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }\n      })), React.createElement(Card, {\n        containerStyle: styles.cardContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }\n      }, this.renderHeader()), React.createElement(View, {\n        style: styles.infoContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 15\n        }\n      }, \"Pr\\xE9nom\"), this.state.isModifbegin === true && React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            firstName: text\n          });\n        },\n        value: this.state.firstName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 17\n        }\n      }, this.state.firstName)), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 15\n        }\n      }, \"Nom\"), this.state.isModifbegin === true && React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            lastName: text\n          });\n        },\n        value: this.state.lastName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 17\n        }\n      }, this.state.lastName)), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 15\n        }\n      }, \"Ville\"), this.state.isModifbegin === true && React.createElement(Input, {\n        errorMessage: this.state.errVille,\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            city: text\n          });\n        },\n        value: this.state.city,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 17\n        }\n      }, this.state.city)), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }\n      }, \"Adresse\"), this.state.isModifbegin === true && React.createElement(Input, {\n        errorMessage: this.state.errAddress,\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            address: text\n          });\n        },\n        value: this.state.address,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 17\n        }\n      }, this.state.address)), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 15\n        }\n      }, \"Code postale\"), this.state.isModifbegin === true && React.createElement(Input, {\n        errorMessage: this.state.errZip,\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            zip: text\n          });\n        },\n        value: this.state.zip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 17\n        }\n      }, this.state.zip)), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 15\n        }\n      }, \"T\\xE9l\\xE9phone\"), this.state.isModifbegin === true && React.createElement(Input, {\n        keyboardType: \"numeric\",\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            phone: text\n          });\n        },\n        value: this.state.phone,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 17\n        }\n      }, this.state.phone)))));\n    }\n  }]);\n\n  return Switch;\n}(Component);\n\nvar styles = StyleSheet.create({\n  infoContainer: {\n    padding: 20\n  },\n  labelText: {\n    fontWeight: \"bold\",\n    fontSize: 16\n  },\n  labelValue: {\n    color: \"gray\"\n  },\n  actionBtn: {\n    position: \"relative\",\n    top: -10,\n    zIndex: 99999\n  },\n  choiceItem: {\n    backgroundColor: \"white\",\n    padding: 10,\n    margin: 10,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  cardContainer: {\n    backgroundColor: '#FFF',\n    borderWidth: 0,\n    flex: 1,\n    margin: 0,\n    padding: 0\n  },\n  container: {\n    flex: 1\n  },\n  emailContainer: {\n    backgroundColor: '#FFF',\n    flex: 1,\n    paddingTop: 30\n  },\n  headerBackgroundImage: {\n    paddingBottom: 20,\n    paddingTop: 35\n  },\n  headerContainer: {},\n  headerColumn: _objectSpread({\n    backgroundColor: 'transparent'\n  }, Platform.select({\n    ios: {\n      alignItems: 'center',\n      elevation: 1,\n      marginTop: -1\n    },\n    android: {\n      alignItems: 'center'\n    }\n  })),\n  placeIcon: {\n    color: 'white',\n    fontSize: 26\n  },\n  scroll: {\n    backgroundColor: '#FFF'\n  },\n  telContainer: {\n    backgroundColor: '#FFF',\n    flex: 1,\n    paddingTop: 30\n  },\n  userAddressRow: {\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  userCityRow: {\n    backgroundColor: 'transparent'\n  },\n  userCityText: {\n    color: '#A5A5A5',\n    fontSize: 15,\n    fontWeight: '600',\n    textAlign: 'center'\n  },\n  userImage: {\n    borderColor: \"#01C89E\",\n    borderRadius: 85,\n    borderWidth: 3,\n    height: 170,\n    marginBottom: 15,\n    width: 170\n  },\n  userNameText: {\n    color: '#FFF',\n    fontSize: 22,\n    fontWeight: 'bold',\n    paddingBottom: 8,\n    textAlign: 'center'\n  },\n  loading_container: {\n    position: 'absolute',\n    zIndex: 10,\n    left: 0,\n    right: 0,\n    top: 100,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    user: store.user\n  };\n};\n\nvar mapDispatchToProps = {\n  deleteContact: deleteContact,\n  modifyUserInfo: modifyUserInfo,\n  setSecondInfo: setSecondInfo,\n  setIndexSelected: setIndexSelected,\n  ModifyPhoto: ModifyPhoto\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Switch);","map":{"version":3,"sources":["C:/Users/Stenny Gabriel/best4sante/Best4Sante/assets/Screens/Profiles/Switch.js"],"names":["React","Component","Card","Icon","Input","PropTypes","FlatList","TouchableOpacity","connect","deleteContact","modifyUserInfo","setIndexSelected","setSecondInfo","ModifyPhoto","Avatar","TopMenu","firebase","firestore","FontAwesomeIcon","faEdit","Permissions","ImagePicker","DEFAUTL_USER","Switch","props","componentDidMount","setState","isLoading","getCameraPermissions","renderHeader","styles","headerContainer","Platform","OS","under_ios","under","navigation","headerBackgroundImage","uri","state","photoUri","headerColumn","userImage","userNameText","user","nomUser","prenomUser","userAddressRow","actionBtn","navigate","backgroundColor","name","type","isModifbegin","console","log","modifInfoPerso","_pickImage","userModified","idUser","phoneUser","adresseUser","zipUser","villeUser","firstName","lastName","phone","address","city","zip","askAsync","CAMERA_ROLL","status","Alert","rollGranted","cameraGranted","launchImageLibraryAsync","allowsEditing","base64","quality","result","_handleImagePicked","pickerResult","uploadUrl","cancelled","uploadImageAsync","data","imageUser","saveProfileImageInfo","alert","Promise","resolve","reject","xhr","XMLHttpRequest","onload","response","onerror","e","TypeError","responseType","open","send","blob","id","Math","random","toString","ref","storage","child","put","snapshot","close","getDownloadURL","isSelectedProfile","uri_doc","base64Img","errLastName","errFirstName","errAddress","errZip","errVille","errPhone","collection","numberPattern","alphaPattern","count","length","isNaN","test","scroll","container","loading_container","cardContainer","infoContainer","labelText","text","labelValue","StyleSheet","create","padding","fontWeight","fontSize","color","position","top","zIndex","choiceItem","margin","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","borderWidth","flex","emailContainer","paddingTop","paddingBottom","select","ios","alignItems","marginTop","android","placeIcon","telContainer","flexDirection","userCityRow","userCityText","textAlign","borderColor","borderRadius","marginBottom","left","right","bottom","justifyContent","mapStateToProps","store","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Card, Icon, Input } from 'react-native-elements'\r\nimport {\r\n  Image,\r\n  ImageBackground,\r\n  Linking,\r\n  ListView,\r\n  Platform,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  ActivityIndicator\r\n} from 'react-native'\r\nimport PropTypes from 'prop-types'\r\nimport { FlatList, TouchableOpacity } from 'react-native-gesture-handler'\r\nimport { connect } from 'react-redux'\r\nimport { deleteContact, modifyUserInfo, setIndexSelected, setSecondInfo ,ModifyPhoto } from '../../Action';\r\nimport { Avatar } from 'react-native-elements';\r\nimport TopMenu from \"../../component/Menu/TopMenu\"\r\nimport * as firebase from 'firebase';\r\nimport firestore from 'firebase/firestore'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome'\r\nimport { faEdit } from '@fortawesome/free-solid-svg-icons'\r\nimport * as Permissions from 'expo-permissions'\r\nimport * as ImagePicker from 'expo-image-picker'\r\n\r\nconst DEFAUTL_USER = \"https://www.nehome-groupe.fr/wp-content/uploads/2015/09/image-de-profil-2.jpg\"\r\nclass Switch extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      isSelectedProfile: false,\r\n      photoUri: \"\", \r\n\r\n      firstName: this.props.user.user.nomUser,\r\n      lastName: this.props.user.user.prenomUser,\r\n      phone: this.props.user.user.phoneUser,\r\n      address: this.props.user.user.adresseUser,\r\n      zip: this.props.user.user.zipUser,\r\n      city: this.props.user.user.villeUser,\r\n      id: this.props.user.user.idUser,\r\n\r\n      rollGranted: true,\r\n      cameraGranted: false,\r\n      uri_doc: null,\r\n      base64Img: null,\r\n      photoUri: this.props.user.user.imageUser,\r\n\r\n      errLastName: \"\",\r\n      errFirstName: \"\",\r\n      errAddress: \"\",\r\n      errZip: \"\",\r\n      errVille: \"\",\r\n      errPhone: \"\",\r\n\r\n      isLoading: false,\r\n\r\n      isModifbegin: false\r\n\r\n    }\r\n    this.ref = firebase.firestore().collection('profile');\r\n\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    this.setState({ isLoading: true })\r\n    await this.getCameraPermissions()\r\n    this.setState({ isLoading: false })\r\n  }\r\n\r\n\r\n  renderHeader = () => {\r\n    \r\n    return (\r\n      <View style={styles.headerContainer}>\r\n        <View style={Platform.OS === 'ios' ? styles.under_ios : styles.under}>\r\n          <TopMenu navigation={this.props.navigation} />\r\n        </View>\r\n\r\n        <ImageBackground\r\n          style={styles.headerBackgroundImage}\r\n          blurRadius={10}\r\n          source={{ uri: this.state.photoUri == null? DEFAUTL_USER : this.state.photoUri }}\r\n        >\r\n          <View style={styles.headerColumn}>\r\n\r\n            <Image\r\n              style={styles.userImage}\r\n              source={{ uri: this.state.photoUri == null ? DEFAUTL_USER : this.state.photoUri }}\r\n            />\r\n            <Text style={styles.userNameText}>{this.props.user.user.nomUser} {this.props.user.user.prenomUser} </Text>\r\n            <View style={styles.userAddressRow}>\r\n              <View style={styles.actionBtn}>\r\n                <TouchableOpacity onPress={() => this.props.navigation.navigate(\"MySante\")}>\r\n                  <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'share', type: 'font-awesome' }} />\r\n                </TouchableOpacity>\r\n              </View>\r\n              {this.state.isModifbegin === false &&\r\n                <View style={styles.actionBtn}>\r\n                  <TouchableOpacity onPress={() => this.setState({ isModifbegin: !this.state.isModifbegin })}>\r\n                    <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'pencil', type: 'font-awesome' }} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n              }\r\n              {this.state.isModifbegin === true &&\r\n                <View style={styles.actionBtn}>\r\n                  <TouchableOpacity onPress={() => {   \r\n                    console.log(\"ato tsika e\")\r\n                      this.modifInfoPerso()\r\n\r\n                  }}>\r\n                    <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'save', type: 'font-awesome' }} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n              }\r\n              <View style={styles.actionBtn}>\r\n                <TouchableOpacity onPress={() =>this._pickImage() }>\r\n                  <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'camera', type: 'font-awesome' }} />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </ImageBackground>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  modifInfoPerso = async () => {\r\n    this.setState({ isLoading: true })\r\n    let userModified = {\r\n      idUser : this.props.user.user.idUser,\r\n      nomUser: this.props.user.user.nomUser,\r\n      prenomUser: this.props.user.user.prenomUser,\r\n      phoneUser: this.props.user.user.phoneUser,\r\n      adresseUser: this.props.user.user.adresseUser,\r\n      zipUser: this.props.user.user.zipUser,\r\n      villeUser: this.props.user.user.villeUser,\r\n    }\r\n\r\n\r\n\r\n    userModified.nomUser = this.state.firstName\r\n    userModified.prenomUser = this.state.lastName\r\n    userModified.phoneUser = this.state.phone\r\n    userModified.adresseUser = this.state.address\r\n    userModified.villeUser = this.state.city\r\n    userModified.zipUser = this.state.zip\r\n\r\n   // let errorCount = await this.validationInfo(userModified)\r\n   \r\n\r\n   /*  if (errorCount == 0) {\r\n      console.log(\"ato\") */\r\n      this.props.modifyUserInfo(userModified)\r\n      this.setState({isModifbegin : false,isLoading : false})\r\n   /*  }\r\n    this.setState({ isLoading: false}) */\r\n  }\r\n\r\n\r\n  async validationInfo(data) {\r\n\r\n    var numberPattern = /^[0-9]+$/\r\n    var alphaPattern = /^([a-zA-Z0-9 _-]+)$/\r\n    let count = 0\r\n\r\n    if ( data.phone.length < 8 || data.phone.length > 12 || isNaN(data.phone)) {\r\n      count++\r\n      this.setState({ errPhone: \"Vous devez entrer un numéro de téléphone valide\" })\r\n    } else {\r\n      this.setState({ errPhone: null })\r\n    }\r\n\r\n    if (numberPattern.test(this.state.zip) === false || this.state.zip == \"\" || this.state.zip.length < 3 || this.state.zip.length > 6) {\r\n      count++\r\n      this.setState({ errZip: \"Vous devez entrer un code postal valide\" })\r\n    } else {\r\n      this.setState({ errZip: null })\r\n    }\r\n\r\n    if (alphaPattern.test(this.state.firstName) === false || this.state.firstName == \"\") {\r\n      count++\r\n      this.setState({ errFirstName: \"Vous devez entrer un prénom valide\" })\r\n    } else {\r\n      this.setState({ errFirstName: null })\r\n    }\r\n    if (alphaPattern.test(this.state.lastName) === false || this.state.lastName == \"\") {\r\n      count++\r\n      this.setState({ errLastName: \"Vous devez entrer un nom valide\" })\r\n    } else {\r\n      this.setState({ errLastName: null })\r\n    }\r\n    /* if (alphaPattern.test(this.state.address) === false || this.state.address == \"\") {\r\n      count++\r\n      this.setState({ errAddress: \"Vous devez entrer une adresse valide\" })\r\n    } else {\r\n      this.setState({ errAddress: null })\r\n    } */\r\n    \r\n    if (alphaPattern.test(this.state.city) === false || this.state.city == \"\") {\r\n      count++\r\n      this.setState({ errVille: \"Vous devez entrer un nom de ville valide\" })\r\n    } else {\r\n      this.setState({ errVille: null })\r\n    }\r\n\r\n    return count\r\n  }\r\n\r\n  getCameraPermissions = async () => {\r\n\r\n    let { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\r\n    if (status !== 'granted') {\r\n      Alert(\"permission not granteed\")\r\n      this.setState({\r\n        rollGranted: false,\r\n        cameraGranted: false,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        rollGranted: true,\r\n        cameraGranted: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  _pickImage = async () => {\r\n    //launchCameraAsync\r\n    let result = await ImagePicker.launchImageLibraryAsync({\r\n      allowsEditing : true,\r\n      base64: true,\r\n      quality : 0.5\r\n    });\r\n    console.log(\"ok\")\r\n\r\n    this._handleImagePicked(result);\r\n\r\n  }\r\n  _handleImagePicked = async pickerResult => {\r\n    let uploadUrl =\"\"\r\n    try {\r\n      this.setState({ isLoading: true });\r\n\r\n      if (!pickerResult.cancelled) {\r\n        uploadUrl = await this.uploadImageAsync(pickerResult.uri);\r\n      let data = {\r\n        imageUser :uploadUrl,\r\n        idUser : this.props.user.user.idUser\r\n      }\r\n         this.saveProfileImageInfo(data)\r\n        \r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n      alert('Upload failed, sorry :(');\r\n    } finally {\r\n      this.setState({ isLoading: false });\r\n      /* this.props.navigation.navigate(\"MonProfil\") */\r\n      this.setState({photoUri : uploadUrl})\r\n    }\r\n  }\r\n  saveProfileImageInfo =  (data) => {\r\n       this.props.ModifyPhoto(data)\r\n  }\r\n  uploadImageAsync = async (uri)  =>{\r\n    // Why are we using XMLHttpRequest? See:\r\n    // https://github.com/expo/expo/issues/2402#issuecomment-443726662\r\n    const blob = await new Promise((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.onload = function() {\r\n        resolve(xhr.response);\r\n      };\r\n      xhr.onerror = function(e) {\r\n        console.log(e);\r\n        reject(new TypeError('Network request failed'));\r\n      };\r\n      xhr.responseType = 'blob';\r\n      xhr.open('GET', uri, true);\r\n      xhr.send(null);\r\n    });\r\n    const id = Math.random().toString()\r\n    const ref = firebase\r\n      .storage()\r\n      .ref()\r\n      .child(id);\r\n    const snapshot = await ref.put(blob);\r\n  \r\n    // We're done with the blob, close and release it\r\n    blob.close();\r\n  \r\n    return await snapshot.ref.getDownloadURL();\r\n  }\r\n\r\n\r\n\r\n\r\n  render() {\r\n    console.log(\"render\")\r\n    return (\r\n      <ScrollView style={styles.scroll}>\r\n        <View style={styles.container}>\r\n          {this.state.isLoading && <View style={styles.loading_container}>\r\n            <ActivityIndicator size=\"large\" />\r\n          </View>}\r\n\r\n          <Card containerStyle={styles.cardContainer}>\r\n            {this.renderHeader()}\r\n          </Card>\r\n\r\n\r\n\r\n          <View style={styles.infoContainer}>\r\n\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Prénom</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n                onChangeText={(text) => this.setState({ firstName: text })}\r\n                value={this.state.firstName}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.firstName}</Text>\r\n              }\r\n            </View>\r\n            <View>\r\n              <Text style={styles.labelText}>Nom</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n\r\n                onChangeText={(text) => this.setState({ lastName: text })}\r\n                value={this.state.lastName}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.lastName}</Text>\r\n              }\r\n            </View>\r\n\r\n\r\n\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Ville</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n              errorMessage={this.state.errVille}\r\n                onChangeText={(text) => this.setState({ city: text })}\r\n                value={this.state.city}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.city}</Text>\r\n              }\r\n            </View>\r\n            <View>\r\n              <Text style={styles.labelText}>Adresse</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n              errorMessage={this.state.errAddress}\r\n                onChangeText={(text) => this.setState({ address: text })}\r\n                value={this.state.address}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.address}</Text>\r\n              }\r\n            </View>\r\n            <View>\r\n              <Text style={styles.labelText}>Code postale</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n                errorMessage={this.state.errZip}\r\n                onChangeText={(text) => this.setState({ zip: text })}\r\n                value={this.state.zip}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.zip}</Text>\r\n              }\r\n            </View>\r\n\r\n\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Téléphone</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n               keyboardType={\"numeric\"}\r\n                onChangeText={(text) => this.setState({ phone: text })}\r\n                value={this.state.phone}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.phone}</Text>\r\n              }\r\n            </View>\r\n\r\n          </View>\r\n\r\n\r\n\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\nconst styles = StyleSheet.create({\r\n  infoContainer: {\r\n    padding: 20\r\n  },\r\n  labelText: {\r\n    fontWeight: \"bold\",\r\n    fontSize: 16\r\n  },\r\n  labelValue: {\r\n    color: \"gray\"\r\n  },\r\n  actionBtn: {\r\n    position: \"relative\",\r\n    top: -10,\r\n    zIndex: 99999\r\n  },\r\n  choiceItem: {\r\n    backgroundColor: \"white\",\r\n    padding: 10,\r\n    margin: 10,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5\r\n  },\r\n  cardContainer: {\r\n    backgroundColor: '#FFF',\r\n    borderWidth: 0,\r\n    flex: 1,\r\n    margin: 0,\r\n    padding: 0,\r\n  },\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  emailContainer: {\r\n    backgroundColor: '#FFF',\r\n    flex: 1,\r\n    paddingTop: 30,\r\n  },\r\n  headerBackgroundImage: {\r\n    paddingBottom: 20,\r\n    paddingTop: 35,\r\n  },\r\n  headerContainer: {},\r\n  headerColumn: {\r\n    backgroundColor: 'transparent',\r\n    ...Platform.select({\r\n      ios: {\r\n        alignItems: 'center',\r\n        elevation: 1,\r\n        marginTop: -1,\r\n      },\r\n      android: {\r\n        alignItems: 'center',\r\n      },\r\n    }),\r\n  },\r\n  placeIcon: {\r\n    color: 'white',\r\n    fontSize: 26,\r\n  },\r\n  scroll: {\r\n    backgroundColor: '#FFF',\r\n  },\r\n  telContainer: {\r\n    backgroundColor: '#FFF',\r\n    flex: 1,\r\n    paddingTop: 30,\r\n  },\r\n  userAddressRow: {\r\n    alignItems: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  userCityRow: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  userCityText: {\r\n    color: '#A5A5A5',\r\n    fontSize: 15,\r\n    fontWeight: '600',\r\n    textAlign: 'center',\r\n  },\r\n  userImage: {\r\n    borderColor: \"#01C89E\",\r\n    borderRadius: 85,\r\n    borderWidth: 3,\r\n    height: 170,\r\n    marginBottom: 15,\r\n    width: 170,\r\n  },\r\n  userNameText: {\r\n    color: '#FFF',\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n    paddingBottom: 8,\r\n    textAlign: 'center',\r\n  },\r\n  loading_container: {\r\n    position: 'absolute',\r\n    zIndex: 10,\r\n    left: 0,\r\n    right: 0,\r\n    top: 100,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n})\r\n\r\nconst mapStateToProps = (store) => {\r\n  return {\r\n    user: store.user,\r\n    /* contact: store.contact,\r\n    second: store.second */\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  deleteContact,\r\n  modifyUserInfo,\r\n  setSecondInfo,\r\n  setIndexSelected,\r\n  ModifyPhoto\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Switch)"]},"metadata":{},"sourceType":"module"}