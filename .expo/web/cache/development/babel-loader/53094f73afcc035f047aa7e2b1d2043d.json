{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Projets\\\\Acadys\\\\best4sante\\\\SanteV2\\\\assets\\\\Screens\\\\Profiles\\\\SwitchSecond.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Card, Icon, Input } from 'react-native-elements';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport { ListView } from \"react-native-web/dist/index\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport PropTypes from 'prop-types';\nimport { FlatList, TouchableOpacity } from 'react-native-gesture-handler';\nimport { connect } from 'react-redux';\nimport { deleteContact, modifyUserInfo, ModifySecondPhoto, modifySecondUserInfo, setIndexSelected, setSecondInfo, ModifyPhoto } from \"../../Action\";\nimport { Avatar } from 'react-native-elements';\nimport TopMenu from \"../../component/Menu/TopMenu\";\nimport * as firebase from 'firebase';\nimport firestore from 'firebase/firestore';\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\nimport { faEdit } from '@fortawesome/free-solid-svg-icons';\nimport * as Permissions from 'expo-permissions';\nimport * as ImagePicker from 'expo-image-picker';\nimport Bdd from \"../../API/Bdd\";\nimport axios from \"axios\";\nvar DEFAUTL_USER = \"https://www.nehome-groupe.fr/wp-content/uploads/2015/09/image-de-profil-2.jpg\";\n\nvar SwitchSecond = function (_Component) {\n  _inherits(SwitchSecond, _Component);\n\n  var _super = _createSuper(SwitchSecond);\n\n  function SwitchSecond(props) {\n    var _this;\n\n    _classCallCheck(this, SwitchSecond);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                isLoading: true\n              });\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(_this.getCameraPermissions());\n\n            case 3:\n              _this.setState({\n                isLoading: false\n              });\n\n              _this.changeProfil();\n\n              console.log(_this.props.second);\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderHeader = function () {\n      return React.createElement(View, {\n        style: styles.headerContainer,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: Platform.OS === 'ios' ? styles.under_ios : styles.under,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }\n      }, React.createElement(TopMenu, {\n        navigation: _this.props.navigation,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }\n      })), React.createElement(ImageBackground, {\n        style: styles.headerBackgroundImage,\n        blurRadius: 10,\n        source: {\n          uri: _this.state.photoUri == null ? DEFAUTL_USER : _this.state.photoUri\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.headerColumn,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }\n      }, React.createElement(Image, {\n        style: styles.userImage,\n        source: {\n          uri: _this.state.photoUri == null ? DEFAUTL_USER : _this.state.photoUri\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        style: styles.userNameText,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }\n      }, _this.props.second.second_users[_this.props.second.indexSelected].nomSecondUser, \" \", _this.props.second.second_users[_this.props.second.indexSelected].prenomSecondUser, \" \"), React.createElement(View, {\n        style: styles.userAddressRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.actionBtn,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this.goToSecondSante();\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'share',\n          type: 'font-awesome'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 19\n        }\n      }))), _this.state.isModifbegin === false && React.createElement(View, {\n        style: styles.actionBtn,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this.setState({\n            isModifbegin: !_this.state.isModifbegin\n          });\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 19\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'pencil',\n          type: 'font-awesome'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }\n      }))), _this.state.isModifbegin === true && React.createElement(View, {\n        style: styles.actionBtn,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          console.log(\"ato tsika e\");\n\n          _this.modifInfoPerso();\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 19\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'save',\n          type: 'font-awesome'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }\n      }))), React.createElement(View, {\n        style: styles.actionBtn,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 15\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this._pickImage();\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 17\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'camera',\n          type: 'font-awesome'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 19\n        }\n      })))))));\n    };\n\n    _this.modifInfoPerso = function _callee2() {\n      var userModified;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this.setState({\n                errPhone: null\n              });\n\n              _this.setState({\n                isLoading: true\n              });\n\n              userModified = {\n                idSecondUser: _this.props.second.second_users[_this.props.navigate.navigation.state.params.index].idSecondUser,\n                nomSecondUser: _this.props.second.second_users[_this.props.second.indexSelected].nomSecondUser,\n                prenomSecondUser: _this.props.second.second_users[_this.props.second.indexSelected].prenomSecondUser,\n                phoneSecondUser: _this.props.second.second_users[_this.props.second.indexSelected].phoneSecondUser,\n                adresseSecondUser: _this.props.second.second_users[_this.props.second.indexSelected].adresseSecondUser,\n                zipSecondUser: _this.props.second.second_users[_this.props.second.indexSelected].zipSecondUser,\n                villeSecondUser: _this.props.second.second_users[_this.props.second.indexSelected].villeSecondUser,\n                naissanceSecondUser: _this.props.second.second_users[_this.props.second.indexSelected].naissanceSecondUser,\n                ageSecondUser: _this.props.second.second_users[_this.props.second.indexSelected].ageSecondUser,\n                sexeSecondUser: _this.props.second.second_users[_this.props.second.indexSelected].sexeSecondUser\n              };\n              userModified.idSecondUser = _this.state.id;\n              userModified.nomSecondUser = _this.state.firstName;\n              userModified.prenomSecondUser = _this.state.lastName;\n              userModified.phoneSecondUser = _this.state.phone;\n              userModified.adresseSecondUser = _this.state.address;\n              userModified.villeSecondUser = _this.state.city;\n              userModified.zipSecondUser = _this.state.zip;\n              userModified.naissanceSecondUser = _this.state.naissance;\n              userModified.ageSecondUser = _this.state.age;\n              userModified.sexeSecondUser = _this.state.sexe;\n\n              _this.props.modifySecondUserInfo(userModified);\n\n              _this.setState({\n                isModifbegin: false,\n                isLoading: false\n              });\n\n            case 15:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getCameraPermissions = function _callee3() {\n      var _await$Permissions$as, status;\n\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n            case 2:\n              _await$Permissions$as = _context3.sent;\n              status = _await$Permissions$as.status;\n\n              if (status !== 'granted') {\n                Alert(\"permission not granteed\");\n\n                _this.setState({\n                  rollGranted: false,\n                  cameraGranted: false\n                });\n              } else {\n                _this.setState({\n                  rollGranted: true,\n                  cameraGranted: true\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._pickImage = function _callee4() {\n      var result;\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                allowsEditing: true,\n                base64: true,\n                quality: 0.5\n              }));\n\n            case 2:\n              result = _context4.sent;\n\n              if (!result.cancelled) {\n                _context4.next = 5;\n                break;\n              }\n\n              return _context4.abrupt(\"return\");\n\n            case 5:\n              _this._handleImagePicked(result);\n\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.saveProfileImageInfo = function (data) {\n      console.log('Modifier Photo');\n\n      _this.props.ModifySecondPhoto(data);\n    };\n\n    _this._handleImagePicked = function _callee5(pickerResult) {\n      var uploadUrl, data;\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              uploadUrl = \"\";\n              _context5.prev = 1;\n\n              _this.setState({\n                isLoading: true\n              });\n\n              if (pickerResult.cancelled) {\n                _context5.next = 10;\n                break;\n              }\n\n              _context5.next = 6;\n              return _regeneratorRuntime.awrap(_this.uploadImageAsync(pickerResult.uri));\n\n            case 6:\n              uploadUrl = _context5.sent;\n              data = {\n                imageSecondUser: uploadUrl,\n                idSecondUser: _this.state.id\n              };\n\n              _this.saveProfileImageInfo(data);\n\n              axios.put(Bdd.api_url_second + \"/\" + _this.state.id + \"/image\", data).then(function (res) {\n                console.log(\"vita upload mys maj\");\n                console.log(res.data);\n              }).catch(function (error) {\n                console.log(error);\n              });\n\n            case 10:\n              _context5.next = 16;\n              break;\n\n            case 12:\n              _context5.prev = 12;\n              _context5.t0 = _context5[\"catch\"](1);\n              console.log(_context5.t0);\n              alert('Upload failed, sorry :(');\n\n            case 16:\n              _context5.prev = 16;\n              console.log('finally');\n\n              _this.setState({\n                isLoading: false\n              });\n\n              _this.setState({\n                photoUri: uploadUrl\n              });\n\n              return _context5.finish(16);\n\n            case 21:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, [[1, 12, 16, 21]], Promise);\n    };\n\n    _this.uploadImageAsync = function _callee6(uri) {\n      var blob, id, ref, snapshot;\n      return _regeneratorRuntime.async(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return _regeneratorRuntime.awrap(new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n\n                xhr.onload = function () {\n                  resolve(xhr.response);\n                };\n\n                xhr.onerror = function (e) {\n                  console.log(e);\n                  reject(new TypeError('Network request failed'));\n                };\n\n                xhr.responseType = 'blob';\n                xhr.open('GET', uri, true);\n                xhr.send(null);\n              }));\n\n            case 2:\n              blob = _context6.sent;\n              id = Math.random().toString();\n              ref = firebase.storage().ref().child(id);\n              _context6.next = 7;\n              return _regeneratorRuntime.awrap(ref.put(blob));\n\n            case 7:\n              snapshot = _context6.sent;\n              blob.close();\n              _context6.next = 11;\n              return _regeneratorRuntime.awrap(snapshot.ref.getDownloadURL());\n\n            case 11:\n              return _context6.abrupt(\"return\", _context6.sent);\n\n            case 12:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.state = {\n      isSelectedProfile: false,\n      firstName: _this.props.second.second_users[_this.props.second.indexSelected].nomSecondUser,\n      lastName: _this.props.second.second_users[_this.props.second.indexSelected].prenomSecondUser,\n      phone: _this.props.second.second_users[_this.props.second.indexSelected].phoneSecondUser,\n      address: _this.props.second.second_users[_this.props.second.indexSelected].adresseSecondUser,\n      zip: _this.props.second.second_users[_this.props.second.indexSelected].zipSecondUser,\n      city: _this.props.second.second_users[_this.props.second.indexSelected].villeSecondUser,\n      naissance: _this.props.second.second_users[_this.props.second.indexSelected].naissanceSecondUser,\n      age: _this.props.second.second_users[_this.props.second.indexSelected].ageSecondUser,\n      sexe: _this.props.second.second_users[_this.props.second.indexSelected].sexeSecondUser,\n      id: _this.props.navigation.state.params.id,\n      rollGranted: true,\n      cameraGranted: false,\n      uri_doc: null,\n      base64Img: null,\n      photoUri: _this.props.navigation.state.params.image,\n      errLastName: \"\",\n      errFirstName: \"\",\n      errAddress: \"\",\n      errZip: \"\",\n      errVille: \"\",\n      errPhone: \"\",\n      isLoading: false,\n      isModifbegin: false\n    };\n    _this.ref = firebase.firestore().collection('profile');\n    _this.countProfil = 0;\n    return _this;\n  }\n\n  _createClass(SwitchSecond, [{\n    key: \"changeProfil\",\n    value: function changeProfil() {\n      console.log('Param switch second profil ', this.props.navigation.state.params);\n      console.log('Count second profil ', this.countProfil);\n\n      if (this.props.navigation.state.params === undefined || this.countProfil !== 0) {\n        console.log('Quit second change profil');\n        this.countProfil = 0;\n        return;\n      } else {\n        console.log('set second state profil');\n        this.setState({\n          photoUri: this.props.navigation.state.params.profil\n        });\n        this.countProfil++;\n      }\n    }\n  }, {\n    key: \"goToSecondSante\",\n    value: function goToSecondSante() {\n      this.countProfil = 0;\n      console.log('Go to second sante avec', this.state.photoUri);\n      this.props.navigation.navigate(\"MySecondSante\", {\n        profil: this.state.photoUri,\n        id: this.state.id\n      });\n    }\n  }, {\n    key: \"validationInfo\",\n    value: function validationInfo(data) {\n      var numberPattern, alphaPattern, count;\n      return _regeneratorRuntime.async(function validationInfo$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              numberPattern = /^[0-9]+$/;\n              alphaPattern = /^([a-zA-Z0-9 _-]+)$/;\n              count = 0;\n\n              if (data.phone.length < 8 || data.phone.length > 12 || isNaN(data.phone)) {\n                count++;\n                this.setState({\n                  errPhone: \"Vous devez entrer un numéro de téléphone valide\"\n                });\n              } else {\n                this.setState({\n                  errPhone: null\n                });\n              }\n\n              if (numberPattern.test(this.state.zip) === false || this.state.zip == \"\" || this.state.zip.length < 3 || this.state.zip.length > 6) {\n                count++;\n                this.setState({\n                  errZip: \"Vous devez entrer un code postal valide\"\n                });\n              } else {\n                this.setState({\n                  errZip: null\n                });\n              }\n\n              if (alphaPattern.test(this.state.firstName) === false || this.state.firstName == \"\") {\n                count++;\n                this.setState({\n                  errFirstName: \"Vous devez entrer un prénom valide\"\n                });\n              } else {\n                this.setState({\n                  errFirstName: null\n                });\n              }\n\n              if (alphaPattern.test(this.state.lastName) === false || this.state.lastName == \"\") {\n                count++;\n                this.setState({\n                  errLastName: \"Vous devez entrer un nom valide\"\n                });\n              } else {\n                this.setState({\n                  errLastName: null\n                });\n              }\n\n              if (alphaPattern.test(this.state.city) === false || this.state.city == \"\") {\n                count++;\n                this.setState({\n                  errVille: \"Vous devez entrer un nom de ville valide\"\n                });\n              } else {\n                this.setState({\n                  errVille: null\n                });\n              }\n\n              return _context7.abrupt(\"return\", count);\n\n            case 9:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      console.log(\"render\");\n      return React.createElement(ScrollView, {\n        style: styles.scroll,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 9\n        }\n      }, this.state.isLoading && React.createElement(View, {\n        style: styles.loading_container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 36\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 13\n        }\n      })), React.createElement(Card, {\n        containerStyle: styles.cardContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }\n      }, this.renderHeader()), React.createElement(View, {\n        style: styles.containProfilSecond,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.profilSecondTxt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }\n      }, \"Profil Secondaire\")), React.createElement(View, {\n        style: styles.infoContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }\n      }, this.changeProfil(), this.state.isModifbegin === true && this.state.errPhone !== null && React.createElement(Text, {\n        style: styles.error,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 15\n        }\n      }, this.state.errPhone), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 15\n        }\n      }, \"Pr\\xE9nom\"), this.state.isModifbegin === true && React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            firstName: text\n          });\n        },\n        value: this.state.firstName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 17\n        }\n      }, this.state.firstName)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 15\n        }\n      }, \"Nom\"), this.state.isModifbegin === true && React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            lastName: text\n          });\n        },\n        value: this.state.lastName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 17\n        }\n      }, this.state.lastName)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 15\n        }\n      }, \"Date de naissance\"), this.state.isModifbegin === true && React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            lastName: text\n          });\n        },\n        value: this.state.lastName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 17\n        }\n      }, this.state.lastName)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 15\n        }\n      }, \"Age\"), this.state.isModifbegin === true && React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            lastName: text\n          });\n        },\n        value: this.state.lastName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 17\n        }\n      }, this.state.lastName)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 15\n        }\n      }, \"Sexe\"), this.state.isModifbegin === true && React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            lastName: text\n          });\n        },\n        value: this.state.lastName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 17\n        }\n      }, this.state.lastName)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 15\n        }\n      }, \"Ville\"), this.state.isModifbegin === true && React.createElement(Input, {\n        errorMessage: this.state.errVille,\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            city: text\n          });\n        },\n        value: this.state.city,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 17\n        }\n      }, this.state.city)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 15\n        }\n      }, \"Adresse\"), this.state.isModifbegin === true && React.createElement(Input, {\n        errorMessage: this.state.errAddress,\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            address: text\n          });\n        },\n        value: this.state.address,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 17\n        }\n      }, this.state.address)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 15\n        }\n      }, \"Code postale\"), this.state.isModifbegin === true && React.createElement(Input, {\n        keyboardType: \"numeric\",\n        errorMessage: this.state.errZip,\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            zip: text\n          });\n        },\n        value: this.state.zip,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 17\n        }\n      }, this.state.zip)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 15\n        }\n      }, \"T\\xE9l\\xE9phone\"), this.state.isModifbegin === true && React.createElement(Input, {\n        keyboardType: \"numeric\",\n        onChangeText: function onChangeText(text) {\n          return _this2.setState({\n            phone: text\n          });\n        },\n        value: this.state.phone,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 17\n        }\n      }, this.state.phone)))));\n    }\n  }]);\n\n  return SwitchSecond;\n}(Component);\n\nvar styles = StyleSheet.create({\n  infoContainer: {\n    padding: 20\n  },\n  labelText: {\n    fontWeight: \"bold\",\n    fontSize: 16\n  },\n  labelValue: {\n    color: \"gray\"\n  },\n  actionBtn: {\n    position: \"relative\",\n    top: -10,\n    zIndex: 99999,\n    paddingLeft: 3,\n    paddingRight: 3\n  },\n  choiceItem: {\n    backgroundColor: \"white\",\n    padding: 10,\n    margin: 10,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  cardContainer: {\n    backgroundColor: '#FFF',\n    borderWidth: 0,\n    flex: 1,\n    margin: 0,\n    padding: 0\n  },\n  container: {\n    flex: 1\n  },\n  emailContainer: {\n    backgroundColor: '#FFF',\n    flex: 1,\n    paddingTop: 30\n  },\n  headerBackgroundImage: {\n    paddingBottom: 20,\n    paddingTop: 35\n  },\n  headerContainer: {},\n  headerColumn: _objectSpread({\n    backgroundColor: 'transparent'\n  }, Platform.select({\n    ios: {\n      alignItems: 'center',\n      elevation: 1,\n      marginTop: -1\n    },\n    android: {\n      alignItems: 'center'\n    }\n  })),\n  placeIcon: {\n    color: 'white',\n    fontSize: 26\n  },\n  scroll: {\n    backgroundColor: '#FFF'\n  },\n  telContainer: {\n    backgroundColor: '#FFF',\n    flex: 1,\n    paddingTop: 30\n  },\n  userAddressRow: {\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  userCityRow: {\n    backgroundColor: 'transparent'\n  },\n  userCityText: {\n    color: '#A5A5A5',\n    fontSize: 15,\n    fontWeight: '600',\n    textAlign: 'center'\n  },\n  userImage: {\n    borderColor: \"#01C89E\",\n    borderRadius: 85,\n    borderWidth: 3,\n    height: 170,\n    marginBottom: 15,\n    width: 170\n  },\n  userNameText: {\n    color: '#FFF',\n    fontSize: 22,\n    fontWeight: 'bold',\n    paddingBottom: 8,\n    textAlign: 'center'\n  },\n  loading_container: {\n    position: 'absolute',\n    zIndex: 10,\n    left: 0,\n    right: 0,\n    top: 100,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  error: {\n    alignSelf: 'center',\n    color: 'red',\n    fontSize: 14,\n    marginTop: 10\n  },\n  profilSecondTxt: {\n    alignItems: 'center',\n    fontSize: 20\n  },\n  containProfilSecond: {\n    alignItems: 'center'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    user: store.user,\n    second: store.second\n  };\n};\n\nvar mapDispatchToProps = {\n  deleteContact: deleteContact,\n  modifyUserInfo: modifyUserInfo,\n  modifySecondUserInfo: modifySecondUserInfo,\n  setSecondInfo: setSecondInfo,\n  setIndexSelected: setIndexSelected,\n  ModifyPhoto: ModifyPhoto,\n  ModifySecondPhoto: ModifySecondPhoto\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(SwitchSecond);","map":{"version":3,"sources":["E:/Projets/Acadys/best4sante/SanteV2/assets/Screens/Profiles/SwitchSecond.js"],"names":["React","Component","Card","Icon","Input","ListView","PropTypes","FlatList","TouchableOpacity","connect","deleteContact","modifyUserInfo","ModifySecondPhoto","modifySecondUserInfo","setIndexSelected","setSecondInfo","ModifyPhoto","Avatar","TopMenu","firebase","firestore","FontAwesomeIcon","faEdit","Permissions","ImagePicker","Bdd","axios","DEFAUTL_USER","SwitchSecond","props","componentDidMount","setState","isLoading","getCameraPermissions","changeProfil","console","log","second","renderHeader","styles","headerContainer","Platform","OS","under_ios","under","navigation","headerBackgroundImage","uri","state","photoUri","headerColumn","userImage","userNameText","second_users","indexSelected","nomSecondUser","prenomSecondUser","userAddressRow","actionBtn","goToSecondSante","backgroundColor","name","type","isModifbegin","modifInfoPerso","_pickImage","errPhone","userModified","idSecondUser","navigate","params","index","phoneSecondUser","adresseSecondUser","zipSecondUser","villeSecondUser","naissanceSecondUser","ageSecondUser","sexeSecondUser","id","firstName","lastName","phone","address","city","zip","naissance","age","sexe","askAsync","CAMERA_ROLL","status","Alert","rollGranted","cameraGranted","launchImageLibraryAsync","allowsEditing","base64","quality","result","cancelled","_handleImagePicked","saveProfileImageInfo","data","pickerResult","uploadUrl","uploadImageAsync","imageSecondUser","put","api_url_second","then","res","catch","error","alert","Promise","resolve","reject","xhr","XMLHttpRequest","onload","response","onerror","e","TypeError","responseType","open","send","blob","Math","random","toString","ref","storage","child","snapshot","close","getDownloadURL","isSelectedProfile","uri_doc","base64Img","image","errLastName","errFirstName","errAddress","errZip","errVille","collection","countProfil","undefined","profil","numberPattern","alphaPattern","count","length","isNaN","test","scroll","container","loading_container","cardContainer","containProfilSecond","profilSecondTxt","infoContainer","labelText","text","labelValue","StyleSheet","create","padding","fontWeight","fontSize","color","position","top","zIndex","paddingLeft","paddingRight","choiceItem","margin","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","borderWidth","flex","emailContainer","paddingTop","paddingBottom","select","ios","alignItems","marginTop","android","placeIcon","telContainer","flexDirection","userCityRow","userCityText","textAlign","borderColor","borderRadius","marginBottom","left","right","bottom","justifyContent","alignSelf","mapStateToProps","store","user","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Card, Icon, Input } from 'react-native-elements'\r\nimport {\r\n  Image,\r\n  ImageBackground,\r\n  Linking,\r\n  ListView,\r\n  Platform,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  ActivityIndicator\r\n} from 'react-native'\r\nimport PropTypes from 'prop-types'\r\nimport { FlatList, TouchableOpacity } from 'react-native-gesture-handler'\r\nimport { connect } from 'react-redux'\r\nimport { deleteContact, modifyUserInfo,ModifySecondPhoto, modifySecondUserInfo, setIndexSelected, setSecondInfo ,ModifyPhoto } from '../../Action';\r\nimport { Avatar } from 'react-native-elements';\r\nimport TopMenu from \"../../component/Menu/TopMenu\"\r\nimport * as firebase from 'firebase';\r\nimport firestore from 'firebase/firestore'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome'\r\nimport { faEdit } from '@fortawesome/free-solid-svg-icons'\r\nimport * as Permissions from 'expo-permissions'\r\nimport * as ImagePicker from 'expo-image-picker'\r\nimport Bdd from '../../API/Bdd'\r\nimport axios from \"axios\"\r\n\r\nconst DEFAUTL_USER = \"https://www.nehome-groupe.fr/wp-content/uploads/2015/09/image-de-profil-2.jpg\"\r\nclass SwitchSecond extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      isSelectedProfile: false,\r\n      firstName: this.props.second.second_users[this.props.second.indexSelected].nomSecondUser,\r\n      lastName: this.props.second.second_users[this.props.second.indexSelected].prenomSecondUser,\r\n      phone: this.props.second.second_users[this.props.second.indexSelected].phoneSecondUser,\r\n      address: this.props.second.second_users[this.props.second.indexSelected].adresseSecondUser,\r\n      zip: this.props.second.second_users[this.props.second.indexSelected].zipSecondUser,\r\n      city: this.props.second.second_users[this.props.second.indexSelected].villeSecondUser,\r\n      naissance: this.props.second.second_users[this.props.second.indexSelected].naissanceSecondUser,\r\n      age: this.props.second.second_users[this.props.second.indexSelected].ageSecondUser,\r\n      sexe: this.props.second.second_users[this.props.second.indexSelected].sexeSecondUser,\r\n      // id: this.props.second.second_users[this.props.second.indexSelected].idSecondUser,\r\n      id: this.props.navigation.state.params.id,\r\n      rollGranted: true,\r\n      cameraGranted: false,\r\n      uri_doc: null,\r\n      base64Img: null,\r\n      // photoUri: this.props.second.second_users[this.props.second.indexSelected].imageSecondUser,\r\n      photoUri: this.props.navigation.state.params.image,\r\n      errLastName: \"\",\r\n      errFirstName: \"\",\r\n      errAddress: \"\",\r\n      errZip: \"\",\r\n      errVille: \"\",\r\n      errPhone: \"\",\r\n      isLoading: false,\r\n      isModifbegin: false\r\n    }\r\n    this.ref = firebase.firestore().collection('profile');\r\n    this.countProfil = 0;\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n    this.setState({ isLoading: true })\r\n    await this.getCameraPermissions()\r\n    this.setState({ isLoading: false })\r\n    this.changeProfil()\r\n    console.log(this.props.second)\r\n  }\r\n\r\n  changeProfil() {\r\n    console.log('Param switch second profil ', this.props.navigation.state.params)\r\n    console.log('Count second profil ', this.countProfil)\r\n    if (this.props.navigation.state.params === undefined || this.countProfil !== 0) {\r\n        console.log('Quit second change profil')\r\n        this.countProfil = 0\r\n        return\r\n    }\r\n    else {\r\n        console.log('set second state profil')\r\n        this.setState({photoUri: this.props.navigation.state.params.profil})\r\n        this.countProfil++\r\n    }\r\n}\r\n\r\n  goToSecondSante() {\r\n    this.countProfil = 0;\r\n    console.log('Go to second sante avec', this.state.photoUri)\r\n    this.props.navigation.navigate(\"MySecondSante\", {profil: this.state.photoUri, id: this.state.id})\r\n}\r\n\r\n\r\n  renderHeader = () => {\r\n    \r\n    return (\r\n      <View style={styles.headerContainer}>\r\n        <View style={Platform.OS === 'ios' ? styles.under_ios : styles.under}>\r\n          <TopMenu navigation={this.props.navigation} />\r\n        </View>\r\n        <ImageBackground\r\n          style={styles.headerBackgroundImage}\r\n          blurRadius={10}\r\n          source={{ uri: this.state.photoUri == null? DEFAUTL_USER : this.state.photoUri }}\r\n        >\r\n          <View style={styles.headerColumn}>\r\n            <Image\r\n              style={styles.userImage}\r\n              source={{ uri: this.state.photoUri == null ? DEFAUTL_USER : this.state.photoUri }}\r\n            />\r\n            <Text style={styles.userNameText}>{this.props.second.second_users[this.props.second.indexSelected].nomSecondUser} {this.props.second.second_users[this.props.second.indexSelected].prenomSecondUser} </Text>\r\n            <View style={styles.userAddressRow}>\r\n              <View style={styles.actionBtn}>\r\n                <TouchableOpacity onPress={() => this.goToSecondSante()}>\r\n                  <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'share', type: 'font-awesome' }} />\r\n                </TouchableOpacity>\r\n              </View>\r\n              {this.state.isModifbegin === false &&\r\n                <View style={styles.actionBtn}>\r\n                  <TouchableOpacity onPress={() => this.setState({ isModifbegin: !this.state.isModifbegin })}>\r\n                    <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'pencil', type: 'font-awesome' }} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n              }\r\n              {this.state.isModifbegin === true &&\r\n                <View style={styles.actionBtn}>\r\n                  <TouchableOpacity onPress={() => {   \r\n                    console.log(\"ato tsika e\")\r\n                      this.modifInfoPerso()\r\n\r\n                  }}>\r\n                    <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'save', type: 'font-awesome' }} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n              }\r\n              <View style={styles.actionBtn}>\r\n                <TouchableOpacity onPress={() =>this._pickImage() }>\r\n                  <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'camera', type: 'font-awesome' }} />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </ImageBackground>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  modifInfoPerso = async () => {\r\n    /* if (this.state.phone.length > 0 && (this.state.phone.length < 8 || this.state.phone.length > 12)) {\r\n      this.setState({errPhone: \"Numero telephone invalid\"})\r\n      return;\r\n    } */\r\n    this.setState({errPhone: null})\r\n\r\n    this.setState({ isLoading: true })\r\n    let userModified = {\r\n      idSecondUser : this.props.second.second_users[this.props.navigate.navigation.state.params.index].idSecondUser,\r\n      nomSecondUser: this.props.second.second_users[this.props.second.indexSelected].nomSecondUser,\r\n      prenomSecondUser: this.props.second.second_users[this.props.second.indexSelected].prenomSecondUser,\r\n      phoneSecondUser: this.props.second.second_users[this.props.second.indexSelected].phoneSecondUser,\r\n      adresseSecondUser: this.props.second.second_users[this.props.second.indexSelected].adresseSecondUser,\r\n      zipSecondUser: this.props.second.second_users[this.props.second.indexSelected].zipSecondUser,\r\n      villeSecondUser: this.props.second.second_users[this.props.second.indexSelected].villeSecondUser,\r\n      naissanceSecondUser: this.props.second.second_users[this.props.second.indexSelected].naissanceSecondUser,\r\n      ageSecondUser: this.props.second.second_users[this.props.second.indexSelected].ageSecondUser,\r\n      sexeSecondUser: this.props.second.second_users[this.props.second.indexSelected].sexeSecondUser,\r\n    }\r\n\r\n\r\n    userModified.idSecondUser = this.state.id\r\n    userModified.nomSecondUser = this.state.firstName\r\n    userModified.prenomSecondUser = this.state.lastName\r\n    userModified.phoneSecondUser = this.state.phone\r\n    userModified.adresseSecondUser = this.state.address\r\n    userModified.villeSecondUser = this.state.city\r\n    userModified.zipSecondUser = this.state.zip\r\n    userModified.naissanceSecondUser = this.state.naissance\r\n    userModified.ageSecondUser = this.state.age\r\n    userModified.sexeSecondUser = this.state.sexe\r\n\r\n  \r\n      this.props.modifySecondUserInfo(userModified)\r\n      this.setState({isModifbegin : false,isLoading : false})\r\n   \r\n  }\r\n\r\n\r\n  async validationInfo(data) {\r\n\r\n    var numberPattern = /^[0-9]+$/\r\n    var alphaPattern = /^([a-zA-Z0-9 _-]+)$/\r\n    let count = 0\r\n\r\n    if ( data.phone.length < 8 || data.phone.length > 12 || isNaN(data.phone)) {\r\n      count++\r\n      this.setState({ errPhone: \"Vous devez entrer un numéro de téléphone valide\" })\r\n    } else {\r\n      this.setState({ errPhone: null })\r\n    }\r\n\r\n    if (numberPattern.test(this.state.zip) === false || this.state.zip == \"\" || this.state.zip.length < 3 || this.state.zip.length > 6) {\r\n      count++\r\n      this.setState({ errZip: \"Vous devez entrer un code postal valide\" })\r\n    } else {\r\n      this.setState({ errZip: null })\r\n    }\r\n\r\n    if (alphaPattern.test(this.state.firstName) === false || this.state.firstName == \"\") {\r\n      count++\r\n      this.setState({ errFirstName: \"Vous devez entrer un prénom valide\" })\r\n    } else {\r\n      this.setState({ errFirstName: null })\r\n    }\r\n    if (alphaPattern.test(this.state.lastName) === false || this.state.lastName == \"\") {\r\n      count++\r\n      this.setState({ errLastName: \"Vous devez entrer un nom valide\" })\r\n    } else {\r\n      this.setState({ errLastName: null })\r\n    }\r\n    /* if (alphaPattern.test(this.state.address) === false || this.state.address == \"\") {\r\n      count++\r\n      this.setState({ errAddress: \"Vous devez entrer une adresse valide\" })\r\n    } else {\r\n      this.setState({ errAddress: null })\r\n    } */\r\n    \r\n    if (alphaPattern.test(this.state.city) === false || this.state.city == \"\") {\r\n      count++\r\n      this.setState({ errVille: \"Vous devez entrer un nom de ville valide\" })\r\n    } else {\r\n      this.setState({ errVille: null })\r\n    }\r\n\r\n    return count\r\n  }\r\n\r\n  getCameraPermissions = async () => {\r\n\r\n    let { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\r\n    if (status !== 'granted') {\r\n      Alert(\"permission not granteed\")\r\n      this.setState({\r\n        rollGranted: false,\r\n        cameraGranted: false,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        rollGranted: true,\r\n        cameraGranted: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  _pickImage = async () => {\r\n    //launchCameraAsync\r\n    let result = await ImagePicker.launchImageLibraryAsync({\r\n      allowsEditing : true,\r\n      base64: true,\r\n      quality : 0.5\r\n    });\r\n\r\n    if (result.cancelled) {\r\n      return\r\n    }\r\n\r\n\r\n    this._handleImagePicked(result);\r\n\r\n  }\r\n\r\n    saveProfileImageInfo =  (data) => {\r\n    console.log('Modifier Photo')\r\n    this.props.ModifySecondPhoto(data)\r\n    }\r\n\r\n  _handleImagePicked = async pickerResult => {\r\n    let uploadUrl =\"\"\r\n    try {\r\n      this.setState({ isLoading: true });\r\n\r\n      if (!pickerResult.cancelled) {\r\n        uploadUrl = await this.uploadImageAsync(pickerResult.uri);\r\n      let data = {\r\n        imageSecondUser :uploadUrl,\r\n        idSecondUser : this.state.id\r\n      }\r\n            this.saveProfileImageInfo(data)\r\n\r\n      \r\n         axios.put(`${Bdd.api_url_second}/${this.state.id}/image`,data)\r\n         .then(res=>{\r\n           console.log(\"vita upload mys maj\")\r\n           console.log(res.data)\r\n         }).catch(\r\n           error => {\r\n             console.log(error)\r\n           }\r\n         )\r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n      alert('Upload failed, sorry :(');\r\n    } finally {\r\n      console.log('finally')\r\n      this.setState({ isLoading: false });\r\n      /* this.props.navigation.navigate(\"MonProfil\") */\r\n      this.setState({photoUri : uploadUrl})\r\n    }\r\n  }\r\n  \r\n  uploadImageAsync = async (uri)  =>{\r\n    // Why are we using XMLHttpRequest? See:\r\n    // https://github.com/expo/expo/issues/2402#issuecomment-443726662\r\n    const blob = await new Promise((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.onload = function() {\r\n        resolve(xhr.response);\r\n      };\r\n      xhr.onerror = function(e) {\r\n        console.log(e);\r\n        reject(new TypeError('Network request failed'));\r\n      };\r\n      xhr.responseType = 'blob';\r\n      xhr.open('GET', uri, true);\r\n      xhr.send(null);\r\n    });\r\n    const id = Math.random().toString()\r\n    const ref = firebase\r\n      .storage()\r\n      .ref()\r\n      .child(id);\r\n    const snapshot = await ref.put(blob);\r\n  \r\n    // We're done with the blob, close and release it\r\n    blob.close();\r\n  \r\n    return await snapshot.ref.getDownloadURL();\r\n  }\r\n\r\n\r\n\r\n\r\n  render() {\r\n    console.log(\"render\")\r\n    return (\r\n      <ScrollView style={styles.scroll}>\r\n        <View style={styles.container}>\r\n          {this.state.isLoading && <View style={styles.loading_container}>\r\n            <ActivityIndicator size=\"large\" />\r\n          </View>}\r\n\r\n          <Card containerStyle={styles.cardContainer}>\r\n            {this.renderHeader()}\r\n          </Card>\r\n\r\n\r\n          <View style={styles.containProfilSecond}>\r\n          <Text style={styles.profilSecondTxt}>Profil Secondaire</Text>\r\n          </View>\r\n          <View style={styles.infoContainer}>\r\n          {this.changeProfil()}\r\n            {this.state.isModifbegin === true && this.state.errPhone !== null &&\r\n              <Text style={styles.error}>{this.state.errPhone}</Text>\r\n            }\r\n            <View>\r\n              <Text style={styles.labelText}>Prénom</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n                onChangeText={(text) => this.setState({ firstName: text })}\r\n                value={this.state.firstName}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.firstName}</Text>\r\n              }\r\n            </View>\r\n            <View>\r\n              <Text style={styles.labelText}>Nom</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n\r\n                onChangeText={(text) => this.setState({ lastName: text })}\r\n                value={this.state.lastName}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.lastName}</Text>\r\n              }\r\n            </View>\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Date de naissance</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n                onChangeText={(text) => this.setState({ lastName: text })}\r\n                value={this.state.lastName}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.lastName}</Text>\r\n              }\r\n            </View>\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Age</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n\r\n                onChangeText={(text) => this.setState({ lastName: text })}\r\n                value={this.state.lastName}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.lastName}</Text>\r\n              }\r\n            </View>\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Sexe</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n                onChangeText={(text) => this.setState({ lastName: text })}\r\n                value={this.state.lastName}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.lastName}</Text>\r\n              }\r\n            </View>\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Ville</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n              errorMessage={this.state.errVille}\r\n                onChangeText={(text) => this.setState({ city: text })}\r\n                value={this.state.city}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.city}</Text>\r\n              }\r\n            </View>\r\n            <View>\r\n              <Text style={styles.labelText}>Adresse</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n              errorMessage={this.state.errAddress}\r\n                onChangeText={(text) => this.setState({ address: text })}\r\n                value={this.state.address}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.address}</Text>\r\n              }\r\n            </View>\r\n            <View>\r\n              <Text style={styles.labelText}>Code postale</Text>\r\n              {this.state.isModifbegin === true && <Input keyboardType=\"numeric\" \r\n                errorMessage={this.state.errZip}\r\n                onChangeText={(text) => this.setState({ zip: text })}\r\n                value={this.state.zip}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.zip}</Text>\r\n              }\r\n            </View>\r\n\r\n\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Téléphone</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n               keyboardType=\"numeric\"\r\n                onChangeText={(text) => this.setState({ phone: text })}\r\n                value={this.state.phone}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.phone}</Text>\r\n              }\r\n            </View>\r\n\r\n          </View>\r\n\r\n\r\n\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\nconst styles = StyleSheet.create({\r\n  infoContainer: {\r\n    padding: 20\r\n  },\r\n  labelText: {\r\n    fontWeight: \"bold\",\r\n    fontSize: 16\r\n  },\r\n  labelValue: {\r\n    color: \"gray\"\r\n  },\r\n  actionBtn: {\r\n    position: \"relative\",\r\n    top: -10,\r\n    zIndex: 99999,\r\n    paddingLeft: 3,\r\n    paddingRight: 3\r\n  },\r\n  choiceItem: {\r\n    backgroundColor: \"white\",\r\n    padding: 10,\r\n    margin: 10,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5\r\n  },\r\n  cardContainer: {\r\n    backgroundColor: '#FFF',\r\n    borderWidth: 0,\r\n    flex: 1,\r\n    margin: 0,\r\n    padding: 0,\r\n  },\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  emailContainer: {\r\n    backgroundColor: '#FFF',\r\n    flex: 1,\r\n    paddingTop: 30,\r\n  },\r\n  headerBackgroundImage: {\r\n    paddingBottom: 20,\r\n    paddingTop: 35,\r\n  },\r\n  headerContainer: {},\r\n  headerColumn: {\r\n    backgroundColor: 'transparent',\r\n    ...Platform.select({\r\n      ios: {\r\n        alignItems: 'center',\r\n        elevation: 1,\r\n        marginTop: -1,\r\n      },\r\n      android: {\r\n        alignItems: 'center',\r\n      },\r\n    }),\r\n  },\r\n  placeIcon: {\r\n    color: 'white',\r\n    fontSize: 26,\r\n  },\r\n  scroll: {\r\n    backgroundColor: '#FFF',\r\n  },\r\n  telContainer: {\r\n    backgroundColor: '#FFF',\r\n    flex: 1,\r\n    paddingTop: 30,\r\n  },\r\n  userAddressRow: {\r\n    alignItems: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  userCityRow: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  userCityText: {\r\n    color: '#A5A5A5',\r\n    fontSize: 15,\r\n    fontWeight: '600',\r\n    textAlign: 'center',\r\n  },\r\n  userImage: {\r\n    borderColor: \"#01C89E\",\r\n    borderRadius: 85,\r\n    borderWidth: 3,\r\n    height: 170,\r\n    marginBottom: 15,\r\n    width: 170,\r\n  },\r\n  userNameText: {\r\n    color: '#FFF',\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n    paddingBottom: 8,\r\n    textAlign: 'center',\r\n  },\r\n  loading_container: {\r\n    position: 'absolute',\r\n    zIndex: 10,\r\n    left: 0,\r\n    right: 0,\r\n    top: 100,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  error:{\r\n    alignSelf:'center',\r\n    color:'red',\r\n    fontSize:14,\r\n    marginTop:10\r\n  },\r\n  profilSecondTxt : {\r\n    alignItems: 'center',\r\n    fontSize: 20,\r\n  },\r\n  containProfilSecond : {\r\n    alignItems: 'center'\r\n  }\r\n})\r\n\r\nconst mapStateToProps = (store) => {\r\n  return {\r\n    user: store.user,\r\n    \r\n    second: store.second \r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  deleteContact,\r\n  modifyUserInfo,\r\n  modifySecondUserInfo,\r\n  setSecondInfo,\r\n  setIndexSelected,\r\n  ModifyPhoto,\r\n  ModifySecondPhoto\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SwitchSecond)"]},"metadata":{},"sourceType":"module"}