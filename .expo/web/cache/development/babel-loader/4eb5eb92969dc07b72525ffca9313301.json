{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Projets\\\\Acadys\\\\best4sante\\\\SanteV2\\\\assets\\\\Screens\\\\Profiles\\\\MySecondSante.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport { Card, Icon, Input } from 'react-native-elements';\nimport BackHandler from \"react-native-web/dist/exports/BackHandler\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport { ListView } from \"react-native-web/dist/index\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Slider } from \"react-native-web/dist/index\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport PropTypes from 'prop-types';\nimport { FlatList, TouchableOpacity } from 'react-native-gesture-handler';\nimport { connect } from 'react-redux';\nimport { deleteContact, modifyUserInfo, setIndexSelected, setSecondInfo } from \"../../Action\";\nimport { Avatar } from 'react-native-elements';\nimport TopMenu from \"../../component/Menu/TopMenu\";\nimport * as firebase from 'firebase';\nimport firestore from 'firebase/firestore';\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\nimport { faEdit } from '@fortawesome/free-solid-svg-icons';\nimport * as Permissions from 'expo-permissions';\nimport * as ImagePicker from 'expo-image-picker';\nimport RadioForm, { RadioButton, RadioButtonInput, RadioButtonLabel } from 'react-native-simple-radio-button';\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport axios from \"axios\";\nimport Bdd from \"../../API/Bdd\";\nimport RNPickerSelect from 'react-native-picker-select';\nvar DEFAUTL_USER = \"https://www.nehome-groupe.fr/wp-content/uploads/2015/09/image-de-profil-2.jpg\";\n\nvar MySecondSante = function (_Component) {\n  _inherits(MySecondSante, _Component);\n\n  var _super = _createSuper(MySecondSante);\n\n  function MySecondSante(props) {\n    var _this;\n\n    _classCallCheck(this, MySecondSante);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.setState({\n                isLoading: true\n              });\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(_this.fetchSante());\n\n            case 3:\n              _this.setState({\n                isLoading: false\n              });\n\n              if (_this.props.navigation.state.params.profil !== undefined) {\n                _this.setState({\n                  photoUri: _this.props.navigation.state.params.profil\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.fetchSante = function _callee3() {\n      return _regeneratorRuntime.async(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              console.log('fetchsante de ', _this.state.id);\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(axios.get(Bdd.api_url_second + \"/fiche-sante/list?idSecondUser=\" + _this.state.id).then(function _callee2(res) {\n                var fiche;\n                return _regeneratorRuntime.async(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        _context2.next = 2;\n                        return _regeneratorRuntime.awrap(!res);\n\n                      case 2:\n                        if (!_context2.sent) {\n                          _context2.next = 6;\n                          break;\n                        }\n\n                        console.log(\"tena misy olana\");\n                        _context2.next = 9;\n                        break;\n\n                      case 6:\n                        fiche = res.data.data;\n                        console.log('resultat de fiche sante ', fiche);\n                        if (res.data === null) _this.setState({\n                          isFirst: true\n                        });else _this.setState({\n                          isFirst: false,\n                          blood: fiche.groupeSanguin,\n                          size: fiche.taille,\n                          weight: fiche.poids,\n                          medecin: fiche.medecinTraitant,\n                          secu: fiche.numSecu,\n                          donate: fiche.donnateur,\n                          idFiche: fiche.idFiche,\n                          allergies: fiche.allergies\n                        });\n\n                      case 9:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              }).catch(function (err) {\n                console.log(err);\n              }));\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.getCameraPermissions = function _callee4() {\n      var _await$Permissions$as, status;\n\n      return _regeneratorRuntime.async(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.CAMERA_ROLL));\n\n            case 2:\n              _await$Permissions$as = _context4.sent;\n              status = _await$Permissions$as.status;\n\n              if (status !== 'granted') {\n                Alert(\"permission not granteed\");\n\n                _this.setState({\n                  rollGranted: false,\n                  cameraGranted: false\n                });\n              } else {\n                _this.setState({\n                  rollGranted: true,\n                  cameraGranted: true\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._pickImage = function _callee5() {\n      var result;\n      return _regeneratorRuntime.async(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                allowsEditing: true,\n                base64: true,\n                quality: 0.5\n              }));\n\n            case 2:\n              result = _context5.sent;\n\n              if (!result.cancelled) {\n                _context5.next = 5;\n                break;\n              }\n\n              return _context5.abrupt(\"return\");\n\n            case 5:\n              _this._handleImagePicked(result);\n\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._handleImagePicked = function _callee6(pickerResult) {\n      var uploadUrl, data;\n      return _regeneratorRuntime.async(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              uploadUrl = \"\";\n              _context6.prev = 1;\n\n              _this.setState({\n                isLoading: true\n              });\n\n              if (pickerResult.cancelled) {\n                _context6.next = 9;\n                break;\n              }\n\n              _context6.next = 6;\n              return _regeneratorRuntime.awrap(_this.uploadImageAsync(pickerResult.uri));\n\n            case 6:\n              uploadUrl = _context6.sent;\n              data = {\n                imageSecondUser: uploadUrl,\n                idSecondUser: _this.state.id\n              };\n              axios.put(Bdd.api_url_second + \"/\" + _this.state.id + \"/image\", data).then(function (res) {\n                console.log(\"vita upload mys maj\");\n              });\n\n            case 9:\n              _context6.next = 15;\n              break;\n\n            case 11:\n              _context6.prev = 11;\n              _context6.t0 = _context6[\"catch\"](1);\n              console.log(_context6.t0);\n              alert('Upload failed, sorry :(');\n\n            case 15:\n              _context6.prev = 15;\n              console.log('finally');\n\n              _this.setState({\n                isLoading: false\n              });\n\n              _this.setState({\n                photoUri: uploadUrl\n              });\n\n              return _context6.finish(15);\n\n            case 20:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, null, null, [[1, 11, 15, 20]], Promise);\n    };\n\n    _this.uploadImageAsync = function _callee7(uri) {\n      var blob, id, ref, snapshot;\n      return _regeneratorRuntime.async(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return _regeneratorRuntime.awrap(new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n\n                xhr.onload = function () {\n                  resolve(xhr.response);\n                };\n\n                xhr.onerror = function (e) {\n                  console.log(e);\n                  reject(new TypeError('Network request failed'));\n                };\n\n                xhr.responseType = 'blob';\n                xhr.open('GET', uri, true);\n                xhr.send(null);\n              }));\n\n            case 2:\n              blob = _context7.sent;\n              id = Math.random().toString();\n              ref = firebase.storage().ref().child(id);\n              _context7.next = 7;\n              return _regeneratorRuntime.awrap(ref.put(blob));\n\n            case 7:\n              snapshot = _context7.sent;\n              blob.close();\n              _context7.next = 11;\n              return _regeneratorRuntime.awrap(snapshot.ref.getDownloadURL());\n\n            case 11:\n              return _context7.abrupt(\"return\", _context7.sent);\n\n            case 12:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderHeader = function () {\n      return React.createElement(View, {\n        style: styles.headerContainer,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: Platform.OS === 'ios' ? styles.under_ios : styles.under,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 9\n        }\n      }, React.createElement(TopMenu, {\n        navigation: _this.props.navigation,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }\n      })), React.createElement(ImageBackground, {\n        style: styles.headerBackgroundImage,\n        blurRadius: 10,\n        source: {\n          uri: _this.state.photoUri == \"\" ? DEFAUTL_USER : _this.state.photoUri\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.headerColumn,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }\n      }, React.createElement(Image, {\n        style: styles.userImage,\n        source: {\n          uri: _this.state.photoUri == \"\" ? DEFAUTL_USER : _this.state.photoUri\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        style: styles.userNameText,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }\n      }, _this.props.second.second_users[_this.props.second.indexSelected].nomSecondUser, \" \", _this.props.second.second_users[_this.props.second.indexSelected].prenomSecondUser, \" \"), React.createElement(View, {\n        style: styles.userAddressRow,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }\n      }, _this.state.isModifbegin === false && React.createElement(View, {\n        style: styles.actionBtn,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this.setState({\n            isModifbegin: !_this.state.isModifbegin\n          });\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 19\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'pencil',\n          type: 'font-awesome'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 21\n        }\n      }))), _this.state.isModifbegin === true && React.createElement(View, {\n        style: styles.actionBtn,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function _callee8() {\n          return _regeneratorRuntime.async(function _callee8$(_context8) {\n            while (1) {\n              switch (_context8.prev = _context8.next) {\n                case 0:\n                  if (!(_this.state.idFiche === null)) {\n                    _context8.next = 6;\n                    break;\n                  }\n\n                  console.log('New fiche sante');\n                  _context8.next = 4;\n                  return _regeneratorRuntime.awrap(_this.addFiche());\n\n                case 4:\n                  _context8.next = 9;\n                  break;\n\n                case 6:\n                  console.log('Modif fiche sante');\n                  _context8.next = 9;\n                  return _regeneratorRuntime.awrap(_this.modifFiche());\n\n                case 9:\n                case \"end\":\n                  return _context8.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 19\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'save',\n          type: 'font-awesome'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 21\n        }\n      }))), React.createElement(View, {\n        style: styles.actionBtn,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 15\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this._pickImage();\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 17\n        }\n      }, React.createElement(Avatar, {\n        size: \"medium\",\n        rounded: true,\n        overlayContainerStyle: {\n          backgroundColor: \"#008AC8\"\n        },\n        icon: {\n          name: 'camera',\n          type: 'font-awesome'\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 19\n        }\n      })))))));\n    };\n\n    _this.addFiche = function _callee9() {\n      var data;\n      return _regeneratorRuntime.async(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              data = {\n                idSecondUser: _this.state.id,\n                groupeSanguin: _this.state.blood,\n                taille: _this.state.size,\n                poids: _this.state.weight,\n                donnateur: _this.state.donate,\n                numSecu: _this.state.secu,\n                medecinTraitant: _this.state.medecin,\n                allergies: _this.state.allergies\n              };\n              console.log('add fiche sante');\n              console.log(data);\n              _context9.next = 5;\n              return _regeneratorRuntime.awrap(axios.post(Bdd.api_url_second + \"/fiche-sante\", data).then(function (res) {\n                console.log('resultat add fiche sante ', res);\n\n                _this.setState({\n                  isModifbegin: false,\n                  isLoading: false\n                });\n              }).catch(function (err) {\n                return console.log(err);\n              }));\n\n            case 5:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.createTaille = function () {\n      taille = [];\n\n      for (i = 50; i <= 210; i++) {\n        var item = {\n          label: i + \" cm\",\n          value: i\n        };\n        taille.push(item);\n      }\n\n      return taille;\n    };\n\n    _this.createPoids = function () {\n      poids = [];\n\n      for (i = 1; i <= 180; i++) {\n        var item = {\n          label: i + \" kg\",\n          value: i\n        };\n        poids.push(item);\n      }\n\n      return poids;\n    };\n\n    _this.state = {\n      isSelectedProfile: false,\n      id: _this.props.navigation.state.params.id,\n      blood: \"\",\n      size: 0,\n      weight: 0,\n      donate: false,\n      secu: null,\n      idFiche: null,\n      photoUri: _this.props.second.second_users[_this.props.second.indexSelected].imageSecondUser,\n      medecin: \"\",\n      allergies: \"\",\n      traitement: \"\",\n      isMedicinExist: false,\n      isAllergieExist: false,\n      isTraitementExist: false,\n      isLoading: false,\n      isModifbegin: false,\n      isFirst: false,\n      ficheSante: {}\n    };\n    _this.ref = firebase.firestore().collection('profile');\n    _this.handleBackButtonClick = _this.handleBackButtonClick.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(MySecondSante, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      BackHandler.addEventListener('hardwareBackPress', this.handleBackButtonClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      BackHandler.removeEventListener('hardwareBackPress', this.handleBackButtonClick);\n    }\n  }, {\n    key: \"handleBackButtonClick\",\n    value: function handleBackButtonClick() {\n      console.log('Go to switch sante avec', this.state.photoUri);\n      this.props.navigation.navigate(\"SwitchSecond\", {\n        profil: this.state.photoUri\n      });\n      return true;\n    }\n  }, {\n    key: \"modifFiche\",\n    value: function modifFiche() {\n      var _this2 = this;\n\n      this.setState({\n        isLoading: true\n      });\n      var userModified = {\n        groupeSanguin: this.state.blood,\n        taille: this.state.size,\n        poids: this.state.weight,\n        donnateur: this.state.donate,\n        numSecu: this.state.secu,\n        medecinTraitant: this.state.medecin,\n        allergies: this.state.allergies\n      };\n      userModified.groupeSanguin = this.state.blood;\n      userModified.taille = this.state.size;\n      userModified.poids = this.state.weight;\n      userModified.numSecu = this.state.secu;\n      userModified.donnateur = this.state.donate;\n      userModified.allergies = this.state.allergies;\n      console.log('Modif fiche sante', this.state.idFiche);\n      console.log(userModified);\n      axios.put(Bdd.api_url_second + \"/fiche-sante/\" + this.state.idFiche, userModified).then(function (res) {\n        console.log('resultat modif fiche', res);\n\n        _this2.setState({\n          isLoading: false,\n          isModifbegin: false\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n      this.setState({\n        isLoading: false,\n        isModifbegin: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var groupeSanguin = [{\n        label: 'A+',\n        value: 0\n      }, {\n        label: 'A-',\n        value: 1\n      }, {\n        label: 'B+',\n        value: 2\n      }, {\n        label: 'B-',\n        value: 3\n      }, {\n        label: 'AB+',\n        value: 4\n      }, {\n        label: 'AB-',\n        value: 5\n      }, {\n        label: 'O+',\n        value: 6\n      }, {\n        label: 'O-',\n        value: 7\n      }];\n      var tailleCm = this.createTaille();\n      var poidsKg = this.createPoids();\n      return React.createElement(ScrollView, {\n        style: styles.scroll,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 7\n        }\n      }, React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 9\n        }\n      }, this.state.isLoading && React.createElement(View, {\n        style: styles.loading_container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 36\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }\n      })), React.createElement(Card, {\n        containerStyle: styles.cardContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 11\n        }\n      }, this.renderHeader()), React.createElement(View, {\n        style: styles.containProfilSecond,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.profilSecondTxt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }\n      }, \"Profil Secondaire\")), React.createElement(View, {\n        style: styles.infoContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 15\n        }\n      }, \"Groupe Sanguin\"), this.state.isModifbegin === true && React.createElement(RadioForm, {\n        formHorizontal: true,\n        labelHorizontal: false,\n        radio_props: groupeSanguin,\n        initial: -1,\n        onPress: function onPress(value) {\n          _this3.setState({\n            blood: groupeSanguin[value].label\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 17\n        }\n      }, this.state.blood)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 15\n        }\n      }, \"Taille\"), this.state.isModifbegin === true && React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 52\n        }\n      }, React.createElement(RNPickerSelect, {\n        placeholder: {\n          label: \"Taille en cm\"\n        },\n        onValueChange: function onValueChange(value) {\n          return _this3.setState({\n            size: value\n          });\n        },\n        items: tailleCm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 17\n        }\n      })), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 17\n        }\n      }, this.state.size, \" cm\")), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 15\n        }\n      }, \"Poids\"), this.state.isModifbegin === true && React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 52\n        }\n      }, React.createElement(RNPickerSelect, {\n        placeholder: {\n          label: \"Poids en kg\"\n        },\n        onValueChange: function onValueChange(value) {\n          return _this3.setState({\n            weight: value\n          });\n        },\n        items: poidsKg,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 17\n        }\n      })), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 17\n        }\n      }, this.state.weight, \" kg\")), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 15\n        }\n      }, \"Donneur d'organe\"), this.state.isModifbegin === true && React.createElement(Switch, {\n        trackColor: {\n          false: \"#767577\",\n          true: \"#81b0ff\"\n        },\n        thumbColor: this.state.donate ? \"#f5dd4b\" : \"#f4f3f4\",\n        ios_backgroundColor: \"#3e3e3e\",\n        onValueChange: function onValueChange(value) {\n          if (value === true) _this3.setState({\n            donate: true\n          });else _this3.setState({\n            donate: false\n          });\n        },\n        value: this.state.donate,\n        style: styles.switch,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 17\n        }\n      }, this.state.donate === true ? \"OUI\" : \"NON\")), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 15\n        }\n      }, \"Num\\xE9ro de la s\\xE9curit\\xE9 sociale\"), this.state.isModifbegin === true && React.createElement(Input, {\n        keyboardType: \"numeric\",\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            secu: text\n          });\n        },\n        value: this.state.secu,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 17\n        }\n      }, this.state.secu)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 493,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 15\n        }\n      }, \"M\\xE9decin traitant\"), this.state.isModifbegin === true && React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            medecin: text\n          });\n        },\n        value: this.state.medecin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 17\n        }\n      }, this.state.medecin)), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.labelText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 15\n        }\n      }, \"Allergies\"), this.state.isModifbegin === true && React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this3.setState({\n            allergies: text\n          });\n        },\n        value: this.state.allergie,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 508,\n          columnNumber: 52\n        }\n      }), this.state.isModifbegin === false && React.createElement(Text, {\n        style: styles.labelValue,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 17\n        }\n      }, this.state.allergies)))));\n    }\n  }]);\n\n  return MySecondSante;\n}(Component);\n\nvar styles = StyleSheet.create({\n  infoContainer: {\n    padding: 20\n  },\n  labelText: {\n    fontWeight: \"bold\",\n    fontSize: 16\n  },\n  labelValue: {\n    color: \"gray\"\n  },\n  actionBtn: {\n    position: \"relative\",\n    top: -10,\n    zIndex: 99999,\n    paddingLeft: 5,\n    paddingRight: 5\n  },\n  slider: {\n    width: wp('80%'),\n    marginTop: hp(\"1%\"),\n    color: \"#008AC8\"\n  },\n  choiceItem: {\n    backgroundColor: \"white\",\n    padding: 10,\n    margin: 10,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 2\n    },\n    shadowOpacity: 0.25,\n    shadowRadius: 3.84,\n    elevation: 5\n  },\n  cardContainer: {\n    backgroundColor: '#FFF',\n    borderWidth: 0,\n    flex: 1,\n    margin: 0,\n    padding: 0\n  },\n  container: {\n    flex: 1\n  },\n  emailContainer: {\n    backgroundColor: '#FFF',\n    flex: 1,\n    paddingTop: 30\n  },\n  headerBackgroundImage: {\n    paddingBottom: 20,\n    paddingTop: 35\n  },\n  headerContainer: {},\n  headerColumn: _objectSpread({\n    backgroundColor: 'transparent'\n  }, Platform.select({\n    ios: {\n      alignItems: 'center',\n      elevation: 1,\n      marginTop: -1\n    },\n    android: {\n      alignItems: 'center'\n    }\n  })),\n  placeIcon: {\n    color: 'white',\n    fontSize: 26\n  },\n  scroll: {\n    backgroundColor: '#FFF'\n  },\n  telContainer: {\n    backgroundColor: '#FFF',\n    flex: 1,\n    paddingTop: 30\n  },\n  userAddressRow: {\n    alignItems: 'center',\n    flexDirection: 'row'\n  },\n  userCityRow: {\n    backgroundColor: 'transparent'\n  },\n  userCityText: {\n    color: '#A5A5A5',\n    fontSize: 15,\n    fontWeight: '600',\n    textAlign: 'center'\n  },\n  userImage: {\n    borderColor: \"#01C89E\",\n    borderRadius: 85,\n    borderWidth: 3,\n    height: 170,\n    marginBottom: 15,\n    width: 170\n  },\n  userNameText: {\n    color: '#FFF',\n    fontSize: 22,\n    fontWeight: 'bold',\n    paddingBottom: 8,\n    textAlign: 'center'\n  },\n  loading_container: {\n    position: 'absolute',\n    zIndex: 10,\n    left: 0,\n    right: 0,\n    top: 100,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  switch: {\n    marginTop: -22,\n    marginBottom: 15\n  },\n  profilSecondTxt: {\n    alignItems: 'center',\n    fontSize: 20\n  },\n  containProfilSecond: {\n    alignItems: 'center'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    user: store.user,\n    second: store.second\n  };\n};\n\nvar mapDispatchToProps = {\n  deleteContact: deleteContact,\n  modifyUserInfo: modifyUserInfo,\n  setSecondInfo: setSecondInfo,\n  setIndexSelected: setIndexSelected\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(MySecondSante);","map":{"version":3,"sources":["E:/Projets/Acadys/best4sante/SanteV2/assets/Screens/Profiles/MySecondSante.js"],"names":["React","Component","Card","Icon","Input","ListView","Slider","PropTypes","FlatList","TouchableOpacity","connect","deleteContact","modifyUserInfo","setIndexSelected","setSecondInfo","Avatar","TopMenu","firebase","firestore","FontAwesomeIcon","faEdit","Permissions","ImagePicker","RadioForm","RadioButton","RadioButtonInput","RadioButtonLabel","widthPercentageToDP","wp","heightPercentageToDP","hp","axios","Bdd","RNPickerSelect","DEFAUTL_USER","MySecondSante","props","componentDidMount","setState","isLoading","fetchSante","navigation","state","params","profil","undefined","photoUri","console","log","id","get","api_url_second","then","res","fiche","data","isFirst","blood","groupeSanguin","size","taille","weight","poids","medecin","medecinTraitant","secu","numSecu","donate","donnateur","idFiche","allergies","catch","err","getCameraPermissions","askAsync","CAMERA_ROLL","status","Alert","rollGranted","cameraGranted","_pickImage","launchImageLibraryAsync","allowsEditing","base64","quality","result","cancelled","_handleImagePicked","pickerResult","uploadUrl","uploadImageAsync","uri","imageSecondUser","idSecondUser","put","alert","Promise","resolve","reject","xhr","XMLHttpRequest","onload","response","onerror","e","TypeError","responseType","open","send","blob","Math","random","toString","ref","storage","child","snapshot","close","getDownloadURL","renderHeader","styles","headerContainer","Platform","OS","under_ios","under","headerBackgroundImage","headerColumn","userImage","userNameText","second","second_users","indexSelected","nomSecondUser","prenomSecondUser","userAddressRow","isModifbegin","actionBtn","backgroundColor","name","type","addFiche","modifFiche","post","createTaille","i","item","label","value","push","createPoids","isSelectedProfile","traitement","isMedicinExist","isAllergieExist","isTraitementExist","ficheSante","collection","handleBackButtonClick","bind","BackHandler","addEventListener","removeEventListener","navigate","userModified","tailleCm","poidsKg","scroll","container","loading_container","cardContainer","containProfilSecond","profilSecondTxt","infoContainer","labelText","labelValue","false","true","switch","text","allergie","StyleSheet","create","padding","fontWeight","fontSize","color","position","top","zIndex","paddingLeft","paddingRight","slider","width","marginTop","choiceItem","margin","shadowColor","shadowOffset","height","shadowOpacity","shadowRadius","elevation","borderWidth","flex","emailContainer","paddingTop","paddingBottom","select","ios","alignItems","android","placeIcon","telContainer","flexDirection","userCityRow","userCityText","textAlign","borderColor","borderRadius","marginBottom","left","right","bottom","justifyContent","mapStateToProps","store","user","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Card, Icon, Input, } from 'react-native-elements'\r\nimport { BackHandler } from 'react-native';\r\nimport {\r\n  Image,\r\n  ImageBackground,\r\n  Linking,\r\n  ListView,\r\n  Platform,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  Slider,\r\n  Switch,\r\n  ActivityIndicator\r\n} from 'react-native'\r\nimport PropTypes from 'prop-types'\r\nimport { FlatList, TouchableOpacity } from 'react-native-gesture-handler'\r\nimport { connect } from 'react-redux'\r\nimport { deleteContact, modifyUserInfo, setIndexSelected, setSecondInfo } from '../../Action';\r\nimport { Avatar } from 'react-native-elements';\r\nimport TopMenu from \"../../component/Menu/TopMenu\"\r\nimport * as firebase from 'firebase';\r\nimport firestore from 'firebase/firestore'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome'\r\nimport { faEdit } from '@fortawesome/free-solid-svg-icons'\r\nimport * as Permissions from 'expo-permissions'\r\nimport * as ImagePicker from 'expo-image-picker'\r\nimport RadioForm, { RadioButton, RadioButtonInput, RadioButtonLabel } from 'react-native-simple-radio-button';\r\nimport {\r\n  widthPercentageToDP as wp,\r\n  heightPercentageToDP as hp,\r\n} from 'react-native-responsive-screen'\r\nimport axios from \"axios\";\r\nimport Bdd from \"../../API/Bdd\"\r\nimport RNPickerSelect from 'react-native-picker-select';\r\nconst DEFAUTL_USER = \"https://www.nehome-groupe.fr/wp-content/uploads/2015/09/image-de-profil-2.jpg\"\r\nclass MySecondSante extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      isSelectedProfile: false,\r\n      // id: this.props.second.second_users[this.props.second.indexSelected].idSecondUser,\r\n      id: this.props.navigation.state.params.id,\r\n\r\n      blood: \"\",\r\n      size: 0,\r\n      weight: 0,\r\n      donate: false,\r\n      secu: null,\r\n      idFiche: null,\r\n\r\n\r\n      photoUri: this.props.second.second_users[this.props.second.indexSelected].imageSecondUser,\r\n\r\n      medecin: \"\",\r\n      allergies: \"\",\r\n      traitement: \"\",\r\n\r\n      isMedicinExist: false,\r\n      isAllergieExist: false,\r\n      isTraitementExist: false,\r\n\r\n      isLoading: false,\r\n\r\n      isModifbegin: false,\r\n      isFirst: false,\r\n      ficheSante: {},\r\n    }\r\n    this.ref = firebase.firestore().collection('profile');\r\n    this.handleBackButtonClick = this.handleBackButtonClick.bind(this);\r\n  }\r\n\r\n  componentDidMount = async () => {\r\n\r\n    this.setState({ isLoading: true })\r\n    await this.fetchSante()\r\n    this.setState({ isLoading: false })\r\n    if (this.props.navigation.state.params.profil !== undefined) {\r\n      this.setState({photoUri: this.props.navigation.state.params.profil})\r\n    }\r\n  }\r\n\r\n  componentWillMount() {\r\n    BackHandler.addEventListener('hardwareBackPress', this.handleBackButtonClick);\r\n}\r\n\r\ncomponentWillUnmount() {\r\n    BackHandler.removeEventListener('hardwareBackPress', this.handleBackButtonClick);\r\n}\r\n\r\nhandleBackButtonClick() {\r\n  console.log('Go to switch sante avec', this.state.photoUri)\r\n    this.props.navigation.navigate(\"SwitchSecond\", {profil: this.state.photoUri})\r\n    return true;\r\n}\r\n\r\n\r\n  fetchSante = async () => {\r\n    console.log('fetchsante de ', this.state.id)\r\n    await axios.get(`${Bdd.api_url_second}/fiche-sante/list?idSecondUser=${this.state.id}`)\r\n      .then(async res => {\r\n        if (await !res) {\r\n          console.log(\"tena misy olana\")\r\n        } else {\r\n          const fiche = res.data.data\r\n          console.log('resultat de fiche sante ', fiche)\r\n          if (res.data === null) this.setState({ isFirst: true })\r\n          else this.setState({\r\n            isFirst: false,\r\n            blood: fiche.groupeSanguin, size: fiche.taille,\r\n            weight: fiche.poids, medecin: fiche.medecinTraitant,\r\n            secu: fiche.numSecu, donate: fiche.donnateur,\r\n            idFiche: fiche.idFiche, allergies: fiche.allergies\r\n          })\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  getCameraPermissions = async () => {\r\n\r\n    let { status } = await Permissions.askAsync(Permissions.CAMERA_ROLL);\r\n    if (status !== 'granted') {\r\n      Alert(\"permission not granteed\")\r\n      this.setState({\r\n        rollGranted: false,\r\n        cameraGranted: false,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        rollGranted: true,\r\n        cameraGranted: true,\r\n      })\r\n    }\r\n  }\r\n\r\n  _pickImage = async () => {\r\n    //launchCameraAsync\r\n    let result = await ImagePicker.launchImageLibraryAsync({\r\n      allowsEditing : true,\r\n      base64: true,\r\n      quality : 0.5\r\n    });\r\n\r\n    if (result.cancelled) {\r\n      return\r\n    }\r\n\r\n\r\n    this._handleImagePicked(result);\r\n\r\n  }\r\n\r\n  _handleImagePicked = async pickerResult => {\r\n    let uploadUrl =\"\"\r\n    try {\r\n      this.setState({ isLoading: true });\r\n\r\n      if (!pickerResult.cancelled) {\r\n        uploadUrl = await this.uploadImageAsync(pickerResult.uri);\r\n      let data = {\r\n        imageSecondUser :uploadUrl,\r\n        idSecondUser : this.state.id\r\n      }\r\n      \r\n         axios.put(`${Bdd.api_url_second}/${this.state.id}/image`,data)\r\n         .then(res=>{\r\n           console.log(\"vita upload mys maj\")\r\n         })\r\n\r\n        \r\n      }\r\n    } catch (e) {\r\n      console.log(e);\r\n      alert('Upload failed, sorry :(');\r\n    } finally {\r\n      console.log('finally')\r\n      this.setState({ isLoading: false });\r\n      /* this.props.navigation.navigate(\"MonProfil\") */\r\n      this.setState({photoUri : uploadUrl})\r\n    }\r\n  }\r\n  \r\n  uploadImageAsync = async (uri)  =>{\r\n    // Why are we using XMLHttpRequest? See:\r\n    // https://github.com/expo/expo/issues/2402#issuecomment-443726662\r\n    const blob = await new Promise((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.onload = function() {\r\n        resolve(xhr.response);\r\n      };\r\n      xhr.onerror = function(e) {\r\n        console.log(e);\r\n        reject(new TypeError('Network request failed'));\r\n      };\r\n      xhr.responseType = 'blob';\r\n      xhr.open('GET', uri, true);\r\n      xhr.send(null);\r\n    });\r\n    const id = Math.random().toString()\r\n    const ref = firebase\r\n      .storage()\r\n      .ref()\r\n      .child(id);\r\n    const snapshot = await ref.put(blob);\r\n  \r\n    // We're done with the blob, close and release it\r\n    blob.close();\r\n  \r\n    return await snapshot.ref.getDownloadURL();\r\n  }\r\n\r\n\r\n\r\n\r\n  renderHeader = () => {\r\n\r\n    return (\r\n      <View style={styles.headerContainer}>\r\n        <View style={Platform.OS === 'ios' ? styles.under_ios : styles.under}>\r\n          <TopMenu navigation={this.props.navigation} />\r\n        </View>\r\n\r\n        <ImageBackground\r\n          style={styles.headerBackgroundImage}\r\n          blurRadius={10}\r\n          source={{ uri: this.state.photoUri == \"\" ? DEFAUTL_USER : this.state.photoUri }}\r\n        >\r\n          <View style={styles.headerColumn}>\r\n\r\n            <Image\r\n              style={styles.userImage}\r\n              source={{ uri: this.state.photoUri == \"\" ? DEFAUTL_USER : this.state.photoUri }}\r\n            />\r\n            <Text style={styles.userNameText}>{this.props.second.second_users[this.props.second.indexSelected].nomSecondUser} {this.props.second.second_users[this.props.second.indexSelected].prenomSecondUser} </Text>\r\n            <View style={styles.userAddressRow}>\r\n              \r\n              {this.state.isModifbegin === false &&\r\n                <View style={styles.actionBtn}>\r\n                  <TouchableOpacity onPress={() => this.setState({ isModifbegin: !this.state.isModifbegin })}>\r\n                    <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'pencil', type: 'font-awesome' }} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n              }\r\n              {this.state.isModifbegin === true &&\r\n                <View style={styles.actionBtn}>\r\n                  <TouchableOpacity onPress={async () => {\r\n                    if (this.state.idFiche === null) {\r\n                      console.log('New fiche sante')\r\n                      await this.addFiche()\r\n                    } else {\r\n                      console.log('Modif fiche sante')\r\n                      await this.modifFiche()\r\n                    }\r\n                    // await this.addFiche()\r\n                    /* if (this.props.second.indexSelected === 0) {\r\n                      await this.modifInfoPerso()\r\n\r\n                    } else {\r\n                      await this.modifySecondInfoPerso()\r\n\r\n                    } */\r\n                  }}>\r\n                    <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'save', type: 'font-awesome' }} />\r\n                  </TouchableOpacity>\r\n                </View>\r\n              }\r\n              <View style={styles.actionBtn}>\r\n                <TouchableOpacity onPress={() => this._pickImage()}>\r\n                  <Avatar size=\"medium\" rounded overlayContainerStyle={{ backgroundColor: \"#008AC8\" }} icon={{ name: 'camera', type: 'font-awesome' }} />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </ImageBackground>\r\n      </View>\r\n    )\r\n  }\r\n\r\n  addFiche = async () => {\r\n    //this.setState({ isLoading: true })\r\n    let data = {\r\n      // idUser: this.props.user.user.idUser,\r\n      idSecondUser: this.state.id,\r\n      groupeSanguin: this.state.blood,\r\n      taille: this.state.size,\r\n      poids: this.state.weight,\r\n      donnateur: this.state.donate,\r\n      numSecu: this.state.secu,\r\n      medecinTraitant: this.state.medecin,\r\n      allergies : this.state.allergies\r\n    }\r\n    console.log('add fiche sante')\r\n    console.log(data)\r\n\r\n    await axios.post(`${Bdd.api_url_second}/fiche-sante`, data)\r\n      .then( res => {\r\n        console.log('resultat add fiche sante ', res)\r\n        this.setState({ isModifbegin: false, isLoading: false })\r\n      })\r\n      .catch(err => console.log(err))\r\n   // this.setState({ isLoading: false })\r\n  }\r\n\r\n\r\n  modifFiche() {\r\n    this.setState({ isLoading: true })\r\n    let userModified = {\r\n\r\n      groupeSanguin: this.state.blood,\r\n      taille: this.state.size,\r\n      poids: this.state.weight,\r\n      donnateur: this.state.donate,\r\n      numSecu: this.state.secu,\r\n      medecinTraitant: this.state.medecin,\r\n      allergies : this.state.allergies\r\n    }\r\n\r\n    userModified.groupeSanguin = this.state.blood\r\n    userModified.taille = this.state.size\r\n    userModified.poids = this.state.weight\r\n    userModified.numSecu = this.state.secu\r\n    userModified.donnateur = this.state.donate\r\n    userModified.allergies = this.state.allergies\r\n\r\n    console.log('Modif fiche sante', this.state.idFiche)\r\n    console.log(userModified)\r\n    // this.saveAutre(this.state.medecin, this.state.allergie, this.state.traitement)\r\n    axios.put(`${Bdd.api_url_second}/fiche-sante/${this.state.idFiche}`, userModified)\r\n      .then(res => {\r\n        console.log('resultat modif fiche', res)\r\n        this.setState({ isLoading: false, isModifbegin: false })\r\n      })\r\n      .catch(err => console.log(err))\r\n    this.setState({ isLoading: false, isModifbegin: false })\r\n  }\r\n\r\n  createTaille = () => {\r\n    taille = []\r\n    for (i = 50; i <= 210; i++ ) {\r\n      const item = {\r\n        label: i + \" cm\",\r\n        value: i\r\n      }\r\n      taille.push(item)\r\n    }\r\n\r\n    return taille\r\n  }\r\n\r\n  createPoids = () => {\r\n    poids = []\r\n\r\n    for (i = 1; i <= 180; i++ ) {\r\n      const item = {\r\n        label: i + \" kg\",\r\n        value: i\r\n      }\r\n      poids.push(item)\r\n    }\r\n    return poids\r\n  }\r\n\r\n\r\n  render() {\r\n    var groupeSanguin = [\r\n      { label: 'A+', value: 0 },\r\n      { label: 'A-', value: 1 },\r\n      { label: 'B+', value: 2 },\r\n      { label: 'B-', value: 3 },\r\n      { label: 'AB+', value: 4 },\r\n      { label: 'AB-', value: 5 },\r\n      { label: 'O+', value: 6 },\r\n      { label: 'O-', value: 7 }\r\n    ];\r\n    var tailleCm = this.createTaille()\r\n    var poidsKg = this.createPoids()\r\n    return (\r\n      <ScrollView style={styles.scroll}>\r\n        <View style={styles.container}>\r\n\r\n   \r\n\r\n          {this.state.isLoading && <View style={styles.loading_container}>\r\n            <ActivityIndicator size=\"large\" />\r\n          </View>}\r\n\r\n          <Card containerStyle={styles.cardContainer}>\r\n            {this.renderHeader()}\r\n          </Card>\r\n\r\n\r\n          <View style={styles.containProfilSecond}>\r\n          <Text style={styles.profilSecondTxt}>Profil Secondaire</Text>\r\n          </View>\r\n          <View style={styles.infoContainer}>\r\n\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Groupe Sanguin</Text>\r\n              {this.state.isModifbegin === true && <RadioForm\r\n                formHorizontal={true}\r\n                labelHorizontal={false}\r\n                radio_props={groupeSanguin}\r\n                initial={-1}\r\n                onPress={(value) => { this.setState({ blood: groupeSanguin[value].label }) }}\r\n              />\r\n\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.blood}</Text>\r\n              }\r\n            </View>\r\n            <View>\r\n              <Text style={styles.labelText}>Taille</Text>\r\n              {this.state.isModifbegin === true && <View>\r\n\r\n                <RNPickerSelect\r\n                  placeholder={{\r\n                    label: \"Taille en cm\"\r\n                  }}\r\n                  onValueChange={(value) => this.setState({ size: value })}\r\n                  items={tailleCm}\r\n                />\r\n\r\n              </View>\r\n\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.size} cm</Text>\r\n              }\r\n            </View>\r\n\r\n\r\n\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Poids</Text>\r\n              {this.state.isModifbegin === true && <View>\r\n                <RNPickerSelect\r\n                  placeholder={{\r\n                    label: \"Poids en kg\"\r\n                  }}\r\n                  onValueChange={(value) => this.setState({ weight: value })}\r\n                  items={poidsKg}\r\n                />\r\n\r\n\r\n              </View>\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.weight} kg</Text>\r\n              }\r\n            </View>\r\n            <View>\r\n              <Text style={styles.labelText}>Donneur d'organe</Text>\r\n              {this.state.isModifbegin === true && <Switch\r\n                trackColor={{ false: \"#767577\", true: \"#81b0ff\" }}\r\n                thumbColor={this.state.donate ? \"#f5dd4b\" : \"#f4f3f4\"}\r\n                ios_backgroundColor=\"#3e3e3e\"\r\n                onValueChange={(value) => {\r\n                  if (value === true) this.setState({ donate: true })\r\n                  else this.setState({ donate: false })\r\n                }}\r\n                value={this.state.donate}\r\n                style={styles.switch}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.donate === true ? \"OUI\" : \"NON\"}</Text>\r\n              }\r\n            </View>\r\n            <View>\r\n              <Text style={styles.labelText}>Numéro de la sécurité sociale</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n                keyboardType={\"numeric\"}\r\n                onChangeText={(text) => this.setState({ secu: text })}\r\n                value={this.state.secu}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.secu}</Text>\r\n              }\r\n            </View>\r\n\r\n\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Médecin traitant</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n\r\n                onChangeText={(text) => this.setState({ medecin: text })}\r\n                value={this.state.medecin}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.medecin}</Text>\r\n              }\r\n            </View>\r\n\r\n            <View>\r\n              <Text style={styles.labelText}>Allergies</Text>\r\n              {this.state.isModifbegin === true && <Input\r\n\r\n                onChangeText={(text) => this.setState({ allergies: text })}\r\n                value={this.state.allergie}\r\n              />\r\n              }\r\n              {this.state.isModifbegin === false &&\r\n                <Text style={styles.labelValue}>{this.state.allergies}</Text>\r\n              }\r\n            </View>\r\n\r\n\r\n          </View>\r\n\r\n\r\n\r\n        </View>\r\n      </ScrollView>\r\n    )\r\n  }\r\n}\r\nconst styles = StyleSheet.create({\r\n  infoContainer: {\r\n    padding: 20\r\n  },\r\n  labelText: {\r\n    fontWeight: \"bold\",\r\n    fontSize: 16\r\n  },\r\n  labelValue: {\r\n    color: \"gray\"\r\n  },\r\n  actionBtn: {\r\n    position: \"relative\",\r\n    top: -10,\r\n    zIndex: 99999,\r\n    paddingLeft: 5,\r\n    paddingRight: 5\r\n  },\r\n  slider: {\r\n    width: wp('80%'),\r\n    marginTop: hp(\"1%\"),\r\n    color: \"#008AC8\",\r\n\r\n  },\r\n  choiceItem: {\r\n    backgroundColor: \"white\",\r\n    padding: 10,\r\n    margin: 10,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 2\r\n    },\r\n    shadowOpacity: 0.25,\r\n    shadowRadius: 3.84,\r\n    elevation: 5\r\n  },\r\n  cardContainer: {\r\n    backgroundColor: '#FFF',\r\n    borderWidth: 0,\r\n    flex: 1,\r\n    margin: 0,\r\n    padding: 0,\r\n  },\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  emailContainer: {\r\n    backgroundColor: '#FFF',\r\n    flex: 1,\r\n    paddingTop: 30,\r\n  },\r\n  headerBackgroundImage: {\r\n    paddingBottom: 20,\r\n    paddingTop: 35,\r\n  },\r\n  headerContainer: {},\r\n  headerColumn: {\r\n    backgroundColor: 'transparent',\r\n    ...Platform.select({\r\n      ios: {\r\n        alignItems: 'center',\r\n        elevation: 1,\r\n        marginTop: -1,\r\n      },\r\n      android: {\r\n        alignItems: 'center',\r\n      },\r\n    }),\r\n  },\r\n  placeIcon: {\r\n    color: 'white',\r\n    fontSize: 26,\r\n  },\r\n  scroll: {\r\n    backgroundColor: '#FFF',\r\n  },\r\n  telContainer: {\r\n    backgroundColor: '#FFF',\r\n    flex: 1,\r\n    paddingTop: 30,\r\n  },\r\n  userAddressRow: {\r\n    alignItems: 'center',\r\n    flexDirection: 'row',\r\n  },\r\n  userCityRow: {\r\n    backgroundColor: 'transparent',\r\n  },\r\n  userCityText: {\r\n    color: '#A5A5A5',\r\n    fontSize: 15,\r\n    fontWeight: '600',\r\n    textAlign: 'center',\r\n  },\r\n  userImage: {\r\n    borderColor: \"#01C89E\",\r\n    borderRadius: 85,\r\n    borderWidth: 3,\r\n    height: 170,\r\n    marginBottom: 15,\r\n    width: 170,\r\n  },\r\n  userNameText: {\r\n    color: '#FFF',\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n    paddingBottom: 8,\r\n    textAlign: 'center',\r\n  },\r\n  loading_container: {\r\n    position: 'absolute',\r\n    zIndex: 10,\r\n    left: 0,\r\n    right: 0,\r\n    top: 100,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  switch: {\r\n    marginTop:-22,\r\n    marginBottom: 15\r\n  },\r\n  profilSecondTxt : {\r\n    alignItems: 'center',\r\n    fontSize: 20,\r\n  },\r\n  containProfilSecond : {\r\n    alignItems: 'center'\r\n  }\r\n})\r\n\r\nconst mapStateToProps = (store) => {\r\n  return {\r\n    user: store.user,\r\n\r\n    second: store.second \r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  deleteContact,\r\n  modifyUserInfo,\r\n  setSecondInfo,\r\n  setIndexSelected\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MySecondSante)"]},"metadata":{},"sourceType":"module"}