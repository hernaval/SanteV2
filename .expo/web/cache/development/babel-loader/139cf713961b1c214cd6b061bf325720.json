{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Stenny Gabriel\\\\best4sante\\\\Best4Sante\\\\assets\\\\Screens\\\\Profiles\\\\MySecondProfil.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { connect } from 'react-redux';\nimport TopMenu from \"../../component/Menu/TopMenu\";\nimport { Avatar, Divider, ListItem } from 'react-native-elements';\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\nimport { faHome, faBars, faTimes, faCaretDown, faChevronRight, faEdit, faUmbrella, faUserAlt, faClinicMedical, faFileMedicalAlt, faUserCircle, faUsers, faExclamationCircle, faUser, faArrowDown, faArrowUp, faChevronDown, faTrashAlt, faCheck } from '@fortawesome/free-solid-svg-icons';\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport { deleteSecondProfil, setIndexSelected } from \"../../Action\";\nimport ActionButton from 'react-native-action-button';\n\nvar MySecondProfil = function (_Component) {\n  _inherits(MySecondProfil, _Component);\n\n  var _super = _createSuper(MySecondProfil);\n\n  function MySecondProfil() {\n    var _this;\n\n    _classCallCheck(this, MySecondProfil);\n\n    _this = _super.call(this);\n\n    _this.renderItem = function (index, fullname, lien, iniital) {\n      return React.createElement(ListItem, {\n        containerStyle: {\n          margin: 10\n        },\n        title: fullname,\n        subtitle: lien,\n        leftAvatar: {\n          title: iniital\n        },\n        bottomDivider: true,\n        rightElement: React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            return _this._toggleAction(index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 17\n          }\n        }, React.createElement(FontAwesomeIcon, {\n          size: 21,\n          color: \"grey\",\n          icon: _this.state.actionIndex === index ? faChevronDown : faChevronRight,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 21\n          }\n        })),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 9\n        }\n      });\n    };\n\n    _this._toggleAction = function (index) {\n      _this.state.actionIndex === index ? _this.setState({\n        actionIndex: -1\n      }) : _this.setState({\n        actionIndex: index\n      });\n    };\n\n    _this.renderAction = function (idUser, index) {\n      return React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          justifyContent: \"space-evenly\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: {\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this.props.deleteSecondProfil(idUser);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 17\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faTrashAlt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }\n      })), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }\n      }, \"Supprimer\")), React.createElement(View, {\n        style: {\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function _callee() {\n          return _regeneratorRuntime.async(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return _regeneratorRuntime.awrap(_this.onChangeSelectedName(index));\n\n                case 2:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faCheck,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }\n      })), React.createElement(Text, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }\n      }, \"Choisir\")));\n    };\n\n    _this.state = {\n      isLoading: false,\n      actionIndex: -1\n    };\n    return _this;\n  }\n\n  _createClass(MySecondProfil, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {}\n  }, {\n    key: \"onChangeSelectedName\",\n    value: function onChangeSelectedName(index) {\n      var selected;\n      return _regeneratorRuntime.async(function onChangeSelectedName$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              selected = this.props.second.second_users[index].firstName + ' ' + this.props.second.second_users[index].lastName;\n              this.setState({\n                selected: selected,\n                isSelectedProfile: false\n              });\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(this.props.setIndexSelected(index));\n\n            case 4:\n              this.props.navigation.navigate(\"MyProfil\");\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }\n      }, this.state.isLoading && React.createElement(View, {\n        style: styles.loading_container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 42\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }\n      })), React.createElement(View, {\n        style: Platform.OS === 'ios' ? styles.under_ios : styles.under,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      }, React.createElement(TopMenu, {\n        navigation: this.props.navigation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }\n      })), React.createElement(View, {\n        style: styles.profilContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 17\n        }\n      }, React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 25\n        }\n      }, \"Mes comptes secondaires\")), this.props.second.second_users !== null && this.props.second.second_users.map(function (profil, index) {\n        var name = profil.firstName.split(\"__\")[0];\n        var lien = profil.firstName.split(\"__\")[1];\n        var fullname = name + \" \" + profil.lastName;\n        var inital = profil.firstName[0] + profil.lastName[0];\n        return React.createElement(View, {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 29\n          }\n        }, _this2.renderItem(index, fullname, lien, inital), _this2.state.actionIndex === index && _this2.renderAction(profil.id, index));\n      })), React.createElement(ActionButton, {\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate(\"SecondAdd\");\n        },\n        style: {\n          marginBottom: 5\n        },\n        buttonColor: \"#008AC8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return MySecondProfil;\n}(Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"white\"\n  },\n  profilContainer: {\n    justifyContent: \"center\",\n    marginTop: hp(\"7%\")\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    user: store.user,\n    contact: store.contact,\n    second: store.second\n  };\n};\n\nvar mapDispatchToProps = {\n  deleteSecondProfil: deleteSecondProfil,\n  setIndexSelected: setIndexSelected\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(MySecondProfil);","map":{"version":3,"sources":["C:/Users/Stenny Gabriel/best4sante/Best4Sante/assets/Screens/Profiles/MySecondProfil.js"],"names":["React","Component","connect","TopMenu","Avatar","Divider","ListItem","FontAwesomeIcon","faHome","faBars","faTimes","faCaretDown","faChevronRight","faEdit","faUmbrella","faUserAlt","faClinicMedical","faFileMedicalAlt","faUserCircle","faUsers","faExclamationCircle","faUser","faArrowDown","faArrowUp","faChevronDown","faTrashAlt","faCheck","widthPercentageToDP","wp","heightPercentageToDP","hp","deleteSecondProfil","setIndexSelected","ActionButton","MySecondProfil","renderItem","index","fullname","lien","iniital","margin","title","_toggleAction","state","actionIndex","setState","renderAction","idUser","flexDirection","justifyContent","alignItems","props","onChangeSelectedName","isLoading","selected","second","second_users","firstName","lastName","isSelectedProfile","navigation","navigate","styles","container","loading_container","Platform","OS","under_ios","under","profilContainer","textAlign","map","profil","name","split","inital","id","marginBottom","StyleSheet","create","flex","backgroundColor","marginTop","mapStateToProps","store","user","contact","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Text, View, StyleSheet, ActivityIndicator, TouchableOpacity } from 'react-native'\r\nimport { connect } from 'react-redux'\r\nimport TopMenu from \"../../component/Menu/TopMenu\"\r\nimport { Avatar, Divider, ListItem } from 'react-native-elements';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\r\nimport { faHome, faBars, faTimes, faCaretDown, faChevronRight, faEdit, faUmbrella, faUserAlt, faClinicMedical, faFileMedicalAlt, faUserCircle, faUsers, faExclamationCircle, faUser, faArrowDown, faArrowUp, faChevronDown, faTrashAlt, faCheck } from '@fortawesome/free-solid-svg-icons';\r\nimport {\r\n    widthPercentageToDP as wp,\r\n    heightPercentageToDP as hp,\r\n} from 'react-native-responsive-screen'\r\nimport { deleteSecondProfil,setIndexSelected } from \"../../Action\";\r\nimport ActionButton from 'react-native-action-button';\r\n\r\nclass MySecondProfil extends Component {\r\n\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            isLoading: false,\r\n\r\n            actionIndex: -1\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n\r\n    renderItem = (index, fullname, lien, iniital) => (\r\n\r\n        <ListItem\r\n            containerStyle={{ margin: 10 }}\r\n\r\n            title={fullname}\r\n            subtitle={lien}\r\n            leftAvatar={{\r\n\r\n                title: iniital\r\n            }}\r\n            bottomDivider\r\n            rightElement={\r\n                <TouchableOpacity onPress={() => this._toggleAction(index)}>\r\n                    <FontAwesomeIcon size={21} color=\"grey\" icon={this.state.actionIndex === index ? faChevronDown : faChevronRight} />\r\n                </TouchableOpacity>\r\n            }\r\n\r\n        />\r\n\r\n\r\n    )\r\n    async onChangeSelectedName(index) {\r\n        \r\n        let selected = this.props.second.second_users[index].firstName+' '+this.props.second.second_users[index].lastName\r\n        this.setState({selected: selected, isSelectedProfile: false})\r\n        await this.props.setIndexSelected(index);\r\n\r\n        this.props.navigation.navigate(\"MyProfil\")\r\n        \r\n    }\r\n\r\n\r\n    _toggleAction = (index) => {\r\n        this.state.actionIndex === index ? this.setState({ actionIndex: -1 })\r\n            : this.setState({ actionIndex: index })\r\n    }\r\n\r\n    renderAction = (idUser,index) => (\r\n        <View style={{ flexDirection: \"row\", justifyContent: \"space-evenly\" }}>\r\n            \r\n\r\n            <View style={{ justifyContent: \"center\", alignItems: \"center\" }}>\r\n                <TouchableOpacity onPress={() => this.props.deleteSecondProfil(idUser)}>\r\n                    <FontAwesomeIcon icon={faTrashAlt} />\r\n                </TouchableOpacity>\r\n                <Text>Supprimer</Text>\r\n            </View>\r\n\r\n            <View style={{ justifyContent: \"center\", alignItems: \"center\" }}>\r\n                <TouchableOpacity onPress={async () =>{\r\n                    await this.onChangeSelectedName(index)\r\n                }}>\r\n                    <FontAwesomeIcon icon={faCheck} />\r\n                </TouchableOpacity>\r\n                <Text>Choisir</Text>\r\n            </View>\r\n\r\n        </View>\r\n    )\r\n    render() {\r\n        return (\r\n            <View style={styles.container}>\r\n                {this.state.isLoading && <View style={styles.loading_container}>\r\n                    <ActivityIndicator size=\"large\" />\r\n                </View>}\r\n\r\n                <View style={Platform.OS === 'ios' ? styles.under_ios : styles.under}>\r\n                    <TopMenu navigation={this.props.navigation} />\r\n                </View>\r\n\r\n                <View style={styles.profilContainer}>\r\n                    <View>\r\n                        <Text style={{ textAlign: \"center\" }}>Mes comptes secondaires</Text>\r\n                    </View>\r\n\r\n                    {this.props.second.second_users !== null && this.props.second.second_users.map((profil, index) => {\r\n                        const name = profil.firstName.split(\"__\")[0]\r\n                        const lien = profil.firstName.split(\"__\")[1]\r\n                        const fullname = name + \" \" + profil.lastName\r\n                        const inital = profil.firstName[0] + profil.lastName[0]\r\n                        return (\r\n                            <View key={index}>\r\n                                {this.renderItem(index, fullname, lien, inital)}\r\n\r\n                                {this.state.actionIndex === index && this.renderAction(profil.id,index)}\r\n                            </View>\r\n                        )\r\n                    })}\r\n\r\n                </View>\r\n                <ActionButton onPress={() => this.props.navigation.navigate(\"SecondAdd\")} style={{ marginBottom: 5 }} buttonColor=\"#008AC8\">\r\n\r\n                </ActionButton>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: \"white\",\r\n\r\n    },\r\n    profilContainer: {\r\n        justifyContent: \"center\",\r\n        marginTop: hp(\"7%\")\r\n    }\r\n})\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        user: store.user,\r\n        contact: store.contact,\r\n        second: store.second\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    deleteSecondProfil,\r\n    setIndexSelected\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MySecondProfil)\r\n\r\n"]},"metadata":{},"sourceType":"module"}