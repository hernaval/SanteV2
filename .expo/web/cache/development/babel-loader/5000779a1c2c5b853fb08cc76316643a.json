{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\Stenny Gabriel\\\\best4sante\\\\Best4Sante\\\\assets\\\\component\\\\DetailCard.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport { withNavigation } from 'react-navigation';\nimport { faAngleUp, faAngleDown, faPhoneSquareAlt, faDirections, faStar } from '@fortawesome/free-solid-svg-icons';\nimport { connect } from 'react-redux';\nimport { addFavorite, deleteFavorite } from \"../Action\";\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\nvar CARD_INITIAL_POSITION_Y = hp('78%');\nvar CARD_INITIAL_POSITION_X = wp('5%');\nvar CARD_OPEN_POSITION = hp('35%');\n\nvar DetailCard = function (_React$Component) {\n  _inherits(DetailCard, _React$Component);\n\n  var _super = _createSuper(DetailCard);\n\n  function DetailCard(props) {\n    var _this;\n\n    _classCallCheck(this, DetailCard);\n\n    _this = _super.call(this, props);\n\n    _this.resetOpenPosition = function () {\n      Animated.spring(_this.position, {\n        toValue: {\n          x: CARD_INITIAL_POSITION_X,\n          y: CARD_INITIAL_POSITION_Y\n        }\n      }).start(_this.setState({\n        isOpen: false\n      }));\n    };\n\n    _this.setOpenPosition = function () {\n      Animated.spring(_this.position, {\n        toValue: {\n          x: CARD_INITIAL_POSITION_X,\n          y: CARD_OPEN_POSITION\n        }\n      }).start(_this.setState({\n        isOpen: true\n      }));\n    };\n\n    _this.createCalendar = function (dates) {\n      var now = new Date();\n      var days = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'];\n      var calendars = [[], [], [], [], [], [], []];\n      dates.map(function (date, index) {\n        if (date.close.day !== undefined) {\n          calendars[date.close.day].push({\n            close: date.close\n          });\n          calendars[date.close.day].push({\n            open: date.open\n          });\n        }\n      });\n      return React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          marginLeft: wp('2%'),\n          marginRight: wp('2%'),\n          marginTop: hp('3%')\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.title3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }\n      }, \"Lundi :\", calendars[1].length === 0 && 'Fermé', calendars[1].length === 2 && calendars[1][1].open.time.substring(0, 2) + \"h\" + calendars[1][1].open.time.substring(2) + ' - ' + calendars[1][0].close.time.substring(0, 2) + \"h\" + calendars[1][0].close.time.substring(2), calendars[1].length === 4 && 'Fermé'), React.createElement(Text, {\n        style: styles.title3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }\n      }, \"Mardi :\", calendars[2].length === 0 && 'Fermé', calendars[2].length === 2 && calendars[2][1].open.time.substring(0, 2) + \"h\" + calendars[2][1].open.time.substring(2) + ' - ' + calendars[2][0].close.time.substring(0, 2) + \"h\" + calendars[2][0].close.time.substring(2), calendars[2].length === 4 && 'Fermé'), React.createElement(Text, {\n        style: styles.title3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }\n      }, \"Mercredi :\", calendars[3].length === 0 && 'Fermé', calendars[3].length === 2 && calendars[3][1].open.time.substring(0, 2) + \"h\" + calendars[3][1].open.time.substring(2) + ' - ' + calendars[3][0].close.time.substring(0, 2) + \"h\" + calendars[3][0].close.time.substring(2), calendars[3].length === 4 && 'Fermé')), React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.title3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }\n      }, \"Jeudi :\", calendars[4].length === 0 && 'Fermé', calendars[4].length === 2 && calendars[4][1].open.time.substring(0, 2) + \"h\" + calendars[4][1].open.time.substring(2) + ' - ' + calendars[4][0].close.time.substring(0, 2) + \"h\" + calendars[4][0].close.time.substring(2), calendars[4].length === 4 && 'Fermé'), React.createElement(Text, {\n        style: styles.title3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }\n      }, \"Vendredi :\", calendars[5].length === 0 && 'Fermé', calendars[5].length === 2 && calendars[5][1].open.time.substring(0, 2) + \"h\" + calendars[5][1].open.time.substring(2) + ' - ' + calendars[5][0].close.time.substring(0, 2) + \"h\" + calendars[5][0].close.time.substring(2), calendars[5].length === 4 && 'Fermé'), React.createElement(Text, {\n        style: styles.title3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }\n      }, \"Samedi :\", calendars[6].length === 0 && 'Fermé', calendars[6].length === 2 && calendars[6][1].open.time.substring(0, 2) + \"h\" + calendars[6][1].open.time.substring(2) + ' - ' + calendars[6][0].close.time.substring(0, 2) + \"h\" + calendars[6][0].close.time.substring(2), calendars[6].length === 4 && 'Fermé')));\n    };\n\n    _this.callPerson = function (phone) {\n      if (Platform.OS === 'ios') {\n        Linking.openURL('tel://' + phone);\n      } else if (Platform.OS === 'android') {\n        Linking.openURL('tel:' + phone);\n      }\n    };\n\n    _this.isFavoriteToggle = function () {\n      if (_this.props.isFavo === false) {\n        return React.createElement(TouchableOpacity, {\n          style: {\n            flex: 1,\n            textAlign: 'center',\n            zIndex: 2,\n            alignItems: \"center\"\n          },\n          onPress: function onPress(e) {\n            _this.onClickAddFavorite();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }\n        }, React.createElement(Image, {\n          style: {\n            width: wp('25%'),\n            height: wp('25%')\n          },\n          source: require(\"../images/favoris.png\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 25\n          }\n        }), React.createElement(Text, {\n          style: styles.title2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 25\n          }\n        }, \"Ajouter aux favoris\"));\n      } else {\n        return React.createElement(TouchableOpacity, {\n          style: {\n            flex: 1,\n            textAlign: 'center',\n            zIndex: 2,\n            alignItems: \"center\"\n          },\n          onPress: function onPress(e) {\n            _this.onClickDeleteFavorite();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 17\n          }\n        }, React.createElement(Image, {\n          style: {\n            width: wp('25%'),\n            height: wp('25%')\n          },\n          source: require(\"../images/Icone_Star_full.png\"),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 17\n          }\n        }), React.createElement(Text, {\n          style: styles.title2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 17\n          }\n        }, \"Retirer\"));\n      }\n    };\n\n    _this.onClickAddFavorite = function () {\n      var favorite = {\n        g_id: _this.props.detail.place_id,\n        user_id: _this.props.user.user.data.user[0].id\n      };\n\n      if (_this.props.isFavo === false) {\n        _this.props.addFavorite(favorite);\n\n        _this.props.onChangeFavo();\n      }\n    };\n\n    _this.position = new Animated.ValueXY();\n    _this.state = {\n      panResponder: undefined,\n      isOpen: false,\n      isFavorite: false,\n      favoriteId: false\n    };\n    return _this;\n  }\n\n  _createClass(DetailCard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._onFocusListener = this.props.navigation.addListener(\"willFocus\", function (payload) {\n        _this2.setState({\n          isCardOpen: false\n        });\n\n        _this2.resetOpenPosition();\n      });\n      this.position.setValue({\n        x: CARD_INITIAL_POSITION_X,\n        y: CARD_INITIAL_POSITION_Y\n      });\n      var panResponder = PanResponder.create({\n        onStartShouldSetPanResponder: function onStartShouldSetPanResponder() {\n          return true;\n        }\n      });\n      this.setState({\n        panResponder: panResponder\n      }, function () {});\n    }\n  }, {\n    key: \"getCardStyle\",\n    value: function getCardStyle() {\n      return _objectSpread({\n        width: wp('90%'),\n        height: hp(\"110%\"),\n        zIndex: 90,\n        backgroundColor: \"#01dcd5\",\n        borderColor: \"white\",\n        borderWidth: 4,\n        elevation: 1,\n        shadowColor: \"black\",\n        shadowOpacity: 0.2,\n        shadowOffset: {\n          height: 2,\n          width: 2\n        },\n        position: \"absolute\",\n        left: CARD_INITIAL_POSITION_X,\n        padding: wp(\"2%\")\n      }, this.position.getLayout());\n    }\n  }, {\n    key: \"createRate\",\n    value: function createRate(rate) {\n      var num = Math.round(parseFloat(rate));\n      var stars = [];\n\n      for (var i = 0; i < 5; i++) {\n        if (i < num) {\n          stars.push('white');\n        } else {\n          stars.push('blue');\n        }\n      }\n\n      return stars.map(function (star, index) {\n        if (star == \"white\") {\n          return React.createElement(Image, {\n            key: index,\n            style: {\n              width: wp('5%'),\n              height: wp('5%')\n            },\n            source: require(\"../images/Icone_Star_full.png\"),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 25\n            }\n          });\n        } else {\n          return React.createElement(Image, {\n            key: index,\n            style: {\n              width: wp('5%'),\n              height: wp('5%')\n            },\n            source: require(\"../images/Icone_Star_empty.png\"),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 25\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"onClickDeleteFavorite\",\n    value: function onClickDeleteFavorite() {\n      if (this.props.favoriteId !== null) {\n        var favorite_obj = {\n          g_id: this.props.favoriteId,\n          user_id: this.props.user.user.data.user[0].id\n        };\n\n        if (this.props.isFavo === true) {\n          this.props.deleteFavorite(favorite_obj);\n          this.props.onChangeFavo();\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return this.state.panResponder ? React.createElement(Animated.View, _extends({}, this.state.panResponder.panHandlers, {\n        style: this.getCardStyle(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }\n      }), React.createElement(View, {\n        style: styles.buttons,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 17\n        }\n      }, this.state.isOpen === false && React.createElement(TouchableOpacity, {\n        style: {\n          flex: 3,\n          marginTop: hp(\"1%\"),\n          width: wp(\"14%\"),\n          height: hp(\"7%\"),\n          marginBottom: hp(\"1%\"),\n          marginLeft: wp('35%'),\n          marginRight: wp('30%'),\n          zIndex: 2\n        },\n        onPress: function onPress(e) {\n          _this3.setOpenPosition();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 25\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faAngleUp,\n        size: 45,\n        color: \"white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 29\n        }\n      })), this.state.isOpen === true && React.createElement(TouchableOpacity, {\n        style: {\n          flex: 3,\n          marginTop: hp(\"1%\"),\n          width: wp(\"14%\"),\n          marginBottom: hp('1%'),\n          marginLeft: wp('35%'),\n          marginRight: wp('30%'),\n          zIndex: 2\n        },\n        onPress: function onPress(e) {\n          _this3.resetOpenPosition();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 25\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        size: 45,\n        icon: faAngleDown,\n        color: \"white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 29\n        }\n      })), React.createElement(TouchableOpacity, {\n        onPress: function onPress(e) {\n          _this3.props.onClickClose();\n        },\n        style: {\n          marginTop: hp('1%'),\n          marginRight: wp('2%'),\n          backgroundColor: \"white\",\n          height: hp(\"3%\"),\n          width: hp('3%'),\n          borderRadius: 400 / 2,\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: 'center',\n          color: \"#008AC8\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontWeight: \"bold\",\n          color: \"#008AC8\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 25\n        }\n      }, \"X\"))), React.createElement(Text, {\n        style: styles.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 17\n        }\n      }, this.props.detail.name), React.createElement(Text, {\n        style: styles.title2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 17\n        }\n      }, this.props.detail.formatted_address), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 17\n        }\n      }, this.props.detail.opening_hours && this.createCalendar(this.props.detail.opening_hours.periods)), React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n          marginTop: hp(\"4%\")\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: \"white\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }\n      }, \"Note :\"), this.createRate(this.props.detail.rating)), React.createElement(View, {\n        style: styles.direction,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 17\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          flex: 1,\n          textAlign: \"center\",\n          zIndex: 2,\n          alignItems: \"center\"\n        },\n        onPress: function onPress(e) {\n          return _this3.callPerson(_this3.props.detail.international_phone_number);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: wp(\"25%\"),\n          height: wp(\"25%\")\n        },\n        source: require(\"../images/apeller_icon.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        style: styles.title2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 25\n        }\n      }, \"Appeler\")), React.createElement(TouchableOpacity, {\n        style: {\n          flex: 1,\n          textAlign: \"center\",\n          zIndex: 2,\n          alignItems: \"center\"\n        },\n        onPress: function onPress(e) {\n          _this3.props.onClickDirection();\n\n          _this3.resetOpenPosition();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: wp('25%'),\n          height: wp('25%')\n        },\n        source: require(\"../images/itineraire_full.png\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 25\n        }\n      }), React.createElement(Text, {\n        style: styles.title2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 25\n        }\n      }, \"Itin\\xE9raire GPS\")), this.isFavoriteToggle())) : React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }\n      });\n    }\n  }]);\n\n  return DetailCard;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  title: {\n    fontSize: 20,\n    textAlign: 'center',\n    marginBottom: hp('1%'),\n    color: \"white\"\n  },\n  title2: {\n    textAlign: 'center',\n    color: \"white\",\n    marginBottom: hp(\"2%\")\n  },\n  title3: {\n    color: \"white\"\n  },\n  buttons: {\n    flexDirection: 'row'\n  },\n  direction: {\n    flexDirection: 'row',\n    width: wp('85%'),\n    justifyContent: 'space-around'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    favorite: store.favorite,\n    user: store.user\n  };\n};\n\nvar mapDispatchToProps = {\n  addFavorite: addFavorite,\n  deleteFavorite: deleteFavorite\n};\nexport default withNavigation(connect(mapStateToProps, mapDispatchToProps)(DetailCard));","map":{"version":3,"sources":["C:/Users/Stenny Gabriel/best4sante/Best4Sante/assets/component/DetailCard.js"],"names":["React","widthPercentageToDP","wp","heightPercentageToDP","hp","withNavigation","faAngleUp","faAngleDown","faPhoneSquareAlt","faDirections","faStar","connect","addFavorite","deleteFavorite","FontAwesomeIcon","CARD_INITIAL_POSITION_Y","CARD_INITIAL_POSITION_X","CARD_OPEN_POSITION","DetailCard","props","resetOpenPosition","Animated","spring","position","toValue","x","y","start","setState","isOpen","setOpenPosition","createCalendar","dates","now","Date","days","calendars","map","date","index","close","day","undefined","push","open","flexDirection","marginLeft","marginRight","marginTop","flex","styles","title3","length","time","substring","callPerson","phone","Platform","OS","Linking","openURL","isFavoriteToggle","isFavo","textAlign","zIndex","alignItems","e","onClickAddFavorite","width","height","require","title2","onClickDeleteFavorite","favorite","g_id","detail","place_id","user_id","user","data","id","onChangeFavo","ValueXY","state","panResponder","isFavorite","favoriteId","_onFocusListener","navigation","addListener","payload","isCardOpen","setValue","PanResponder","create","onStartShouldSetPanResponder","backgroundColor","borderColor","borderWidth","elevation","shadowColor","shadowOpacity","shadowOffset","left","padding","getLayout","rate","num","Math","round","parseFloat","stars","i","star","favorite_obj","panHandlers","getCardStyle","buttons","marginBottom","onClickClose","borderRadius","display","justifyContent","color","fontWeight","title","name","formatted_address","opening_hours","periods","createRate","rating","direction","international_phone_number","onClickDirection","Component","StyleSheet","fontSize","mapStateToProps","store","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {Animated, PanResponder, View, Text ,Image, Linking, StyleSheet, TouchableOpacity} from 'react-native'\r\nimport {\r\n    widthPercentageToDP as wp,\r\n    heightPercentageToDP as hp,\r\n  } from 'react-native-responsive-screen'\r\n  import {withNavigation} from 'react-navigation'\r\nimport { faAngleUp, faAngleDown, faPhoneSquareAlt, faDirections,  faStar } from '@fortawesome/free-solid-svg-icons'\r\n\r\n  import { connect } from 'react-redux'\r\nimport {addFavorite, deleteFavorite} from '../Action'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome'\r\n\r\nconst CARD_INITIAL_POSITION_Y = hp('78%')\r\nconst CARD_INITIAL_POSITION_X = wp('5%')\r\n\r\nconst CARD_OPEN_POSITION = hp('35%')\r\n\r\n\r\nclass DetailCard extends React.Component{\r\n    constructor(props) {\r\n        super(props)\r\n        this.position = new Animated.ValueXY\r\n        this.state = {\r\n            panResponder : undefined,\r\n            isOpen : false,\r\n            isFavorite : false,\r\n            favoriteId : false\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n         this._onFocusListener = this.props.navigation.addListener(\r\n            \"willFocus\",\r\n            payload =>{\r\n                this.setState({isCardOpen : false})\r\n                this.resetOpenPosition()\r\n            }\r\n        ) \r\n\r\n        this.position.setValue({\r\n            x : CARD_INITIAL_POSITION_X,\r\n            y : CARD_INITIAL_POSITION_Y\r\n        })\r\n        const panResponder = PanResponder.create({\r\n            onStartShouldSetPanResponder : () => true\r\n        })\r\n\r\n        this.setState({panResponder : panResponder}, () => {})\r\n\r\n        \r\n    }\r\n\r\n    resetOpenPosition = () =>{\r\n        Animated.spring(this.position, {\r\n            toValue : {\r\n                x : CARD_INITIAL_POSITION_X,\r\n                y : CARD_INITIAL_POSITION_Y\r\n            }\r\n        }).start(this.setState({\r\n            isOpen : false\r\n        }))\r\n    }\r\n\r\n    setOpenPosition = () => {\r\n        Animated.spring(this.position, {\r\n\t\t\ttoValue: {x: CARD_INITIAL_POSITION_X, y: CARD_OPEN_POSITION}\r\n        }).start(this.setState({isOpen: true}));\r\n    }\r\n\r\n    getCardStyle() {\r\n\t\treturn {\r\n\t\t\twidth: wp('90%'),\r\n\t\t\theight: hp(\"110%\"),\r\n\t\t\tzIndex: 90,\r\n            backgroundColor: \"#01dcd5\",\r\n            borderColor: \"white\",\r\n            borderWidth: 4,\r\n\t\t\televation: 1,\r\n\t\t\tshadowColor: \"black\",\r\n\t\t\tshadowOpacity: 0.2,\r\n\t\t\tshadowOffset: {height: 2, width: 2},\r\n\t\t\tposition: \"absolute\",\r\n\t\t\tleft: CARD_INITIAL_POSITION_X,\r\n\t\t\tpadding: wp(\"2%\"),\r\n\t\t\t...this.position.getLayout()\r\n\t\t}\r\n    }\r\n\r\n    createRate(rate){\r\n        let num = Math.round(parseFloat(rate))\r\n\r\n        let stars = [] \r\n        \r\n        for(let i = 0; i < 5; i++) {\r\n            if (i < num ) {\r\n                stars.push('white');\r\n            } else {\r\n                stars.push('blue');\r\n            }\r\n        }\r\n\r\n        return stars.map((star, index)=>{\r\n            \r\n            if(star == \"white\") {\r\n                return (<Image\r\n                    key={index}\r\n                    style={{width: wp('5%'), height: wp('5%')}}\r\n                    source={require('../images/Icone_Star_full.png')}\r\n                />)\r\n            } else {\r\n                return (<Image\r\n                    key={index}\r\n                    style={{width: wp('5%'), height: wp('5%')}}\r\n                    source={require('../images/Icone_Star_empty.png')}\r\n                />)\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    createCalendar = (dates) =>{\r\n        let now = new Date();\r\n        let days = ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'];\r\n        //.log('lesdates',dates);\r\n        let calendars = [\r\n                            [],\r\n                            [],\r\n                            [],\r\n                            [],\r\n                            [],\r\n                            [],\r\n                            []\r\n                        ]\r\n\r\n        dates.map((date, index)=>{\r\n           if(   date.close.day !== undefined) {\r\n                calendars[date.close.day].push({close: date.close});\r\n                calendars[date.close.day].push({open: date.open});\r\n           }\r\n           \r\n        });\r\n\r\n\r\n        return (\r\n            <View\r\n                style={{flexDirection: \"row\", marginLeft: wp('2%'), marginRight: wp('2%'), marginTop: hp('3%')}}\r\n            >\r\n                \r\n                <View\r\n                    style={{flex:1}}\r\n                >\r\n                    <Text style={styles.title3}>Lundi :  \r\n                        {calendars[1].length === 0 && 'Fermé'}\r\n                         {calendars[1].length === 2 && calendars[1][1].open.time.substring(0,2)+\"h\"+calendars[1][1].open.time.substring(2)+' - '+calendars[1][0].close.time.substring(0,2)+\"h\"+calendars[1][0].close.time.substring(2)}\r\n                        {calendars[1].length === 4 && 'Fermé'}\r\n                    </Text>\r\n                    <Text style={styles.title3}>Mardi :  \r\n                        {calendars[2].length === 0 && 'Fermé'}\r\n                         {calendars[2].length === 2 && calendars[2][1].open.time.substring(0,2)+\"h\"+calendars[2][1].open.time.substring(2)+' - '+calendars[2][0].close.time.substring(0,2)+\"h\"+calendars[2][0].close.time.substring(2)}\r\n                        {calendars[2].length === 4 && 'Fermé'}\r\n                    </Text>\r\n                    <Text style={styles.title3}>Mercredi :  \r\n                        {calendars[3].length === 0 && 'Fermé'}\r\n                         {calendars[3].length === 2 && calendars[3][1].open.time.substring(0,2)+\"h\"+calendars[3][1].open.time.substring(2)+' - '+calendars[3][0].close.time.substring(0,2)+\"h\"+calendars[3][0].close.time.substring(2)}\r\n                        {calendars[3].length === 4 && 'Fermé'}\r\n                    </Text>\r\n                </View>\r\n\r\n                <View\r\n                    style={{flex:1}}\r\n                >\r\n                    <Text style={styles.title3}>Jeudi :  \r\n                        {calendars[4].length === 0 && 'Fermé'}\r\n                         {calendars[4].length === 2 && calendars[4][1].open.time.substring(0,2)+\"h\"+calendars[4][1].open.time.substring(2)+' - '+calendars[4][0].close.time.substring(0,2)+\"h\"+calendars[4][0].close.time.substring(2)}\r\n                        {calendars[4].length === 4 && 'Fermé'}\r\n                    </Text>\r\n                    <Text style={styles.title3}>Vendredi :  \r\n                        {calendars[5].length === 0 && 'Fermé'}\r\n                         {calendars[5].length === 2 && calendars[5][1].open.time.substring(0,2)+\"h\"+calendars[5][1].open.time.substring(2)+' - '+calendars[5][0].close.time.substring(0,2)+\"h\"+calendars[5][0].close.time.substring(2)}\r\n                        {calendars[5].length === 4 && 'Fermé'}\r\n                    </Text>\r\n                    <Text style={styles.title3}>Samedi :  \r\n                        {calendars[6].length === 0 && 'Fermé'}\r\n                         {calendars[6].length === 2 && calendars[6][1].open.time.substring(0,2)+\"h\"+calendars[6][1].open.time.substring(2)+' - '+calendars[6][0].close.time.substring(0,2)+\"h\"+calendars[6][0].close.time.substring(2)}\r\n                        {calendars[6].length === 4 && 'Fermé'}\r\n                    </Text>\r\n                </View>\r\n\r\n            </View>\r\n        )\r\n\r\n    }\r\n\r\n    callPerson = (phone) =>{\r\n        if(Platform.OS === 'ios') {\r\n            Linking.openURL('tel://'+phone)\r\n        }\r\n        else if(Platform.OS === 'android') {\r\n            Linking.openURL('tel:'+phone)\r\n        }\r\n    }\r\n\r\n    isFavoriteToggle = () =>{\r\n        //.log(this.props.isFavo)\r\n        if(this.props.isFavo === false) {\r\n            return (\r\n                <TouchableOpacity\r\n                    style={{flex:1, textAlign: 'center', zIndex: 2, alignItems: \"center\"}}\r\n                    onPress={(e) =>{\r\n                        this.onClickAddFavorite()\r\n                    }}\r\n                >\r\n                        <Image\r\n                            style={{width: wp('25%'), height: wp('25%')}}\r\n                            source={require('../images/favoris.png')}     \r\n                        />\r\n                        <Text style={styles.title2}>Ajouter aux favoris</Text>\r\n\r\n                </TouchableOpacity>\r\n            )\r\n        }else{\r\n            return (\r\n                <TouchableOpacity\r\n                    style={{flex:1, textAlign: 'center', zIndex: 2, alignItems: \"center\"}}\r\n                    onPress={(e)=>{\r\n                        this.onClickDeleteFavorite();\r\n                    }}\r\n                >\r\n\r\n                <Image\r\n                    style={{width: wp('25%'), height: wp('25%')}}\r\n                    source={require('../images/Icone_Star_full.png')}\r\n                /> \r\n                <Text style={styles.title2}>Retirer</Text>\r\n\r\n                </TouchableOpacity>\r\n            )\r\n        }\r\n    }\r\n    \r\n    onClickAddFavorite = () =>{\r\n        let favorite = {\r\n            g_id : this.props.detail.place_id,\r\n            user_id : this.props.user.user.data.user[0].id\r\n        }\r\n\r\n        if(this.props.isFavo === false) {\r\n            this.props.addFavorite(favorite)\r\n\r\n            this.props.onChangeFavo()\r\n\r\n           \r\n        }\r\n    }\r\n\r\n    onClickDeleteFavorite() {\r\n        //.log(\"fav id \"+this.props.favoriteId)\r\n         if(this.props.favoriteId !== null) {\r\n             let favorite_obj = {\r\n                 g_id: this.props.favoriteId,\r\n                 user_id: this.props.user.user.data.user[0].id\r\n             }\r\n \r\n             //.log('props favo dans delete',this.props.isFavo)\r\n             //.log('favoriteId', favorite_obj)\r\n             if (this.props.isFavo === true) {\r\n                 this.props.deleteFavorite(favorite_obj);\r\n                 this.props.onChangeFavo();\r\n             }\r\n        }\r\n      \r\n    }\r\n\r\n    render(){\r\n\r\n        //.log(\"render details\")\r\n         return this.state.panResponder ? \r\n            <Animated.View\r\n                {...this.state.panResponder.panHandlers}\r\n                style={this.getCardStyle()}\r\n            >\r\n                <View style={styles.buttons}>\r\n                    {this.state.isOpen === false && \r\n                        <TouchableOpacity\r\n                            style={{flex : 3, marginTop : hp(\"1%\"),width : wp(\"14%\"),height : hp(\"7%\"),marginBottom : hp(\"1%\"),marginLeft: wp('35%'), marginRight: wp('30%'), zIndex: 2}}\r\n                            onPress={(e) => {this.setOpenPosition()}}\r\n                        >\r\n                            <FontAwesomeIcon icon={faAngleUp} size={45} color =\"white\" />\r\n\r\n                        </TouchableOpacity>\r\n                    }\r\n                    {this.state.isOpen === true && \r\n                        <TouchableOpacity \r\n                            style={{ flex:3, marginTop: hp(\"1%\"), width: wp(\"14%\"), marginBottom: hp('1%'), marginLeft: wp('35%'), marginRight: wp('30%'), zIndex: 2 }}\r\n                            onPress={(e) =>{this.resetOpenPosition()}}\r\n                        >\r\n                            <FontAwesomeIcon size={45}  icon={ faAngleDown } color=\"white\"/>\r\n                        </TouchableOpacity>\r\n                    }\r\n                    <TouchableOpacity\r\n                            onPress={(e)=>{this.props.onClickClose()}}\r\n                            style={{marginTop: hp('1%'), marginRight: wp('2%'), backgroundColor: \"white\", height: hp(\"3%\"),width: hp('3%'), borderRadius: 400/2, display: \"flex\", justifyContent: \"center\", alignItems: 'center', color: \"#008AC8\" }}\r\n                        \r\n                    >\r\n                        <Text style={{fontWeight : \"bold\", color : \"#008AC8\"}}>X</Text>\r\n                    </TouchableOpacity>\r\n                   \r\n                </View>\r\n                <Text style={styles.title}>{this.props.detail.name}</Text>\r\n                <Text style={styles.title2}>{this.props.detail.formatted_address}</Text>\r\n                \r\n                <View>\r\n                    {this.props.detail.opening_hours && this.createCalendar(this.props.detail.opening_hours.periods)}\r\n                </View>\r\n\r\n                <View style={{flexDirection : \"row\", justifyContent : \"center\",marginTop : hp(\"4%\")}}>\r\n                    <Text style={{color : \"white\"}}>Note :</Text>\r\n                    {this.createRate(this.props.detail.rating)}\r\n                </View>\r\n\r\n                <View style={styles.direction}>\r\n\r\n                    <TouchableOpacity\r\n                        style={{flex : 1, textAlign : \"center\",zIndex : 2 ,alignItems :\"center\"}}\r\n                        onPress={(e) =>this.callPerson(this.props.detail.international_phone_number)}\r\n                        >\r\n                        <Image \r\n                            style ={{width : wp(\"25%\"), height : wp(\"25%\")}}\r\n                            source={require(\"../images/apeller_icon.png\")}\r\n                        />\r\n                        <Text style={styles.title2}>Appeler</Text>\r\n                    </TouchableOpacity>\r\n\r\n                    <TouchableOpacity\r\n                        style={{flex : 1, textAlign : \"center\", zIndex : 2,alignItems : \"center\"}}\r\n                        onPress = {(e) => {\r\n                            this.props.onClickDirection()\r\n                            this.resetOpenPosition()\r\n                        }}\r\n                    >\r\n                        <Image \r\n                             style={{width: wp('25%'), height: wp('25%')}}\r\n                             source={require('../images/itineraire_full.png')}\r\n                            \r\n                        />\r\n                        <Text style={styles.title2}>Itinéraire GPS</Text>\r\n                    </TouchableOpacity>\r\n                   {this.isFavoriteToggle()}\r\n                </View>\r\n\r\n            </Animated.View>\r\n            :\r\n            <View /> \r\n    }\r\n\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    title: {\r\n        fontSize: 20,\r\n        textAlign: 'center',\r\n        marginBottom: hp('1%'),\r\n        color:\"white\"\r\n    },\r\n    title2: {\r\n        textAlign: 'center',\r\n        color:\"white\",\r\n        marginBottom: hp(\"2%\")\r\n    },\r\n    title3: {\r\n        color:\"white\"\r\n    },\r\n    buttons: {\r\n        flexDirection: 'row'\r\n    },\r\n    direction: {\r\n        flexDirection: 'row',\r\n        width: wp('85%'),\r\n      \r\n        justifyContent: 'space-around'\r\n    }\r\n})\r\n\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        favorite: store.favorite,\r\n        user: store.user\r\n    }\r\n  }\r\n\r\nconst mapDispatchToProps = {\r\n    addFavorite,\r\n    deleteFavorite\r\n}\r\n\r\nexport default withNavigation(connect(mapStateToProps,mapDispatchToProps)(DetailCard))\r\n"]},"metadata":{},"sourceType":"module"}