{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Projets\\\\Acadys\\\\best4sante\\\\SanteV2\\\\assets\\\\component\\\\Contact.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport { connect } from 'react-redux';\nimport { addContact } from \"../Action\";\nimport { Card, Icon, Input } from 'react-native-elements';\n\nvar Contact = function (_React$Component) {\n  _inherits(Contact, _React$Component);\n\n  var _super = _createSuper(Contact);\n\n  function Contact(props) {\n    var _this;\n\n    _classCallCheck(this, Contact);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      error: null,\n      invalidFirstName: null,\n      invalidLastName: null,\n      invalidEmail: null,\n      invalidPhone: null,\n      empty: null\n    };\n    _this.firstName = \"\";\n    _this.lastName = \"\";\n    _this.email = \"\";\n    _this.phone = \"\";\n    return _this;\n  }\n\n  _createClass(Contact, [{\n    key: \"gotToProfil\",\n    value: function gotToProfil() {\n      this.props.navigation.push(\"Profile\");\n    }\n  }, {\n    key: \"onChangeInput\",\n    value: function onChangeInput(text, type) {\n      this[type] = text;\n    }\n  }, {\n    key: \"onClickaddContact\",\n    value: function onClickaddContact() {\n      var champ = /^[a-zA-Z0-9_]+$/;\n      var email = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/;\n      this.setState({\n        empty: null\n      }, {\n        invalidFirstName: null\n      }, {\n        invalidLastName: null\n      }, {\n        invalidEmail: null\n      }, {\n        invalidPhone: null\n      });\n\n      if (this.firstName == '' || this.lastName == '' || this.email == '' || this.phone == '') {\n        this.setState({\n          empty: 'Veuillez remplir tout les champs'\n        });\n      } else if (!champ.test(this.firstName)) {\n        this.setState({\n          invalidFirstName: 'Caractère alphanumerique'\n        });\n      } else if (!champ.test(this.lastName)) {\n        this.setState({\n          invalidLastName: 'caractère alphanumerique'\n        });\n      } else if (!email.test(this.email)) {\n        this.setState({\n          invalidEmail: 'Email invalid'\n        });\n      } else if (this.phone.length < 8) {\n        this.setState({\n          invalidPhone: 'Entre 8 à 12 chiffres'\n        });\n      } else {\n        var contact = {\n          firstName: this.firstName,\n          lastName: this.lastName,\n          email: this.email,\n          phone: this.phone,\n          user_id: this.props.user.user.data.user[0].id\n        };\n        this.props.addContact(contact);\n        this.gotToProfil();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: styles.container,\n        behavior: \"padding\",\n        enabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.header,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }), React.createElement(ScrollView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.container2,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: styles.center,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: wp('35%'),\n          height: wp('35%'),\n          backgroundColor: 'white',\n          borderRadius: 400 / 2\n        },\n        source: require(\"../images/icon_point.jpeg\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }\n      })), React.createElement(Text, {\n        style: styles.center,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }\n      }, \"Best4Sant\\xE9\"), React.createElement(Text, {\n        style: styles.center,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }\n      }, \"Ajouter un contact d'urgence\"), this.state.error !== null && React.createElement(Text, {\n        style: (styles.center, styles.red),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 43\n        }\n      }, this.state.error), React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this2.firstName = text;\n        },\n        placeholder: \"Pr\\xE9nom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        style: styles.invalid,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }\n      }, this.state.invalidFirstName), React.createElement(Input, {\n        onChangeText: function onChangeText(text) {\n          return _this2.lastName = text;\n        },\n        placeholder: \"Nom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        style: styles.invalid,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }\n      }, this.state.invalidLastName), React.createElement(Input, {\n        autoCapitalize: \"none\",\n        onChangeText: function onChangeText(text) {\n          return _this2.email = text;\n        },\n        placeholder: \"Adresse email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        style: styles.invalid,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }\n      }, this.state.invalidEmail), React.createElement(Input, {\n        style: styles.textinput,\n        onChangeText: function onChangeText(text) {\n          return _this2.phone = text;\n        },\n        placeholder: \"Num\\xE9ro de t\\xE9l\\xE9phone\",\n        keyboardType: \"numeric\",\n        maxLength: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }\n      }), React.createElement(Text, {\n        style: styles.invalid,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }\n      }, this.state.invalidPhone), React.createElement(TouchableOpacity, {\n        style: styles.buttonStyle,\n        onPress: function onPress(e) {\n          _this2.onClickaddContact();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }\n      }, \"Enregistrer le contact d'urgence\")), React.createElement(Text, {\n        style: styles.invalid,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }\n      }, this.state.empty), React.createElement(Image, {\n        style: {\n          width: wp('13%'),\n          height: wp('13%'),\n          position: \"relative\",\n          bottom: hp('12.5%'),\n          left: wp('59%')\n        },\n        source: require(\"../images/icon_urf_bleu.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }\n      })), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: styles.footer,\n        onPress: function onPress(e) {\n          _this2.gotToProfil();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }\n      }, \"Revenir \\xE0 la page profil\"))));\n    }\n  }]);\n\n  return Contact;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'white',\n    alignItems: 'center'\n  },\n  container2: {\n    flex: 1,\n    alignItems: 'center',\n    paddingTop: hp('8%'),\n    zIndex: 2\n  },\n  header: {\n    position: 'relative',\n    top: hp(\"20%\"),\n    zIndex: 4,\n    textAlign: 'center'\n  },\n  center: {\n    textAlign: 'center',\n    color: \"white\",\n    fontSize: 23,\n    marginTop: hp('1%'),\n    marginBottom: hp('1%'),\n    fontWeight: 'bold'\n  },\n  red: {\n    color: 'red'\n  },\n  body: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  textinput: {\n    marginLeft: 5,\n    marginRight: 5,\n    height: 50,\n    width: wp(\"70%\"),\n    paddingLeft: 15,\n    backgroundColor: 'white',\n    borderRadius: 1,\n    marginBottom: hp('2%')\n  },\n  footer: {\n    position: 'relative',\n    bottom: hp(\"10%\"),\n    zIndex: 4,\n    textAlign: 'center',\n    textDecorationLine: 'underline',\n    paddingTop: 15,\n    paddingBottom: 15,\n    paddingLeft: 15,\n    paddingRight: 15,\n    color: \"white\"\n  },\n  title2: {\n    color: \"white\",\n    marginBottom: hp('1%'),\n    marginTop: hp('1%'),\n    textAlign: \"center\"\n  },\n  buttonStyle: {\n    backgroundColor: \"#008ac8\",\n    marginTop: hp(\"2%\"),\n    marginBottom: hp(\"2.5%\"),\n    paddingTop: hp('3%'),\n    paddingBottom: hp('3%'),\n    paddingLeft: wp(\"2%\"),\n    paddingRight: wp(\"2%\")\n  },\n  buttonText: {\n    color: 'white',\n    textAlign: \"center\",\n    fontSize: 13\n  },\n  invalid: {\n    color: '#eb002a',\n    textAlign: 'center'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    user: store.user,\n    contact: store.contact\n  };\n};\n\nvar mapDispatchToProps = {\n  addContact: addContact\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Contact);","map":{"version":3,"sources":["E:/Projets/Acadys/best4sante/SanteV2/assets/component/Contact.js"],"names":["React","widthPercentageToDP","wp","heightPercentageToDP","hp","connect","addContact","Card","Icon","Input","Contact","props","state","error","invalidFirstName","invalidLastName","invalidEmail","invalidPhone","empty","firstName","lastName","email","phone","navigation","push","text","type","champ","setState","test","length","contact","user_id","user","data","id","gotToProfil","styles","container","header","container2","center","width","height","backgroundColor","borderRadius","require","red","invalid","textinput","buttonStyle","e","onClickaddContact","buttonText","position","bottom","left","footer","Component","StyleSheet","create","flex","alignItems","paddingTop","zIndex","top","textAlign","color","fontSize","marginTop","marginBottom","fontWeight","body","justifyContent","marginLeft","marginRight","paddingLeft","textDecorationLine","paddingBottom","paddingRight","title2","mapStateToProps","store","mapDispatchToProps"],"mappings":";;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;;;AAEA,SACIC,mBAAmB,IAAIC,EAD3B,EAEIC,oBAAoB,IAAIC,EAF5B,QAGS,gCAHT;AAIE,SAASC,OAAT,QAAwB,aAAxB;AACA,SAAQC,UAAR;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,KAArB,QAAkC,uBAAlC;;IAEMC,O;;;;;AAEJ,mBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,IADI;AAEXC,MAAAA,gBAAgB,EAAE,IAFP;AAGXC,MAAAA,eAAe,EAAE,IAHN;AAIXC,MAAAA,YAAY,EAAE,IAJH;AAKXC,MAAAA,YAAY,EAAE,IALH;AAMXC,MAAAA,KAAK,EAAE;AANI,KAAb;AASA,UAAKC,SAAL,GAAiB,EAAjB;AACA,UAAKC,QAAL,GAAgB,EAAhB;AACA,UAAKC,KAAL,GAAa,EAAb;AACA,UAAKC,KAAL,GAAa,EAAb;AAdiB;AAelB;;;;kCAEa;AACZ,WAAKX,KAAL,CAAWY,UAAX,CAAsBC,IAAtB,CAA2B,SAA3B;AACD;;;kCAEaC,I,EAAMC,I,EAAK;AACvB,WAAKA,IAAL,IAAaD,IAAb;AACD;;;wCAEmB;AAClB,UAAME,KAAK,GAAG,iBAAd;AACA,UAAMN,KAAK,GAAG,kDAAd;AACA,WAAKO,QAAL,CAAc;AAACV,QAAAA,KAAK,EAAE;AAAR,OAAd,EAA6B;AAACJ,QAAAA,gBAAgB,EAAE;AAAnB,OAA7B,EACE;AAACC,QAAAA,eAAe,EAAE;AAAlB,OADF,EAC2B;AAACC,QAAAA,YAAY,EAAE;AAAf,OAD3B,EACiD;AAACC,QAAAA,YAAY,EAAE;AAAf,OADjD;;AAEA,UAAI,KAAKE,SAAL,IAAkB,EAAlB,IAAwB,KAAKC,QAAL,IAAiB,EAAzC,IAA+C,KAAKC,KAAL,IAAc,EAA7D,IAAmE,KAAKC,KAAL,IAAc,EAArF,EAAyF;AACvF,aAAKM,QAAL,CAAc;AAACV,UAAAA,KAAK,EAAE;AAAR,SAAd;AACD,OAFD,MAEO,IAAI,CAACS,KAAK,CAACE,IAAN,CAAW,KAAKV,SAAhB,CAAL,EAAiC;AACtC,aAAKS,QAAL,CAAc;AAACd,UAAAA,gBAAgB,EAAE;AAAnB,SAAd;AACD,OAFM,MAEA,IAAI,CAACa,KAAK,CAACE,IAAN,CAAW,KAAKT,QAAhB,CAAL,EAAgC;AACrC,aAAKQ,QAAL,CAAc;AAACb,UAAAA,eAAe,EAAE;AAAlB,SAAd;AACD,OAFM,MAEA,IAAI,CAACM,KAAK,CAACQ,IAAN,CAAW,KAAKR,KAAhB,CAAL,EAA6B;AAClC,aAAKO,QAAL,CAAc;AAACZ,UAAAA,YAAY,EAAE;AAAf,SAAd;AACD,OAFM,MAEA,IAAI,KAAKM,KAAL,CAAWQ,MAAX,GAAoB,CAAxB,EAA2B;AAChC,aAAKF,QAAL,CAAc;AAACX,UAAAA,YAAY,EAAE;AAAf,SAAd;AACD,OAFM,MAEA;AACL,YAAIc,OAAO,GAAG;AACZZ,UAAAA,SAAS,EAAE,KAAKA,SADJ;AAEZC,UAAAA,QAAQ,EAAE,KAAKA,QAFH;AAGZC,UAAAA,KAAK,EAAE,KAAKA,KAHA;AAIZC,UAAAA,KAAK,EAAE,KAAKA,KAJA;AAKZU,UAAAA,OAAO,EAAE,KAAKrB,KAAL,CAAWsB,IAAX,CAAgBA,IAAhB,CAAqBC,IAArB,CAA0BD,IAA1B,CAA+B,CAA/B,EAAkCE;AAL/B,SAAd;AAQF,aAAKxB,KAAL,CAAWL,UAAX,CAAsByB,OAAtB;AACA,aAAKK,WAAL;AACC;AAGF;;;6BAGO;AAAA;;AACN,aACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEC,MAAM,CAACC,SAApB;AAA+B,QAAA,QAAQ,EAAC,SAAxC;AAAkD,QAAA,OAAO,MAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACE,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAKE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEF,MAAM,CAACG,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEH,MAAM,CAACI,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,KAAK,EAAE;AAAEC,UAAAA,KAAK,EAAExC,EAAE,CAAC,KAAD,CAAX;AAAoByC,UAAAA,MAAM,EAAEzC,EAAE,CAAC,KAAD,CAA9B;AAAuC0C,UAAAA,eAAe,EAAE,OAAxD;AAAiEC,UAAAA,YAAY,EAAE,MAAI;AAAnF,SADT;AAEE,QAAA,MAAM,EAAEC,OAAO,6BAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAOE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAET,MAAM,CAACI,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAPF,EAQE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEJ,MAAM,CAACI,MAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCARF,EASG,KAAK7B,KAAL,CAAWC,KAAX,KAAqB,IAArB,IAA6B,oBAAC,IAAD;AAAM,QAAA,KAAK,GAAEwB,MAAM,CAACI,MAAP,EAAeJ,MAAM,CAACU,GAAxB,CAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAyC,KAAKnC,KAAL,CAAWC,KAApD,CAThC,EAWE,oBAAC,KAAD;AAEE,QAAA,YAAY,EAAE,sBAACY,IAAD;AAAA,iBAAU,MAAI,CAACN,SAAL,GAAiBM,IAA3B;AAAA,SAFhB;AAIE,QAAA,WAAW,EAAC,WAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXF,EAkBE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEY,MAAM,CAACW,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8B,KAAKpC,KAAL,CAAWE,gBAAzC,CAlBF,EAoBE,oBAAC,KAAD;AAEE,QAAA,YAAY,EAAE,sBAACW,IAAD;AAAA,iBAAS,MAAI,CAACL,QAAL,GAAgBK,IAAzB;AAAA,SAFhB;AAIE,QAAA,WAAW,EAAC,KAJd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApBF,EA2BE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEY,MAAM,CAACW,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8B,KAAKpC,KAAL,CAAWG,eAAzC,CA3BF,EA6BE,oBAAC,KAAD;AAEE,QAAA,cAAc,EAAG,MAFnB;AAGE,QAAA,YAAY,EAAE,sBAACU,IAAD;AAAA,iBAAU,MAAI,CAACJ,KAAL,GAAaI,IAAvB;AAAA,SAHhB;AAKE,QAAA,WAAW,EAAC,eALd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA7BF,EAqCE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEY,MAAM,CAACW,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8B,KAAKpC,KAAL,CAAWI,YAAzC,CArCF,EAuCE,oBAAC,KAAD;AACE,QAAA,KAAK,EAAEqB,MAAM,CAACY,SADhB;AAEE,QAAA,YAAY,EAAE,sBAACxB,IAAD;AAAA,iBAAU,MAAI,CAACH,KAAL,GAAaG,IAAvB;AAAA,SAFhB;AAGE,QAAA,WAAW,EAAC,8BAHd;AAIE,QAAA,YAAY,EAAC,SAJf;AAIyB,QAAA,SAAS,EAAE,EAJpC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvCF,EA8CE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEY,MAAM,CAACW,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8B,KAAKpC,KAAL,CAAWK,YAAzC,CA9CF,EAgDE,oBAAC,gBAAD;AACE,QAAA,KAAK,EAAEoB,MAAM,CAACa,WADhB;AAEE,QAAA,OAAO,EAAE,iBAACC,CAAD,EAAK;AAAC,UAAA,MAAI,CAACC,iBAAL;AAAyB,SAF1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEf,MAAM,CAACgB,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4CAJF,CAhDF,EAsDE,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEhB,MAAM,CAACW,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8B,KAAKpC,KAAL,CAAWM,KAAzC,CAtDF,EAuDE,oBAAC,KAAD;AACM,QAAA,KAAK,EAAE;AAAEwB,UAAAA,KAAK,EAAExC,EAAE,CAAC,KAAD,CAAX;AAAoByC,UAAAA,MAAM,EAAEzC,EAAE,CAAC,KAAD,CAA9B;AAAuCoD,UAAAA,QAAQ,EAAE,UAAjD;AAA6DC,UAAAA,MAAM,EAAEnD,EAAE,CAAC,OAAD,CAAvE;AAAkFoD,UAAAA,IAAI,EAAEtD,EAAE,CAAC,KAAD;AAA1F,SADb;AAEM,QAAA,MAAM,EAAE4C,OAAO,+BAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvDF,CADA,EA8DA,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,KAAK,EAAET,MAAM,CAACoB,MADhB;AAEE,QAAA,OAAO,EAAE,iBAACN,CAAD,EAAK;AACZ,UAAA,MAAI,CAACf,WAAL;AACD,SAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCADF,CA9DA,CALF,CADF;AAiFD;;;;EA7ImBpC,KAAK,CAAC0D,S;;AAgJ5B,IAAMrB,MAAM,GAAGsB,UAAU,CAACC,MAAX,CAAkB;AAC/BtB,EAAAA,SAAS,EAAE;AACTuB,IAAAA,IAAI,EAAE,CADG;AAETjB,IAAAA,eAAe,EAAE,OAFR;AAGTkB,IAAAA,UAAU,EAAE;AAHH,GADoB;AAQ/BtB,EAAAA,UAAU,EAAE;AACVqB,IAAAA,IAAI,EAAE,CADI;AAGVC,IAAAA,UAAU,EAAE,QAHF;AAIVC,IAAAA,UAAU,EAAE3D,EAAE,CAAC,IAAD,CAJJ;AAMV4D,IAAAA,MAAM,EAAE;AANE,GARmB;AAgB/BzB,EAAAA,MAAM,EAAE;AACNe,IAAAA,QAAQ,EAAE,UADJ;AAENW,IAAAA,GAAG,EAAE7D,EAAE,CAAC,KAAD,CAFD;AAGN4D,IAAAA,MAAM,EAAC,CAHD;AAINE,IAAAA,SAAS,EAAC;AAJJ,GAhBuB;AAsB/BzB,EAAAA,MAAM,EAAE;AACNyB,IAAAA,SAAS,EAAE,QADL;AAENC,IAAAA,KAAK,EAAE,OAFD;AAGNC,IAAAA,QAAQ,EAAE,EAHJ;AAINC,IAAAA,SAAS,EAAEjE,EAAE,CAAC,IAAD,CAJP;AAKNkE,IAAAA,YAAY,EAAElE,EAAE,CAAC,IAAD,CALV;AAMNmE,IAAAA,UAAU,EAAE;AANN,GAtBuB;AA8B/BxB,EAAAA,GAAG,EAAC;AACFoB,IAAAA,KAAK,EAAE;AADL,GA9B2B;AAiC/BK,EAAAA,IAAI,EAAE;AACJX,IAAAA,IAAI,EAAE,CADF;AAEJjB,IAAAA,eAAe,EAAE,MAFb;AAGJkB,IAAAA,UAAU,EAAE,QAHR;AAIJW,IAAAA,cAAc,EAAE;AAJZ,GAjCyB;AAuC/BxB,EAAAA,SAAS,EAAE;AACTyB,IAAAA,UAAU,EAAE,CADH;AAETC,IAAAA,WAAW,EAAE,CAFJ;AAGThC,IAAAA,MAAM,EAAE,EAHC;AAITD,IAAAA,KAAK,EAAExC,EAAE,CAAC,KAAD,CAJA;AAKT0E,IAAAA,WAAW,EAAE,EALJ;AAMThC,IAAAA,eAAe,EAAE,OANR;AAOTC,IAAAA,YAAY,EAAE,CAPL;AAQTyB,IAAAA,YAAY,EAAElE,EAAE,CAAC,IAAD;AARP,GAvCoB;AAiD/BqD,EAAAA,MAAM,EAAE;AACNH,IAAAA,QAAQ,EAAE,UADJ;AAENC,IAAAA,MAAM,EAAEnD,EAAE,CAAC,KAAD,CAFJ;AAGN4D,IAAAA,MAAM,EAAC,CAHD;AAINE,IAAAA,SAAS,EAAC,QAJJ;AAKNW,IAAAA,kBAAkB,EAAE,WALd;AAMNd,IAAAA,UAAU,EAAE,EANN;AAONe,IAAAA,aAAa,EAAE,EAPT;AAQNF,IAAAA,WAAW,EAAE,EARP;AASNG,IAAAA,YAAY,EAAE,EATR;AAUNZ,IAAAA,KAAK,EAAE;AAVD,GAjDuB;AA6D/Ba,EAAAA,MAAM,EAAE;AACNb,IAAAA,KAAK,EAAE,OADD;AAENG,IAAAA,YAAY,EAAElE,EAAE,CAAC,IAAD,CAFV;AAGNiE,IAAAA,SAAS,EAAEjE,EAAE,CAAC,IAAD,CAHP;AAIN8D,IAAAA,SAAS,EAAE;AAJL,GA7DuB;AAmE/BhB,EAAAA,WAAW,EAAE;AACTN,IAAAA,eAAe,EAAG,SADT;AAETyB,IAAAA,SAAS,EAAEjE,EAAE,CAAC,IAAD,CAFJ;AAGTkE,IAAAA,YAAY,EAAElE,EAAE,CAAC,MAAD,CAHP;AAIT2D,IAAAA,UAAU,EAAE3D,EAAE,CAAC,IAAD,CAJL;AAKT0E,IAAAA,aAAa,EAAE1E,EAAE,CAAC,IAAD,CALR;AAMTwE,IAAAA,WAAW,EAAG1E,EAAE,CAAC,IAAD,CANP;AAOT6E,IAAAA,YAAY,EAAG7E,EAAE,CAAC,IAAD;AAPR,GAnEkB;AAoF/BmD,EAAAA,UAAU,EAAE;AACVc,IAAAA,KAAK,EAAE,OADG;AAEVD,IAAAA,SAAS,EAAE,QAFD;AAGVE,IAAAA,QAAQ,EAAE;AAHA,GApFmB;AAyF/BpB,EAAAA,OAAO,EAAG;AACRmB,IAAAA,KAAK,EAAE,SADC;AAERD,IAAAA,SAAS,EAAE;AAFH;AAzFqB,CAAlB,CAAf;;AA+FA,IAAMe,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAC/B,SAAO;AACLjD,IAAAA,IAAI,EAAEiD,KAAK,CAACjD,IADP;AAELF,IAAAA,OAAO,EAAEmD,KAAK,CAACnD;AAFV,GAAP;AAID,CALH;;AAOE,IAAMoD,kBAAkB,GAAG;AACzB7E,EAAAA,UAAU,EAAVA;AADyB,CAA3B;AAKF,eAAeD,OAAO,CAAC4E,eAAD,EAAkBE,kBAAlB,CAAP,CAA6CzE,OAA7C,CAAf","sourcesContent":["import React from 'react';\r\nimport { StyleSheet, Text, View, TextInput, TouchableOpacity, KeyboardAvoidingView, Image, ScrollView } from 'react-native';\r\nimport {\r\n    widthPercentageToDP as wp,\r\n    heightPercentageToDP as hp,\r\n  } from 'react-native-responsive-screen';\r\n  import { connect } from 'react-redux';\r\n  import {addContact} from \"../Action\"\r\n  import { Card, Icon, Input } from 'react-native-elements'\r\n\r\n  class Contact extends React.Component {\r\n\r\n    constructor(props) {\r\n      super(props);\r\n      this.state = {\r\n        error: null,\r\n        invalidFirstName: null,\r\n        invalidLastName: null,\r\n        invalidEmail: null,\r\n        invalidPhone: null,\r\n        empty: null\r\n      }\r\n     \r\n      this.firstName = \"\";\r\n      this.lastName = \"\";\r\n      this.email = \"\";\r\n      this.phone = \"\";\r\n    }\r\n  \r\n    gotToProfil() {\r\n      this.props.navigation.push(\"Profile\")\r\n    }\r\n  \r\n    onChangeInput(text, type){\r\n      this[type] = text;\r\n    }\r\n  \r\n    onClickaddContact() {\r\n      const champ = /^[a-zA-Z0-9_]+$/\r\n      const email = /^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\\.[a-zA-Z0-9-.]+$/\r\n      this.setState({empty: null}, {invalidFirstName: null}, \r\n        {invalidLastName: null}, {invalidEmail: null}, {invalidPhone: null})\r\n      if (this.firstName == '' || this.lastName == '' || this.email == '' || this.phone == '') {\r\n        this.setState({empty: 'Veuillez remplir tout les champs'})\r\n      } else if (!champ.test(this.firstName)) {\r\n        this.setState({invalidFirstName: 'Caractère alphanumerique'})\r\n      } else if (!champ.test(this.lastName)) {\r\n        this.setState({invalidLastName: 'caractère alphanumerique'})\r\n      } else if (!email.test(this.email)) {\r\n        this.setState({invalidEmail: 'Email invalid'})\r\n      } else if (this.phone.length < 8) {\r\n        this.setState({invalidPhone: 'Entre 8 à 12 chiffres'})\r\n      } else {\r\n        let contact = {\r\n          firstName: this.firstName,\r\n          lastName: this.lastName,\r\n          email: this.email,\r\n          phone: this.phone,\r\n          user_id: this.props.user.user.data.user[0].id\r\n      }\r\n      //.log(contact);\r\n      this.props.addContact(contact);\r\n      this.gotToProfil();\r\n      }\r\n\r\n\r\n    }\r\n  \r\n  \r\n    render(){\r\n      return (\r\n        <View style={styles.container} behavior=\"padding\" enabled>\r\n          <View style={styles.header}>\r\n            \r\n            \r\n          </View>\r\n          <ScrollView>\r\n          <View style={styles.container2}>\r\n            <View style={styles.center}>\r\n              <Image\r\n                style={{ width: wp('35%'), height: wp('35%'), backgroundColor: 'white', borderRadius: 400/2}}\r\n                source={require('../images/icon_point.jpeg')}\r\n              />\r\n            </View>\r\n            <Text style={styles.center}>Best4Santé</Text>\r\n            <Text style={styles.center}>Ajouter un contact d'urgence</Text>\r\n            {this.state.error !== null && <Text style={styles.center, styles.red}>{this.state.error}</Text>}\r\n            \r\n            <Input \r\n              \r\n              onChangeText={(text) => this.firstName = text}\r\n             \r\n              placeholder=\"Prénom\"\r\n              //onSubmitEditing={() => this._searchFilms()}\r\n            />\r\n            <Text style={styles.invalid}>{this.state.invalidFirstName}</Text>\r\n\r\n            <Input \r\n             \r\n              onChangeText={(text) =>this.lastName = text}\r\n             \r\n              placeholder=\"Nom\"\r\n              //onSubmitEditing={() => this._searchFilms()}\r\n            />\r\n            <Text style={styles.invalid}>{this.state.invalidLastName}</Text>\r\n\r\n            <Input \r\n            \r\n              autoCapitalize = \"none\"\r\n              onChangeText={(text) => this.email = text}\r\n          \r\n              placeholder=\"Adresse email\"\r\n              //onSubmitEditing={() => this._searchFilms()}\r\n            />\r\n            <Text style={styles.invalid}>{this.state.invalidEmail}</Text>\r\n  \r\n            <Input \r\n              style={styles.textinput}\r\n              onChangeText={(text) => this.phone = text}\r\n              placeholder=\"Numéro de téléphone\"\r\n              keyboardType=\"numeric\" maxLength={12}\r\n              //onSubmitEditing={() => this._searchFilms()}\r\n            />\r\n            <Text style={styles.invalid}>{this.state.invalidPhone}</Text>\r\n            \r\n            <TouchableOpacity\r\n              style={styles.buttonStyle}\r\n              onPress={(e)=>{this.onClickaddContact()}}\r\n            >\r\n              <Text style={styles.buttonText}>Enregistrer le contact d'urgence</Text>\r\n            </TouchableOpacity>\r\n            <Text style={styles.invalid}>{this.state.empty}</Text>\r\n            <Image\r\n                  style={{ width: wp('13%'), height: wp('13%'), position: \"relative\", bottom: hp('12.5%'), left: wp('59%')}}\r\n                  source={require('../images/icon_urf_bleu.png')}\r\n                />\r\n              \r\n          </View>\r\n          <View>\r\n            <Text\r\n              style={styles.footer}\r\n              onPress={(e)=>{\r\n                this.gotToProfil();\r\n              }}\r\n            >\r\n              Revenir à la page profil\r\n            </Text>\r\n          </View>\r\n          </ScrollView>\r\n        </View>\r\n      );\r\n    }\r\n  }\r\n  \r\n  const styles = StyleSheet.create({\r\n    container: {\r\n      flex: 1,\r\n      backgroundColor: 'white',\r\n      alignItems: 'center',\r\n  \r\n     \r\n    },\r\n    container2: {\r\n      flex: 1,\r\n     \r\n      alignItems: 'center',\r\n      paddingTop: hp('8%'),\r\n     \r\n      zIndex: 2\r\n    },\r\n    header: {\r\n      position: 'relative',\r\n      top: hp(\"20%\"),\r\n      zIndex:4,\r\n      textAlign:'center'\r\n    },\r\n    center: {\r\n      textAlign: 'center',\r\n      color: \"white\",\r\n      fontSize: 23,\r\n      marginTop: hp('1%'),\r\n      marginBottom: hp('1%'),\r\n      fontWeight: 'bold'\r\n    },\r\n    red:{\r\n      color: 'red'\r\n    },\r\n    body: {\r\n      flex: 1,\r\n      backgroundColor: '#fff',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    textinput: {\r\n      marginLeft: 5,\r\n      marginRight: 5,\r\n      height: 50,\r\n      width: wp(\"70%\"),\r\n      paddingLeft: 15,\r\n      backgroundColor: 'white',\r\n      borderRadius: 1,\r\n      marginBottom: hp('2%')\r\n    },\r\n    footer: {\r\n      position: 'relative',\r\n      bottom: hp(\"10%\"),\r\n      zIndex:4,\r\n      textAlign:'center',\r\n      textDecorationLine: 'underline',\r\n      paddingTop: 15,\r\n      paddingBottom: 15,\r\n      paddingLeft: 15,\r\n      paddingRight: 15,\r\n      color: \"white\"\r\n    },\r\n    title2: {\r\n      color: \"white\",\r\n      marginBottom: hp('1%'),\r\n      marginTop: hp('1%'),\r\n      textAlign: \"center\"\r\n    },\r\n    buttonStyle: {\r\n        backgroundColor : \"#008ac8\",\r\n        marginTop: hp(\"2%\"), \r\n        marginBottom: hp(\"2.5%\"),\r\n        paddingTop: hp('3%'),\r\n        paddingBottom: hp('3%'),\r\n        paddingLeft : wp(\"2%\"),\r\n        paddingRight : wp(\"2%\")\r\n     /*  marginTop: hp(\"3%\"), \r\n      width: wp(\"60%\"), \r\n      marginLeft: wp('5%'),\r\n      borderColor:'red',\r\n      backgroundColor: \"#008AC8\",\r\n      paddingTop: hp('3%'),\r\n      paddingBottom: hp('3%'),\r\n      marginBottom: hp(\"5%\") */\r\n    },\r\n    buttonText: {\r\n      color: 'white',\r\n      textAlign: \"center\",\r\n      fontSize: 13\r\n    },\r\n    invalid : {\r\n      color: '#eb002a',\r\n      textAlign: 'center'\r\n    }\r\n  });\r\n  \r\n  const mapStateToProps = (store) => {\r\n      return {\r\n        user: store.user,\r\n        contact: store.contact\r\n      }\r\n    }\r\n    \r\n    const mapDispatchToProps = {\r\n      addContact\r\n    }\r\n    \r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(Contact);\r\n"]},"metadata":{},"sourceType":"module"}