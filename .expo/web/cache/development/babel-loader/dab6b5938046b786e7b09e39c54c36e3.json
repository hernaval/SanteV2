{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Projets\\\\Acadys\\\\best4sante\\\\SanteV2\\\\assets\\\\component\\\\Home.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport { Slider } from \"react-native-web/dist/index\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { KeyboardAvoidView } from \"react-native-web/dist/index\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { Button } from 'react-native-elements';\nimport { withNavigation } from 'react-navigation';\nimport { connect } from 'react-redux';\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp, listenOrientationChange as loc, removeOrientationListener as rol } from 'react-native-responsive-screen';\nimport MapView, { Marker, Callout } from 'react-native-maps';\nimport MapViewDirections from \"react-native-maps-directions\";\nimport Constants from 'expo-constants';\nimport * as Location from 'expo-location';\nimport * as Permissions from 'expo-permissions';\nimport Header from \"./Menu/Header\";\nimport DetailCard from \"./DetailCard\";\nimport axios from 'axios';\nimport { choices } from \"../API/practioners\";\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome';\nimport { faLocationArrow, faBroom, faBackward, faChevronDown, faMicrophone, faSearch, faDotCircle } from '@fortawesome/free-solid-svg-icons';\nimport Bdd from \"../API/Bdd\";\nimport Loader from \"./loader\";\nimport Footer from \"./Menu/Footer\";\nimport TopMenu from \"./Menu/TopMenu\";\nimport HeaderMenu from \"./Menu/HeaderMenu\";\nimport BottomMenu from \"./Menu/BottomMenu\";\nimport google from \"../API/google\";\nvar DEFAULT_COORD = {\n  coords: {\n    latitude: 48.859268,\n    longitude: 2.347060\n  }\n};\nvar DEP_COORD = {\n  latitude: -23.3399372,\n  longitude: 43.6596225\n};\nvar DEST_COORD = {\n  latitude: -23.3568974,\n  longitude: 43.664497\n};\nvar API_KEY = google.cloud_key;\n\nvar Home = function (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  var _super = _createSuper(Home);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _super.call(this, props);\n\n    _this.componentDidMount = function _callee() {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(_this._getLocationAsync());\n\n            case 2:\n              loc(_assertThisInitialized(_this));\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._onChangeFavo = function () {\n      _this.setState({\n        isFavo: !_this.state.isFavo\n      });\n    };\n\n    _this._onClickClose = function (type) {\n      _this.setState({\n        isDisplay: false\n      });\n    };\n\n    _this._getLocationAsync = function _callee2() {\n      var key, value, location;\n      return _regeneratorRuntime.async(function _callee2$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              key = 'permission_home_location';\n              _context3.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(key));\n\n            case 3:\n              value = _context3.sent;\n\n              if (!(value === null)) {\n                _context3.next = 8;\n                break;\n              }\n\n              Alert.alert('Localisation', 'Nous demandons votre permission afin de vous  localiser pour consulter les établissement à votre proximité', [{\n                text: 'Suivant',\n                onPress: function onPress() {\n                  var _await$Permissions$as, status, location;\n\n                  return _regeneratorRuntime.async(function onPress$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.LOCATION));\n\n                        case 2:\n                          _await$Permissions$as = _context2.sent;\n                          status = _await$Permissions$as.status;\n\n                          if (!(status !== 'granted')) {\n                            _context2.next = 8;\n                            break;\n                          }\n\n                          _this.setState({\n                            errorMessage: 'Permission to access location was denied'\n                          });\n\n                          _context2.next = 14;\n                          break;\n\n                        case 8:\n                          _context2.next = 10;\n                          return _regeneratorRuntime.awrap(AsyncStorage.setItem(key, 'OK'));\n\n                        case 10:\n                          _context2.next = 12;\n                          return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n                        case 12:\n                          location = _context2.sent;\n\n                          _this.setState({\n                            location: location,\n                            mapLocation: location\n                          });\n\n                        case 14:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, null, null, null, Promise);\n                }\n              }]);\n              _context3.next = 12;\n              break;\n\n            case 8:\n              _context3.next = 10;\n              return _regeneratorRuntime.awrap(Location.getCurrentPositionAsync({}));\n\n            case 10:\n              location = _context3.sent;\n\n              _this.setState({\n                location: location,\n                mapLocation: location\n              });\n\n            case 12:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this._onClickDirection = function () {\n      _this.setState({\n        isDirection: true\n      });\n    };\n\n    _this.onClickBack = function () {\n      _this.setState({\n        isDirection: false,\n        mapLocation: _this.state.location\n      });\n    };\n\n    _this.state = {\n      location: DEFAULT_COORD,\n      destination: DEFAULT_COORD,\n      mapLocation: DEFAULT_COORD,\n      radius: 500,\n      errorMessage: null,\n      search: \"\",\n      selected: \"\",\n      autocomplete: [],\n      markers: [],\n      deltaLat: 0.1000,\n      deltaLng: 0.0500,\n      isDisplay: false,\n      detail: null,\n      isDirection: false,\n      isFavo: false,\n      favoriteId: \"ChIJqwot8jt-8CERZxtjIIStjNs\",\n      isLoading: false,\n      currentZoom: 0.1000,\n      distance: 0\n    };\n    _this.testRad = 500;\n    Dimensions.addEventListener('change', function () {\n      console.log('Change orientation');\n\n      _this.props.navigation.navigate('menu');\n    });\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentWillUnMount\",\n    value: function componentWillUnMount() {\n      rol();\n    }\n  }, {\n    key: \"onChangeInput\",\n    value: function onChangeInput(text) {\n      var _this2 = this;\n\n      this.setState({\n        search: text\n      }, function () {\n        _this2.createGoodList(_this2.state.search);\n      });\n    }\n  }, {\n    key: \"createGoodList\",\n    value: function createGoodList(keyword) {\n      var selected = keyword.replace('é', 'e').replace('è', 'e').replace('ç', 'c').replace('à', 'a');\n      var autocomplete = choices.filter(function (choice) {\n        return choice.val.indexOf(selected.toLowerCase()) !== -1;\n      });\n      this.setState({\n        autocomplete: autocomplete\n      });\n    }\n  }, {\n    key: \"renderList\",\n    value: function renderList() {\n      var _this3 = this;\n\n      return this.state.autocomplete.map(function (auto, index) {\n        return React.createElement(TouchableOpacity, {\n          key: index,\n          style: styles.list,\n          onPress: function onPress() {\n            console.log('click one list with value ', auto);\n\n            _this3.setState({\n              selected: auto.val\n            });\n\n            _this3.onPressList(auto.val);\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }\n        }, React.createElement(FontAwesomeIcon, {\n          icon: faDotCircle,\n          color: \"#5e5e5e\",\n          size: 10,\n          style: {\n            flex: 2,\n            marginRight: 20,\n            marginTop: 7\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 17\n          }\n        }), React.createElement(Text, {\n          style: styles.listText,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 17\n          }\n        }, auto.name));\n      });\n    }\n  }, {\n    key: \"onPressList\",\n    value: function onPressList(value) {\n      var _this4 = this;\n\n      if (value !== \"\") {\n        this.setState({\n          isLoading: true,\n          autocomplete: []\n        });\n        axios.get('https://maps.googleapis.com/maps/api/place/nearbysearch/json?key=' + API_KEY + '&location=' + this.state.location.coords.latitude + ',' + this.state.location.coords.longitude + '&radius=5000&keyword=' + value).then(function (res) {\n          console.log(\"gùa^\", res.data);\n\n          _this4.setState({\n            isLoading: false\n          });\n\n          var autocomplete = [];\n\n          _this4.setState({\n            markers: res.data.results,\n            autocomplete: autocomplete\n          }, function () {\n            _this4.setState({\n              search: value\n            });\n\n            Keyboard.dismiss();\n          });\n        }).catch(function (err) {});\n      } else {\n        console.log('Value vide');\n      }\n    }\n  }, {\n    key: \"_zoomIn\",\n    value: function _zoomIn() {\n      var zoom = this.state.deltaLat;\n\n      if (zoom <= 0.021) {\n        zoom = zoom - 0.002;\n      } else {\n        zoom = zoom - 0.08;\n      }\n\n      if (zoom < 0) {\n        zoom = 0.00001;\n      }\n\n      console.log(zoom);\n      this.setState({\n        currentZoom: zoom\n      });\n      this.setState({\n        deltaLat: zoom,\n        deltaLng: zoom\n      }, this.onPressList(this.state.selected));\n    }\n  }, {\n    key: \"_zoomOut\",\n    value: function _zoomOut() {\n      var zoom = this.state.deltaLat;\n\n      if (zoom <= 0.021) {\n        zoom = zoom + 0.01;\n      } else {\n        zoom = zoom + 0.08;\n      }\n\n      console.log(zoom);\n      this.setState({\n        currentZoom: zoom\n      });\n      this.setState({\n        deltaLat: zoom,\n        deltaLng: zoom\n      }, this.onPressList(this.state.selected));\n    }\n  }, {\n    key: \"changeRadius\",\n    value: function changeRadius(value) {\n      var deltaLat = 0.1000;\n      var deltaLng = 0.0500;\n      var myValue = value / 1000;\n      myValue = myValue * 2;\n      this.setState({\n        radius: value,\n        deltaLat: myValue,\n        deltaLng: myValue\n      }, this.onPressList(this.state.selected));\n    }\n  }, {\n    key: \"createMarkers\",\n    value: function createMarkers() {\n      var _this5 = this;\n\n      return this.state.markers.map(function (marker) {\n        return React.createElement(Marker, {\n          key: marker.id,\n          coordinate: {\n            latitude: marker.geometry.location.lat,\n            longitude: marker.geometry.location.lat\n          },\n          __self: _this5,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 16\n          }\n        });\n      });\n    }\n  }, {\n    key: \"onPressDetail\",\n    value: function onPressDetail(placeId) {\n      var _this6 = this;\n\n      axios.get('https://maps.googleapis.com/maps/api/place/details/json?place_id=' + placeId + '&key=' + API_KEY).then(function (res) {\n        var location = {\n          coords: {\n            latitude: res.data.result.geometry.location.lat,\n            longitude: res.data.result.geometry.location.lng\n          }\n        };\n        var g_id = res.data.result.place_id;\n        var idUser = _this6.props.user.user.idUser;\n        axios.get(Bdd.api_url + \"/favoris/list?idUser=\" + idUser + \"&placeId=\" + g_id).then(function _callee3(favoris) {\n          return _regeneratorRuntime.async(function _callee3$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  console.log(favoris);\n                  _context4.next = 3;\n                  return _regeneratorRuntime.awrap(!favoris.data);\n\n                case 3:\n                  if (!_context4.sent) {\n                    _context4.next = 7;\n                    break;\n                  }\n\n                  _this6.setState({\n                    isDisplay: true,\n                    detail: res.data.result,\n                    mapLocation: location,\n                    destination: location,\n                    isFavo: false\n                  });\n\n                  _context4.next = 8;\n                  break;\n\n                case 7:\n                  _this6.setState({\n                    isDisplay: true,\n                    detail: res.data.result,\n                    mapLocation: location,\n                    destination: location,\n                    isFavo: true,\n                    favoriteId: favoris.geoIdFavoris\n                  });\n\n                case 8:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, null, null, null, Promise);\n        });\n      }).catch(function (err) {});\n    }\n  }, {\n    key: \"onClickGoLocation\",\n    value: function onClickGoLocation() {\n      this.setState({\n        mapLocation: this.state.location,\n        deltaLat: 0.1000,\n        deltaLng: 0.0500,\n        search: ''\n      });\n    }\n  }, {\n    key: \"onClickDelete\",\n    value: function onClickDelete() {\n      this.setState({\n        markers: [],\n        isDisplay: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      return React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 7\n        }\n      }, React.createElement(ScrollView, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 1\n        }\n      }, React.createElement(Loader, {\n        loading: this.state.isLoading,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 23\n        }\n      }), React.createElement(View, {\n        style: Platform.OS === 'ios' ? styles.under_ios : styles.under,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 9\n        }\n      }, React.createElement(HeaderMenu, {\n        navigation: this.props.navigation,\n        ps: 1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: styles.location,\n        onPress: function onPress(e) {\n          _this7.onClickGoLocation();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: wp('10%'),\n          height: wp('10%'),\n          backgroundColor: 'white'\n        },\n        source: require(\"../images/cible.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }\n      })), this.state.isDirection == false && React.createElement(TouchableOpacity, {\n        style: styles.broom,\n        onPress: function onPress(e) {\n          _this7.onClickDelete();\n\n          _this7.onClickGoLocation();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 44\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: wp('10%'),\n          height: wp('10%'),\n          backgroundColor: 'white'\n        },\n        source: require(\"../images/Gomme.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 9\n        }\n      })), this.state.isDirection == true && React.createElement(TouchableOpacity, {\n        style: styles.backward,\n        onPress: function onPress(e) {\n          _this7.onClickBack();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 43\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        size: 25,\n        icon: faBackward,\n        color: \"#008ac8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 9\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: styles.zoomIn,\n        onPress: function onPress() {\n          _this7._zoomIn();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: wp('10%'),\n          height: wp('10%'),\n          backgroundColor: 'white'\n        },\n        source: require(\"../images/Icone_Zoom_in.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: styles.zoomOut,\n        onPress: function onPress() {\n          _this7._zoomOut();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 9\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: wp('10%'),\n          height: wp('10%'),\n          backgroundColor: 'white'\n        },\n        source: require(\"../images/Icone_Zoom_out.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 11\n        }\n      })), this.state.isDirection == true && React.createElement(View, {\n        style: styles.contain_distance,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: '#008ac8'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }\n      }, this.state.distance, '\\n', \" km\")), React.createElement(View, {\n        style: Platform.OS === 'ios' ? styles.head_ios : styles.head,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.contain_search,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 11\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faSearch,\n        color: \"#636363\",\n        size: 23,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        style: {\n          flex: 5,\n          marginLeft: -5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }\n      }, React.createElement(TextInput, {\n        value: this.state.search,\n        placeholder: \"Que cherchez vous ?\",\n        style: styles.inputSearch,\n        onChangeText: function onChangeText(text) {\n          return _this7.onChangeInput(text);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 13\n        }\n      })), React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 11\n        }\n      }, React.createElement(FontAwesomeIcon, {\n        icon: faMicrophone,\n        color: \"#3d3d3d\",\n        size: 23,\n        style: {\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 15\n        }\n      }))), this.state.autocomplete.length !== 0 && React.createElement(View, {\n        style: styles.autoDiv,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 53\n        }\n      }, React.createElement(ScrollView, {\n        style: styles.auto,\n        indicatorStyle: \"white\",\n        keyboardShouldPersistTaps: \"always\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 14\n        }\n      }, this.renderList()))), React.createElement(View, {\n        style: styles.main,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: styles.map,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 11\n        }\n      }, React.createElement(MapView, {\n        style: {\n          flex: 1,\n          width: '100%'\n        },\n        region: {\n          latitude: this.state.mapLocation.coords.latitude,\n          longitude: this.state.mapLocation.coords.longitude,\n          latitudeDelta: this.state.deltaLat,\n          longitudeDelta: this.state.deltaLng\n        },\n        showsUserLocation: true,\n        scrollEnabled: true,\n        liteMode: false,\n        zoom: 100,\n        zoomEnabled: true,\n        zoomControlEnabled: true,\n        onPress: function onPress() {\n          var mapVide = [];\n\n          _this7.setState({\n            autocomplete: mapVide\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 13\n        }\n      }, this.state.markers.map(function (marker, index) {\n        return React.createElement(MapView.Marker, {\n          key: 'key-' + index,\n          d: true,\n          title: marker.name,\n          coordinate: {\n            latitude: marker.geometry.location.lat,\n            longitude: marker.geometry.location.lng\n          },\n          onPress: function onPress() {\n            _this7.onPressDetail(marker.place_id);\n          },\n          __self: _this7,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 27\n          }\n        });\n      }), this.state.isDirection === true && React.createElement(Marker, {\n        coordinate: {\n          latitude: this.state.destination.coords.latitude,\n          longitude: this.state.destination.coords.longitude\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 19\n        }\n      }), this.state.isDirection === true && React.createElement(MapViewDirections, {\n        zIndex: 2,\n        origin: {\n          latitude: this.state.location.coords.latitude,\n          longitude: this.state.location.coords.longitude\n        },\n        destination: {\n          latitude: this.state.destination.coords.latitude,\n          longitude: this.state.destination.coords.longitude\n        },\n        apikey: API_KEY,\n        strokeWidth: 3,\n        strokeColor: \"green\",\n        optimizeWaypoints: true,\n        mode: \"WALKING\",\n        onStart: function onStart(params) {\n          _this7.setState({\n            deltaLat: 0.04,\n            deltaLng: 0.04\n          });\n        },\n        onReady: function onReady(result) {\n          _this7.setState({\n            distance: parseFloat(result.distance).toFixed(2)\n          });\n\n          console.log(\"Distance: \" + result.distance + \" km\");\n          console.log(\"Duration: \" + result.duration + \" min.\");\n        },\n        onError: function onError(errorMessage) {},\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 19\n        }\n      })))), this.state.isDisplay && React.createElement(DetailCard, {\n        style: styles.card,\n        detail: this.state.detail,\n        isFavo: this.state.isFavo,\n        onClickClose: this._onClickClose,\n        onClickDirection: this._onClickDirection,\n        onChangeFavo: this._onChangeFavo,\n        favoriteId: this.state.favoriteId,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 38\n        }\n      })));\n    }\n  }]);\n\n  return Home;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  contain_detailCard: {\n    position: 'absolute',\n    bottom: hp('5%'),\n    zIndex: 100\n  },\n  contain_search: {\n    flex: 1,\n    flexDirection: 'row',\n    backgroundColor: 'white',\n    width: wp(\"87%\"),\n    paddingTop: 17,\n    paddingLeft: 15,\n    height: 60,\n    position: 'absolute',\n    top: hp(\"6%\"),\n    zIndex: 100,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowOpacity: 0.10,\n    shadowRadius: 4.65,\n    elevation: 8,\n    borderRadius: 10\n  },\n  container: {},\n  main: {},\n  footer: {},\n  map: {\n    width: wp('100%'),\n    height: hp('85%')\n  },\n  sliderContainer: {\n    height: hp(\"13%\"),\n    width: wp('100%'),\n    backgroundColor: \"white\",\n    alignItems: 'center'\n  },\n  slider: {\n    width: wp('80%'),\n    marginTop: hp(\"1%\"),\n    color: \"#008AC8\"\n  },\n  head_ios: {\n    flex: 1.5,\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 1,\n    paddingTop: 20\n  },\n  head: {\n    flex: 1.5,\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingTop: 20\n  },\n  inputSearch: {\n    fontSize: 16\n  },\n  textinput: {\n    marginLeft: wp(\"10%\"),\n    textAlign: 'center',\n    height: 50,\n    width: wp(\"90%\"),\n    paddingLeft: 5,\n    backgroundColor: 'white',\n    borderRadius: 5,\n    marginBottom: hp('2%')\n  },\n  autoDiv: {\n    flex: 1,\n    paddingLeft: wp('10%'),\n    paddingRight: wp('10%'),\n    position: \"absolute\",\n    top: hp('14.5%'),\n    zIndex: 100,\n    backgroundColor: 'white',\n    width: wp('87%'),\n    maxHeight: hp(\"40%\")\n  },\n  auto: {\n    flex: 1,\n    paddingLeft: wp('5%'),\n    paddingRight: wp('5%')\n  },\n  list: {\n    paddingLeft: wp('2%'),\n    paddingRight: wp('2%'),\n    paddingBottom: hp('1%'),\n    paddingTop: hp('1%'),\n    zIndex: 10,\n    color: \"#008AC8\",\n    flex: 1,\n    flexDirection: 'row'\n  },\n  listText: {\n    color: \"black\",\n    textAlign: \"left\",\n    fontWeight: '400',\n    fontSize: 16,\n    flex: 5\n  },\n  location: {\n    position: \"absolute\",\n    bottom: 250,\n    right: wp('3%'),\n    zIndex: 10,\n    backgroundColor: \"white\",\n    paddingTop: hp('1%'),\n    paddingBottom: hp('1%'),\n    paddingLeft: wp('1%'),\n    paddingRight: wp('1%'),\n    borderRadius: 12\n  },\n  backward: {\n    position: \"absolute\",\n    bottom: 170,\n    right: wp('3%'),\n    zIndex: 10,\n    backgroundColor: \"white\",\n    paddingTop: hp('1%'),\n    paddingBottom: hp('1%'),\n    paddingLeft: wp('1%'),\n    paddingRight: wp('1%'),\n    width: wp('12%'),\n    height: wp('12%'),\n    borderRadius: 12,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  broom: {\n    position: \"absolute\",\n    bottom: 170,\n    right: wp('3%'),\n    zIndex: 10,\n    backgroundColor: \"white\",\n    paddingTop: hp('1%'),\n    paddingBottom: hp('1%'),\n    paddingLeft: wp('1%'),\n    paddingRight: wp('1%'),\n    borderRadius: 12\n  },\n  zoomIn: {\n    position: \"absolute\",\n    bottom: 90,\n    right: wp('3%'),\n    zIndex: 10,\n    backgroundColor: \"white\",\n    paddingTop: hp('1%'),\n    paddingBottom: hp('1%'),\n    paddingLeft: wp('1%'),\n    paddingRight: wp('1%'),\n    borderRadius: 12\n  },\n  zoomOut: {\n    position: \"absolute\",\n    bottom: 10,\n    right: wp('3%'),\n    zIndex: 10,\n    backgroundColor: \"white\",\n    paddingTop: hp('1%'),\n    paddingBottom: hp('1%'),\n    paddingLeft: wp('1%'),\n    paddingRight: wp('1%'),\n    borderRadius: 12\n  },\n  contain_distance: {\n    position: \"absolute\",\n    bottom: 330,\n    right: wp('3%'),\n    zIndex: 10,\n    backgroundColor: \"white\",\n    paddingTop: hp('1%'),\n    paddingBottom: hp('1%'),\n    paddingLeft: wp('1%'),\n    paddingRight: wp('1%'),\n    borderRadius: 12,\n    width: wp('13%'),\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  loading_container: {\n    position: 'absolute',\n    zIndex: 10,\n    left: 0,\n    right: 0,\n    top: 100,\n    bottom: 0,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  under: {\n    height: hp('13%'),\n    width: wp(\"100%\")\n  },\n  under_ios: {\n    width: wp(\"100%\"),\n    height: hp('13%'),\n    zIndex: 2\n  },\n  card: {\n    zIndex: 99999\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    favorite: store.favorite,\n    user: store.user\n  };\n};\n\nvar mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["E:/Projets/Acadys/best4sante/SanteV2/assets/component/Home.js"],"names":["React","AsyncStorage","Slider","KeyboardAvoidView","Button","withNavigation","connect","widthPercentageToDP","wp","heightPercentageToDP","hp","listenOrientationChange","loc","removeOrientationListener","rol","MapView","Marker","Callout","MapViewDirections","Constants","Location","Permissions","Header","DetailCard","axios","choices","FontAwesomeIcon","faLocationArrow","faBroom","faBackward","faChevronDown","faMicrophone","faSearch","faDotCircle","Bdd","Loader","Footer","TopMenu","HeaderMenu","BottomMenu","google","DEFAULT_COORD","coords","latitude","longitude","DEP_COORD","DEST_COORD","API_KEY","cloud_key","Home","props","componentDidMount","_getLocationAsync","_onChangeFavo","setState","isFavo","state","_onClickClose","type","isDisplay","key","getItem","value","Alert","alert","text","onPress","askAsync","LOCATION","status","errorMessage","setItem","getCurrentPositionAsync","location","mapLocation","_onClickDirection","isDirection","onClickBack","destination","radius","search","selected","autocomplete","markers","deltaLat","deltaLng","detail","favoriteId","isLoading","currentZoom","distance","testRad","Dimensions","addEventListener","console","log","navigation","navigate","createGoodList","keyword","replace","filter","choice","val","indexOf","toLowerCase","map","auto","index","styles","list","onPressList","flex","marginRight","marginTop","listText","name","get","then","res","data","results","Keyboard","dismiss","catch","err","zoom","myValue","marker","id","geometry","lat","placeId","result","lng","g_id","place_id","idUser","user","api_url","favoris","geoIdFavoris","container","Platform","OS","under_ios","under","e","onClickGoLocation","width","height","backgroundColor","require","broom","onClickDelete","backward","zoomIn","_zoomIn","zoomOut","_zoomOut","contain_distance","color","head_ios","head","contain_search","marginLeft","inputSearch","onChangeInput","length","autoDiv","renderList","main","latitudeDelta","longitudeDelta","mapVide","onPressDetail","params","parseFloat","toFixed","duration","card","Component","StyleSheet","create","contain_detailCard","position","bottom","zIndex","flexDirection","paddingTop","paddingLeft","top","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","borderRadius","footer","sliderContainer","alignItems","slider","justifyContent","fontSize","textinput","textAlign","marginBottom","paddingRight","maxHeight","paddingBottom","fontWeight","right","loading_container","left","mapStateToProps","store","favorite","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport{StyleSheet, ScrollView, Text, View, AsyncStorage, Slider, Image, TextInput, KeyboardAvoidView, TouchableOpacity, Keyboard, ActivityIndicator, Alert, Dimensions } from 'react-native'\r\nimport {Button} from 'react-native-elements';\r\nimport {withNavigation} from 'react-navigation'\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    widthPercentageToDP as wp,\r\n    heightPercentageToDP as hp,\r\n    listenOrientationChange as loc,\r\n    removeOrientationListener as rol\r\n  } from 'react-native-responsive-screen';\r\nimport MapView,{Marker,Callout} from 'react-native-maps'\r\nimport MapViewDirections from \"react-native-maps-directions\"\r\nimport Constants from 'expo-constants';\r\nimport * as Location from 'expo-location';\r\nimport * as Permissions from 'expo-permissions';\r\nimport Header from './Menu/Header'\r\nimport DetailCard from \"./DetailCard\"\r\nimport axios from 'axios';\r\nimport {choices} from '../API/practioners';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-native-fontawesome'\r\nimport { faLocationArrow, faBroom, faBackward, faChevronDown, faMicrophone, faSearch, faDotCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport Bdd from '../API/Bdd'\r\nimport Loader from './loader'\r\nimport Footer from './Menu/Footer'\r\nimport TopMenu from './Menu/TopMenu';\r\nimport HeaderMenu from './Menu/HeaderMenu';\r\nimport BottomMenu from \"./Menu/BottomMenu\";\r\nimport google from \"../API/google\"\r\nconst DEFAULT_COORD = {coords: {\r\n    latitude: 48.859268,\r\n    longitude: 2.347060\r\n  }\r\n};\r\n\r\nconst DEP_COORD = {\r\n  latitude: -23.3399372,\r\n  longitude: 43.6596225\r\n}\r\nconst DEST_COORD = {\r\n  latitude: -23.3568974,\r\n  longitude: 43.664497\r\n}\r\nconst API_KEY = google.cloud_key;\r\nclass Home extends React.Component{\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      location: DEFAULT_COORD,\r\n      destination:DEFAULT_COORD,\r\n      mapLocation: DEFAULT_COORD,\r\n      radius: 500,\r\n      errorMessage: null,\r\n      search: \"\",\r\n      selected: \"\",\r\n      autocomplete: [],\r\n      markers: [],\r\n      deltaLat: 0.1000,\r\n      deltaLng:0.0500,\r\n      isDisplay: false,\r\n      detail: null,\r\n      isDirection: false,\r\n      isFavo:false,\r\n      favoriteId: \"ChIJqwot8jt-8CERZxtjIIStjNs\",\r\n      isLoading: false,\r\n      currentZoom: 0.1000,\r\n      distance: 0\r\n    }\r\n\r\n    this.testRad = 500\r\n\r\n    Dimensions.addEventListener('change', () => {\r\n      console.log('Change orientation');\r\n      this.props.navigation.navigate('menu')\r\n    });\r\n  }\r\n\r\n  componentDidMount = async () =>{\r\n      await  this._getLocationAsync();\r\n      loc(this);\r\n  }\r\n\r\n  componentWillUnMount() {\r\n    rol();\r\n  }\r\n\r\n\r\n  _onChangeFavo = ()=>{\r\n    \r\n    this.setState({isFavo: !this.state.isFavo})\r\n    \r\n  }\r\n\r\n  _onClickClose = (type)=>{\r\n    this.setState({isDisplay: false});\r\n  }\r\n\r\n  onChangeInput(text){\r\n    this.setState({search: text},()=>{\r\n      this.createGoodList(this.state.search)\r\n    })\r\n  }\r\n\r\n  createGoodList(keyword) {\r\n    let selected = keyword.replace('é', 'e').replace('è', 'e').replace('ç', 'c').replace('à', 'a');\r\n    let autocomplete = choices.filter(choice => choice.val.indexOf(selected.toLowerCase()) !== -1);\r\n    //.log('auto, ', autocomplete);\r\n    this.setState({autocomplete});\r\n  }\r\n\r\n  _getLocationAsync = async () => {\r\n    const key = 'permission_home_location';\r\n    const value = await AsyncStorage.getItem(key);\r\n    if(value === null) {\r\n      Alert.alert('Localisation', \r\n      'Nous demandons votre permission afin de vous  localiser pour consulter les établissement à votre proximité', [\r\n      {\r\n          text: 'Suivant',\r\n          onPress: async () => { \r\n            let { status } = await Permissions.askAsync(Permissions.LOCATION);\r\n            if (status !== 'granted') {\r\n              this.setState({\r\n                errorMessage: 'Permission to access location was denied',\r\n              });\r\n            }else{\r\n              await AsyncStorage.setItem(key, 'OK');\r\n              let location = await Location.getCurrentPositionAsync({});\r\n              this.setState({ location, mapLocation: location }); \r\n            }\r\n          }\r\n      }\r\n        ])\r\n      } else {\r\n        let location = await Location.getCurrentPositionAsync({});\r\n        this.setState({ location, mapLocation: location }); \r\n    }   \r\n  };\r\n\r\n  renderList() {\r\n    return this.state.autocomplete.map((auto, index)=>{\r\n      return (<TouchableOpacity\r\n                key={index}\r\n                style={styles.list}\r\n                onPress={()=>{\r\n                  console.log('click one list with value ', auto)\r\n                  this.setState({selected: auto.val});\r\n                  this.onPressList(auto.val)\r\n                }}\r\n              >\r\n                <FontAwesomeIcon \r\n                icon={faDotCircle} \r\n                color=\"#5e5e5e\" \r\n                size={10} \r\n                style={{flex: 2, marginRight: 20, marginTop: 7}}\r\n                />\r\n                <Text style={styles.listText}>{auto.name}</Text>\r\n              </TouchableOpacity>)\r\n    })\r\n  }\r\n\r\n  onPressList(value) {\r\n     if (value !== \"\") {\r\n      this.setState({isLoading: true, autocomplete: []});\r\n         //axios.get('https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=-23.3382965,43.6517931&radius=50000&keyword=restaurant&key='+API_KEY)\r\n         axios.get('https://maps.googleapis.com/maps/api/place/nearbysearch/json?key='+API_KEY+'&location='+this.state.location.coords.latitude+','+this.state.location.coords.longitude+'&radius=5000&keyword='+value)\r\n\r\n         .then((res)=>{\r\n           console.log(\"gùa^\",res.data)\r\n         \r\n          this.setState({isLoading: false});\r\n          let autocomplete = []\r\n          this.setState({markers: res.data.results, autocomplete: autocomplete},\r\n            ()=>{\r\n              this.setState({search: value});\r\n              Keyboard.dismiss();\r\n            }\r\n          );\r\n        })\r\n        .catch((err)=>{\r\n          //.log(err);\r\n      })\r\n    }else {\r\n      console.log('Value vide')\r\n    }\r\n  }\r\n\r\n  _zoomIn() {\r\n    let zoom = this.state.deltaLat\r\n\r\n    if (zoom <= 0.021) {\r\n      zoom = zoom - 0.002\r\n    } else {\r\n      zoom = zoom - 0.08\r\n    }\r\n\r\n    if (zoom < 0) {\r\n      zoom = 0.00001\r\n    }\r\n\r\n    console.log(zoom)\r\n    this.setState({\r\n      currentZoom: zoom\r\n    })\r\n        this.setState({deltaLat: zoom, deltaLng: zoom},\r\n        this.onPressList(this.state.selected))\r\n  }\r\n\r\n    _zoomOut() {\r\n    let zoom = this.state.deltaLat\r\n\r\n    if (zoom <= 0.021) {\r\n      zoom = zoom + 0.01\r\n    } else {\r\n      zoom = zoom + 0.08\r\n    }\r\n    console.log(zoom)\r\n    this.setState({\r\n      currentZoom: zoom\r\n    })\r\n        this.setState({deltaLat: zoom, deltaLng: zoom},\r\n        this.onPressList(this.state.selected))\r\n    }\r\n\r\n  changeRadius(value) {\r\n    let deltaLat = 0.1000\r\n    let deltaLng = 0.0500\r\n    let myValue = value/1000\r\n    myValue = myValue * 2\r\n    \r\n       this.setState({radius: value, deltaLat: myValue, deltaLng: myValue},\r\n        this.onPressList(this.state.selected) \r\n    );  \r\n\r\n   \r\n  \r\n //.log(value)\r\n\r\n  }\r\n  createMarkers() {\r\n     return (this.state.markers.map((marker)=>{\r\n       return (<Marker\r\n        key={marker.id}\r\n        coordinate={{\r\n                      latitude: marker.geometry.location.lat,\r\n                      longitude: marker.geometry.location.lat\r\n                    }}\r\n       /> )\r\n    }))\r\n  }\r\n\r\n\r\n  onPressDetail(placeId){\r\n    axios.get('https://maps.googleapis.com/maps/api/place/details/json?place_id='+placeId+'&key='+API_KEY)\r\n    .then((res)=>{\r\n ////.log('dans le detail',res.data.result.international_phone_number);\r\n      let location = {\r\n        coords: {\r\n          latitude: res.data.result.geometry.location.lat,\r\n          longitude: res.data.result.geometry.location.lng\r\n        }\r\n      }\r\n\r\n      let  g_id = res.data.result.place_id\r\n      \r\n      let idUser =  this.props.user.user.idUser\r\n\r\n\r\n\r\n      axios.get(`${Bdd.api_url}/favoris/list?idUser=${idUser}&placeId=${g_id}`)\r\n        .then(async favoris=>{\r\n          console.log(favoris)\r\n          if(await !favoris.data){\r\n            this.setState({isDisplay: true, detail: res.data.result, mapLocation: location, destination: location, isFavo: false})\r\n\r\n          }else{\r\n            this.setState({isDisplay: true, detail: res.data.result, mapLocation: location, destination: location, isFavo: true, favoriteId:favoris.geoIdFavoris})\r\n\r\n          }\r\n        })\r\n      \r\n\r\n    }).catch((err)=>{\r\n      //.log(err);\r\n    })\r\n  }\r\n\r\n  _onClickDirection = ()=>{\r\n    this.setState({isDirection: true})\r\n  }\r\n\r\n  onClickBack = ()=>{\r\n    this.setState({isDirection: false, mapLocation: this.state.location})\r\n  }\r\n\r\n  onClickGoLocation() {\r\n\r\n    this.setState({mapLocation: this.state.location, deltaLat: 0.1000, deltaLng:0.0500, search: ''});\r\n  }\r\n\r\n  onClickDelete() {\r\n    this.setState({markers: [], isDisplay: false});\r\n  }\r\n\r\n  render(){\r\n   \r\n    return (\r\n      <View style={{flex : 1}}>\r\n<ScrollView style={styles.container}>\r\n                      <Loader loading={this.state.isLoading} />\r\n        <View style={Platform.OS === 'ios' ? styles.under_ios : styles.under}>\r\n          <HeaderMenu navigation={this.props.navigation} ps={1}/>\r\n        </View>\r\n        <TouchableOpacity \r\n        style={styles.location}\r\n        onPress={(e)=>{\r\n          this.onClickGoLocation()\r\n        }}\r\n        >\r\n          <Image\r\n              style={{ width: wp('10%'), height: wp('10%'), backgroundColor: 'white'}}\r\n              source={require('../images/cible.png')}\r\n          />\r\n      </TouchableOpacity>\r\n      {this.state.isDirection == false  && <TouchableOpacity \r\n        style={styles.broom}\r\n        onPress={(e)=>{\r\n          this.onClickDelete()\r\n          this.onClickGoLocation()\r\n        }}\r\n      >\r\n        <Image\r\n              style={{ width: wp('10%'), height: wp('10%'), backgroundColor: 'white'}}\r\n              source={require('../images/Gomme.png')}\r\n          />\r\n      </TouchableOpacity>}\r\n\r\n      {this.state.isDirection == true  && <TouchableOpacity \r\n        style={styles.backward}\r\n        onPress={(e)=>{\r\n          this.onClickBack()\r\n        }}\r\n      >\r\n        <FontAwesomeIcon  size={25}  icon={ faBackward } color='#008ac8' />\r\n      </TouchableOpacity>}\r\n\r\n        <TouchableOpacity \r\n        style={styles.zoomIn}\r\n        onPress={()=>{\r\n          this._zoomIn()\r\n        }}\r\n        >\r\n          <Image\r\n              style={{ width: wp('10%'), height: wp('10%'), backgroundColor: 'white'}}\r\n              source={require('../images/Icone_Zoom_in.png')}\r\n          />\r\n      </TouchableOpacity>\r\n\r\n        <TouchableOpacity \r\n        style={styles.zoomOut}\r\n        onPress={()=>{\r\n          this._zoomOut()\r\n        }}\r\n        >\r\n          <Image\r\n              style={{ width: wp('10%'), height: wp('10%'), backgroundColor: 'white'}}\r\n              source={require('../images/Icone_Zoom_out.png')}\r\n          />\r\n      </TouchableOpacity>\r\n\r\n      {this.state.isDirection == true  && \r\n        <View style={styles.contain_distance}>\r\n          <Text style={{color: '#008ac8'}}>{this.state.distance}{'\\n'} km</Text>\r\n        </View>\r\n      }\r\n\r\n      \r\n\r\n        <View style={Platform.OS === 'ios' ? styles.head_ios : styles.head}>\r\n        <View style={styles.contain_search}>\r\n          <View style={{flex: 1}}>\r\n              <FontAwesomeIcon \r\n              icon={faSearch} \r\n              color=\"#636363\" \r\n              size={23} \r\n              />\r\n          </View>\r\n\r\n          <View style={{flex: 5, marginLeft: -5}}>\r\n            <TextInput \r\n            value={this.state.search}\r\n            placeholder=\"Que cherchez vous ?\"\r\n            style={styles.inputSearch}\r\n            onChangeText={(text) => this.onChangeInput(text)}\r\n            />\r\n          </View>\r\n\r\n          <View style={{flex: 1}}>\r\n              <FontAwesomeIcon \r\n                icon={faMicrophone} \r\n                color=\"#3d3d3d\" \r\n                size={23} \r\n                style={{flex: 1}}\r\n                />\r\n          </View>\r\n        \r\n        </View>\r\n\r\n           {this.state.autocomplete.length !== 0 && <View style={styles.autoDiv}>\r\n             <ScrollView \r\n              style={styles.auto}\r\n              indicatorStyle=\"white\"\r\n              keyboardShouldPersistTaps=\"always\">\r\n              { this.renderList()}\r\n          </ScrollView></View>}\r\n        </View>\r\n        <View style={styles.main}>\r\n          <View  style={styles.map}>\r\n            <MapView \r\n              style={{flex: 1, width:('100%')}}\r\n               region={{\r\n                latitude: this.state.mapLocation.coords.latitude,\r\n                longitude: this.state.mapLocation.coords.longitude,\r\n                latitudeDelta: this.state.deltaLat,\r\n                longitudeDelta: this.state.deltaLng\r\n              }} \r\n              showsUserLocation = {true}\r\n              scrollEnabled={true}\r\n              liteMode={false}\r\n              zoom={100}\r\n              zoomEnabled={true}\r\n              zoomControlEnabled={true}\r\n              onPress={() => {\r\n                const mapVide = []\r\n                this.setState({autocomplete: mapVide})\r\n              }}\r\n            >\r\n                \r\n                {this.state.markers.map((marker, index) => {\r\n                  return (<MapView.Marker\r\n                    key={'key-'+index}d\r\n                    title={marker.name}\r\n                    coordinate={{\r\n                      latitude: marker.geometry.location.lat,\r\n                      longitude: marker.geometry.location.lng,\r\n                   \r\n                    }}\r\n                    onPress={()=>{\r\n                      //.log('je presse')\r\n                      this.onPressDetail(marker.place_id)\r\n                    }}\r\n                    \r\n                >\r\n                \r\n                \r\n                </MapView.Marker>)}\r\n\r\n\r\n                )}\r\n                {this.state.isDirection === true &&\r\n                  <Marker\r\n                    coordinate={{\r\n                      latitude: this.state.destination.coords.latitude,\r\n                      longitude: this.state.destination.coords.longitude\r\n                    }}\r\n                  />\r\n                }\r\n              \r\n                  {this.state.isDirection === true &&\r\n                  <MapViewDirections\r\n                    zIndex={2}\r\n                    origin={{latitude: this.state.location.coords.latitude, longitude: this.state.location.coords.longitude}}\r\n                   // waypoints={ null}\r\n                    destination={{latitude: this.state.destination.coords.latitude, longitude: this.state.destination.coords.longitude}}\r\n                    apikey={API_KEY}\r\n                    strokeWidth={3}\r\n                    strokeColor=\"green\"\r\n                    optimizeWaypoints={true}\r\n                    mode=\"WALKING\"\r\n                    onStart={(params) => {\r\n                      this.setState({\r\n                        deltaLat: 0.04,\r\n                        deltaLng: 0.04\r\n                      })\r\n                    }}\r\n                    onReady={result => {\r\n                      this.setState({\r\n                        distance: parseFloat(result.distance).toFixed(2)\r\n                      })\r\n                      console.log(`Distance: ${result.distance} km`)\r\n                      console.log(`Duration: ${result.duration} min.`)\r\n                    }}\r\n                    onError={(errorMessage) => {\r\n                       //.log('GOT AN ERROR', errorMessage);\r\n                    }}\r\n                  />\r\n                  }\r\n      \r\n                  \r\n               \r\n            </MapView>\r\n          </View>\r\n        </View>\r\n\r\n        {/**\r\n          <View style={styles.sliderContainer}>\r\n          <Slider \r\n            style={styles.slider}\r\n            step={1}\r\n            maximumValue={1000}\r\n            onSlidingComplete={(value)=> {this.changeRadius(value)}}\r\n            value={this.state.radius}\r\n            maximumTrackTintColor='#e2e0e0'  \r\n            minimumTrackTintColor='#008AC8'\r\n            thumbTintColor='#008AC8'\r\n           \r\n          /> \r\n           <Text style={{marginBottom: hp('1%'), color: '#008AC8', fontWeight: 'bold'}}>{this.state.radius} m</Text>\r\n        </View>\r\n        */}\r\n\r\n            {this.state.isDisplay && <DetailCard   style={styles.card} detail = {this.state.detail} isFavo={this.state.isFavo} onClickClose={this._onClickClose} onClickDirection={this._onClickDirection} onChangeFavo= {this._onChangeFavo} favoriteId = {this.state.favoriteId}  />  }\r\n\r\n      </ScrollView>\r\n{/*       <BottomMenu navigation={this.props.navigation}  />\r\n */}\r\n      </View>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  contain_detailCard: {\r\n    position: 'absolute',\r\n    bottom: hp('5%'),\r\n    zIndex: 100\r\n  },\r\n  contain_search: {\r\n    flex: 1, \r\n    flexDirection: 'row', \r\n    backgroundColor: 'white', \r\n    width: wp(\"87%\"), \r\n    paddingTop: 17, \r\n    paddingLeft: 15, \r\n    height: 60, \r\n    position: 'absolute',\r\n    top: hp(\"6%\"),\r\n    zIndex: 100,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 4,\r\n    },\r\n    shadowOpacity: 0.10,\r\n    shadowRadius: 4.65,\r\n    elevation: 8,\r\n    borderRadius: 10\r\n  },\r\n  container: {\r\n    // backgroundColor: '#fff',\r\n    // backgroundColor: '#00C1B4'\r\n  },\r\n  main: {\r\n\r\n\r\n  },\r\n  footer: {\r\n    \r\n    \r\n  },\r\n  map: {\r\n    width: wp('100%'),\r\n    height: hp('85%')\r\n  },\r\n  sliderContainer : {\r\n    height: hp(\"13%\"),\r\n    width: wp('100%'),\r\n    backgroundColor: \"white\",\r\n    alignItems: 'center',\r\n  },\r\n  slider: {\r\n    width: wp('80%'),\r\n    marginTop: hp(\"1%\"),\r\n    color: \"#008AC8\",\r\n\r\n  },\r\n  head_ios: {\r\n    flex:1.5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    zIndex: 1,\r\n    paddingTop: 20\r\n  },\r\n  head: {\r\n    flex:1.5,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    paddingTop: 20,\r\n  },\r\n  inputSearch: {\r\n    fontSize: 16,\r\n  },\r\n  textinput: {\r\n    marginLeft: wp(\"10%\"),\r\n    textAlign: 'center',\r\n    height: 50,\r\n    width: wp(\"90%\"),\r\n    paddingLeft: 5,\r\n    backgroundColor: 'white',\r\n    borderRadius: 5,\r\n    marginBottom: hp('2%')\r\n  },\r\n  autoDiv: {\r\n    flex: 1,\r\n    paddingLeft: wp('10%'),\r\n    paddingRight: wp('10%'),\r\n    position: \"absolute\",\r\n    top: hp('14.5%'),\r\n    zIndex: 100,\r\n    backgroundColor: 'white',\r\n    width: wp('87%'),\r\n    maxHeight: hp(\"40%\"),\r\n  },\r\n  auto: {\r\n    flex: 1,\r\n    paddingLeft: wp('5%'),\r\n    paddingRight: wp('5%'),\r\n  },\r\n  list: {\r\n    paddingLeft: wp('2%'),\r\n    paddingRight: wp('2%'),\r\n    paddingBottom: hp('1%'),\r\n    paddingTop: hp('1%'),\r\n    zIndex: 10,\r\n    color: \"#008AC8\",\r\n    flex: 1,\r\n    flexDirection: 'row'\r\n\r\n  },\r\n  listText: {\r\n    color: \"black\",\r\n    textAlign: \"left\",\r\n    fontWeight: '400',\r\n    fontSize: 16,\r\n    flex: 5\r\n  },\r\n  location: {\r\n    position: \"absolute\",\r\n    // bottom: hp(\"35%\"),\r\n    bottom: 250,\r\n    right: wp('3%'),\r\n    zIndex: 10,\r\n    backgroundColor: \"white\",\r\n    paddingTop: hp('1%'),\r\n    paddingBottom: hp('1%'),\r\n    paddingLeft: wp('1%'),\r\n    paddingRight: wp('1%'),\r\n    borderRadius: 12,\r\n  },\r\n  backward: {\r\n    position: \"absolute\",\r\n    bottom: 170,\r\n    right: wp('3%'),\r\n    zIndex: 10,\r\n    backgroundColor: \"white\",\r\n    paddingTop: hp('1%'),\r\n    paddingBottom: hp('1%'),\r\n    paddingLeft: wp('1%'),\r\n    paddingRight: wp('1%'),\r\n    width: wp('12%'), \r\n    height: wp('12%'),\r\n    borderRadius: 12,\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  },\r\n  broom: {\r\n    position: \"absolute\",\r\n    bottom:170,\r\n    right: wp('3%'),\r\n    zIndex: 10,\r\n    backgroundColor: \"white\",\r\n    paddingTop: hp('1%'),\r\n    paddingBottom: hp('1%'),\r\n    paddingLeft: wp('1%'),\r\n    paddingRight: wp('1%'),\r\n    borderRadius: 12\r\n  },\r\n    zoomIn: {\r\n    position: \"absolute\",\r\n    bottom: 90,\r\n    right: wp('3%'),\r\n    zIndex: 10,\r\n    backgroundColor: \"white\",\r\n    paddingTop: hp('1%'),\r\n    paddingBottom: hp('1%'),\r\n    paddingLeft: wp('1%'),\r\n    paddingRight: wp('1%'),    \r\n    borderRadius: 12\r\n  },\r\n    zoomOut: {\r\n    position: \"absolute\",\r\n    bottom: 10,\r\n    right: wp('3%'),\r\n    zIndex: 10,\r\n    backgroundColor: \"white\",\r\n    paddingTop: hp('1%'),\r\n    paddingBottom: hp('1%'),\r\n    paddingLeft: wp('1%'),\r\n    paddingRight: wp('1%'),\r\n    borderRadius: 12\r\n  },\r\n  contain_distance: {\r\n      position: \"absolute\",\r\n      bottom: 330,\r\n      right: wp('3%'),\r\n      zIndex: 10,\r\n      backgroundColor: \"white\",\r\n      paddingTop: hp('1%'),\r\n      paddingBottom: hp('1%'),\r\n      paddingLeft: wp('1%'),\r\n      paddingRight: wp('1%'),\r\n      borderRadius: 12,\r\n      width: wp('13%'),\r\n      alignItems: 'center',\r\n      justifyContent: 'center'\r\n  },\r\n  loading_container: {\r\n    position: 'absolute',\r\n    zIndex:10,\r\n    left: 0,\r\n    right: 0,\r\n    top: 100,\r\n    bottom: 0,\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  under: {\r\n  \r\n    height: hp('13%'),\r\n    width: wp(\"100%\")\r\n   // zIndex: 2\r\n  },\r\n  under_ios: {\r\n    width: wp(\"100%\"),\r\n    height: hp('13%'),\r\n    zIndex: 2\r\n  },\r\n  card: {\r\n    zIndex: 99999,\r\n  }\r\n});\r\n\r\nconst mapStateToProps = (store) => {\r\n  return {\r\n      favorite: store.favorite,\r\n      user: store.user\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n \r\n}\r\n\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Home)\r\n//source={require('../images/cible.png')}"]},"metadata":{},"sourceType":"module"}