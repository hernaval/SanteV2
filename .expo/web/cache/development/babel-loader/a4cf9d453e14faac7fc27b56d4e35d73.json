{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"E:\\\\Projets\\\\Acadys\\\\best4sante\\\\SanteV2\\\\assets\\\\Screens\\\\Samaritain\\\\UserResponded.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { Stylesheet } from \"react-native-web/dist/index\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { connect } from 'react-redux';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport Axios from 'axios';\nimport Bdd from \"../../API/Bdd\";\n\nvar UserResponded = function (_Component) {\n  _inherits(UserResponded, _Component);\n\n  var _super = _createSuper(UserResponded);\n\n  function UserResponded(props) {\n    var _this;\n\n    _classCallCheck(this, UserResponded);\n\n    _this = _super.call(this, props);\n\n    _this.asignUserResponder = function _callee() {\n      var id, responder;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              id = _this.idSamaritain;\n              responder = _this.props.user.user.idUser;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(Axios.put(Bdd.api_url + \"/samaritain/\" + id + \"/respond?idUser=\" + responder).then(function (res) {\n                console.log(res.data);\n              }));\n\n            case 4:\n              _this.setState({\n                secours: 'SAMARITAIN EN AIDE ...'\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.idSamaritain = _this.props.navigation.state.params.idSamaritain;\n    _this.state = {\n      secours: 'ACCEPTER DE VENIR AU SECOURS'\n    };\n    return _this;\n  }\n\n  _createClass(UserResponded, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          backgroundColor: \"white\",\n          justifyContent: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: styles.titleContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 17\n        }\n      }, \"Sauvez une vie\"), React.createElement(Text, {\n        style: styles.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 18\n        }\n      }, \"Devenez le premier \\xE0 sauver la personne\"), React.createElement(Text, {\n        style: styles.desc,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 18\n        }\n      }, \"Si vous accepter de venir au secours, vous pouvez voir son emplacement dans la carte\")), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: wp(\"100%\")\n        },\n        source: require(\"../../images/secours.jpg\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }\n      })), React.createElement(TouchableOpacity, {\n        style: styles.buttonContainer,\n        onPress: function onPress() {\n          _this2.asignUserResponder();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.saveText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }\n      }, this.state.secours)), React.createElement(TouchableOpacity, {\n        style: styles.cancelContainer,\n        onPress: function onPress() {\n          _this2.props.navigation.navigate(\"UserConnected\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.saveText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      }, \"REFUSER AU SECOURS\")));\n    }\n  }]);\n\n  return UserResponded;\n}(Component);\n\nvar styles = StyleSheet.create({\n  buttonContainer: {\n    padding: 10,\n    color: \"white\",\n    width: wp(\"70%\"),\n    borderRadius: 10,\n    backgroundColor: \"#008ac8\",\n    alignSelf: \"center\"\n  },\n  cancelContainer: {\n    padding: 10,\n    color: \"white\",\n    width: wp(\"70%\"),\n    borderRadius: 10,\n    backgroundColor: \"#d12e1f\",\n    alignSelf: \"center\",\n    marginTop: 15\n  },\n  titleContainer: {\n    margin: hp(\"2%\")\n  },\n  title: {\n    textAlign: \"left\",\n    fontWeight: \"bold\",\n    fontSize: 18\n  },\n  desc: {\n    fontSize: 14,\n    fontStyle: \"italic\",\n    color: 'gray'\n  },\n  saveText: {\n    color: \"white\",\n    textAlign: \"center\"\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    online_users: store.online_users,\n    user: store.user,\n    contact: store.contact,\n    second: store.second\n  };\n};\n\nvar mapDispatchToProps = {};\nexport default connect(mapStateToProps, mapDispatchToProps)(UserResponded);","map":{"version":3,"sources":["E:/Projets/Acadys/best4sante/SanteV2/assets/Screens/Samaritain/UserResponded.js"],"names":["React","Component","Stylesheet","connect","widthPercentageToDP","wp","heightPercentageToDP","hp","TouchableOpacity","Axios","Bdd","UserResponded","props","asignUserResponder","id","idSamaritain","responder","user","idUser","put","api_url","then","res","console","log","data","setState","secours","navigation","state","params","flex","backgroundColor","justifyContent","styles","titleContainer","title","desc","width","require","buttonContainer","saveText","cancelContainer","navigate","StyleSheet","create","padding","color","borderRadius","alignSelf","marginTop","margin","textAlign","fontWeight","fontSize","fontStyle","mapStateToProps","store","online_users","contact","second","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Text, View,Stylesheet,Image } from 'react-native'\r\nimport { connect } from 'react-redux'\r\nimport { StyleSheet } from 'react-native'\r\nimport {\r\n    widthPercentageToDP as wp,\r\n    heightPercentageToDP as hp,\r\n} from 'react-native-responsive-screen'\r\nimport { TouchableOpacity } from 'react-native-gesture-handler'\r\nimport Axios from 'axios'\r\nimport Bdd from '../../API/Bdd'\r\n\r\n\r\nclass UserResponded extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.idSamaritain = this.props.navigation.state.params.idSamaritain\r\n        this.state = {\r\n            secours: 'ACCEPTER DE VENIR AU SECOURS'\r\n        }\r\n    }\r\n    asignUserResponder = async() =>{\r\n        const id = this.idSamaritain\r\n        const responder = this.props.user.user.idUser\r\n        await Axios.put(`${Bdd.api_url}/samaritain/${id}/respond?idUser=${responder}`)\r\n            .then(res=>{\r\n                console.log(res.data)\r\n        })\r\n        this.setState({\r\n            secours: 'SAMARITAIN EN AIDE ...'\r\n        })\r\n    }\r\n    \r\n    render() {\r\n\r\n        return (\r\n            <View style={{ flex: 1, backgroundColor : \"white\",justifyContent :\"center\" }}>\r\n                <View style={styles.titleContainer}>\r\n                <Text style={styles.title}>Sauvez une vie</Text>\r\n                 <Text style={styles.title}>Devenez le premier à sauver la personne</Text>\r\n                 <Text style={styles.desc}>Si vous accepter de venir au secours, vous pouvez voir son emplacement dans la carte</Text>\r\n\r\n\r\n                </View>\r\n                <View>\r\n                <Image  style={{width : wp(\"100%\")}} source={require(\"../../images/secours.jpg\")} />\r\n\r\n                </View>\r\n                <TouchableOpacity style={styles.buttonContainer} onPress={()=>{this.asignUserResponder()}}>\r\n                   \r\n                    <Text style={styles.saveText}>{this.state.secours}</Text>\r\n                </TouchableOpacity>\r\n\r\n                <TouchableOpacity style={styles.cancelContainer} onPress={()=>{this.props.navigation.navigate(\"UserConnected\")}}>\r\n                   \r\n                <Text style={styles.saveText}>REFUSER AU SECOURS</Text>\r\n                </TouchableOpacity>\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    buttonContainer: {\r\n        padding : 10,\r\n        color : \"white\",\r\n        width : wp(\"70%\"),\r\n        borderRadius: 10,\r\n        backgroundColor: \"#008ac8\",\r\n      alignSelf  : \"center\"\r\n      },\r\n      cancelContainer: {\r\n        padding : 10,\r\n        color : \"white\",\r\n        width : wp(\"70%\"),\r\n        borderRadius: 10,\r\n        backgroundColor: \"#d12e1f\",\r\n        alignSelf  : \"center\",\r\n        marginTop: 15\r\n      },\r\n      titleContainer : {\r\n          margin : hp(\"2%\")\r\n      },\r\n      title : {\r\n        textAlign :\"left\",\r\n        fontWeight : \"bold\",\r\n        fontSize : 18\r\n      },\r\n      desc: {\r\n          fontSize : 14,\r\n          fontStyle : \"italic\",\r\n          color: 'gray'\r\n      },\r\n    saveText : {\r\n        color : \"white\",\r\n        textAlign :\"center\"\r\n    },\r\n})\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        online_users: store.online_users,\r\n        user: store.user,\r\n        contact: store.contact,\r\n        second: store.second\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    \r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserResponded)\r\n"]},"metadata":{},"sourceType":"module"}